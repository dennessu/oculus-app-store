ª16:05:17.520 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
i16:05:17.542 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
÷16:05:17.545 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementRegisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D00000145172BCC4700000001
â16:05:17.639 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
–16:05:17.640 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Suspending current transaction, creating new transaction with name [com.junbo.sharding.id.oculus.OculusGlobalCounterInDBImpl.getAndIncrease]
˘16:05:17.640 [Test worker] DEBUG b.tm.BitronixTransactionManager - suspending transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCC4700000001], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
∆16:05:17.640 [Test worker] DEBUG b.tm.BitronixTransactionManager - clearing current thread context: a ThreadContext (1282194802) with transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCC4700000001], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014), default timeout 60s
_16:05:17.640 [Test worker] DEBUG b.tm.BitronixTransactionManager - beginning a new transaction
d16:05:17.640 [Test worker] DEBUG b.tm.BitronixTransactionManager - dumping 1 transaction context(s)
‚16:05:17.640 [Test worker] DEBUG b.tm.BitronixTransactionManager - a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCC4700000001], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
ñ16:05:17.641 [Test worker] DEBUG bitronix.tm.BitronixTransaction - creating new transaction with GTRID [737072696E672D62746D00000145172BCCC800000002]
Æ16:05:17.641 [Test worker] DEBUG bitronix.tm.internal.ThreadContext - assigning <a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=NO_TRANSACTION, 0 resource(s) enlisted (started null)> to <a ThreadContext (1282194802) with transaction null, default timeout 60s>
i16:05:17.641 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to ACTIVE
ö16:05:17.641 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from NO_TRANSACTION to ACTIVE - executing 0 listener(s)
™16:05:17.641 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - scheduling transaction timeout task on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014) for Mon Mar 31 16:06:17 CST 2014
Û16:05:17.641 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - removing task by a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ã16:05:17.641 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - scheduled a TransactionTimeoutTask on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014) scheduled for Mon Mar 31 16:06:17 CST 2014, total task(s) queued: 5
y16:05:17.641 [Test worker] DEBUG b.tm.BitronixTransactionManager - begun new transaction at Mon Mar 31 16:05:17 CST 2014
ƒ16:05:17.645 [Test worker] DEBUG o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'IdGlobalCounterDAOImpl.get' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
â16:05:17.645 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
i16:05:17.646 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
º16:05:17.681 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@2f5a73a0
p16:05:17.682 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:17.682 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531176
¶16:05:17.683 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@6da6fd38
]16:05:17.716 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:17.717 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
ƒ16:05:17.717 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
í16:05:17.717 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCCC800000002]
Ä16:05:17.717 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
…16:05:17.717 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available), waiting if necessary
Ø16:05:17.717 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 - closing time: 1396253174727, now time: 1396253117717
Ω16:05:17.717 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
Ó16:05:17.717 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
´16:05:17.717 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
˝16:05:17.717 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
≠16:05:17.717 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
Ú16:05:17.718 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 to the accessible pool
ô16:05:17.718 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@552940f3 was in state IN_POOL, testing it
Ä16:05:17.718 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3, skipping test
Ì16:05:17.718 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
Õ16:05:17.718 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:17.718 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:17.718 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
ï16:05:17.719 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@552940f3 belongs to a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
…16:05:17.720 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D00000145172BCCC800000002 : 737072696E672D62746D00000145172BCD1800000003]
ø16:05:17.720 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D00000145172BCCC800000002 : 737072696E672D62746D00000145172BCD1800000003]> to <an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@552940f3 with XID null>
ø16:05:17.720 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@552940f3 with XID a Bitronix XID [737072696E672D62746D00000145172BCCC800000002 : 737072696E672D62746D00000145172BCD1800000003] with NOFLAGS
»16:05:17.720 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@552940f3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCCC800000002 : 737072696E672D62746D00000145172BCD1800000003] with NOFLAGS
‚16:05:17.720 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@552940f3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCCC800000002 : 737072696E672D62746D00000145172BCD1800000003]] on a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
Õ16:05:17.720 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D00000145172BCCC800000002] previously unknown to a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3, adding it to the resource's transactions list
|16:05:17.736 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:05:17.746 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 0 -> shardId [1]
i16:05:17.748 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:05:17.770 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:05:17.772 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#2]
]16:05:17.777 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:17.777 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@3bf0c2fd
‰16:05:17.777 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
Å16:05:17.777 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
à16:05:17.777 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
Å16:05:17.777 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
à16:05:17.777 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
16:05:17.777 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
§16:05:17.778 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ç16:05:17.778 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
µ16:05:17.778 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
l16:05:17.778 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:17.778 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from the accessible pool
á16:05:17.778 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
∏16:05:17.778 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
¯16:05:17.778 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 to the inaccessible pool
Á16:05:17.778 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
\16:05:17.778 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
Ü16:05:17.779 [Test worker] DEBUG o.h.e.j.i.p.ConnectionProxyHandler - HHH000163: Logical connection releasing its physical connection
ï16:05:17.780 [Test worker] DEBUG o.h.engine.internal.TwoPhaseLoad - Resolving associations for [com.junbo.sharding.id.model.IdGlobalCounterEntity#2]
î16:05:17.782 [Test worker] DEBUG o.h.engine.internal.TwoPhaseLoad - Done materializing entity [com.junbo.sharding.id.model.IdGlobalCounterEntity#2]
h16:05:17.782 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
Õ16:05:17.783 [Test worker] DEBUG o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'IdGlobalCounterDAOImpl.saveOrUpdate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
â16:05:17.783 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
i16:05:17.783 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
h16:05:17.785 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:17.786 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:17.790 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
ä16:05:17.790 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:17.791 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:05:17.791 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=2, shardId=0, globalCounter=61, optionMode=2}
|16:05:17.791 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: id_global_counter
÷16:05:17.797 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementRegisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D00000145172BCCC800000002
]16:05:17.814 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:17.814 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:17.814 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:17.814 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCCC800000002]
Ö16:05:17.814 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
ô16:05:17.814 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
ï16:05:17.815 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCCC800000002
ò16:05:17.815 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:05:17.815 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:05:17.815 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
π16:05:17.816 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
¸16:05:17.816 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 from the inaccessible pool
ã16:05:17.816 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
¥16:05:17.816 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
â16:05:17.816 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
©16:05:17.817 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ú16:05:17.817 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 to the accessible pool
®16:05:17.817 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@552940f3 was in state NOT_ACCESSIBLE, no need to test it
Ì16:05:17.817 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
Õ16:05:17.817 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:17.818 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:17.818 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ú16:05:17.818 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@552940f3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCCC800000002 : 737072696E672D62746D00000145172BCD1800000003]
á16:05:17.818 [Test worker] DEBUG org.hibernate.SQL - update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
]Hibernate: update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
`16:05:17.819 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:17.821 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
]16:05:17.822 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:17.822 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@3bf0c2fd
‰16:05:17.822 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
Å16:05:17.822 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
à16:05:17.822 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
Å16:05:17.822 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
à16:05:17.822 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
16:05:17.822 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
§16:05:17.822 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ç16:05:17.823 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
µ16:05:17.823 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
l16:05:17.823 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:17.824 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from the accessible pool
á16:05:17.824 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
∏16:05:17.824 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
¯16:05:17.824 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 to the inaccessible pool
Á16:05:17.824 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
\16:05:17.824 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
]16:05:17.825 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:17.825 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:17.825 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:17.825 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCCC800000002]
Ö16:05:17.825 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
ô16:05:17.825 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
ï16:05:17.825 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCCC800000002
ò16:05:17.825 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:05:17.825 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:05:17.825 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
π16:05:17.825 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
¸16:05:17.825 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 from the inaccessible pool
ã16:05:17.826 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
¥16:05:17.826 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
â16:05:17.826 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
©16:05:17.826 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ú16:05:17.826 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 to the accessible pool
®16:05:17.826 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@552940f3 was in state NOT_ACCESSIBLE, no need to test it
Ì16:05:17.826 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
Õ16:05:17.826 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:17.826 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:17.826 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ú16:05:17.826 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@552940f3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCCC800000002 : 737072696E672D62746D00000145172BCD1800000003]
|16:05:17.826 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:05:17.827 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 0 -> shardId [1]
i16:05:17.830 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:05:17.833 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:05:17.833 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#2]
]16:05:17.833 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:17.833 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@3bf0c2fd
‰16:05:17.833 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
Å16:05:17.834 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
à16:05:17.834 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
Å16:05:17.834 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
à16:05:17.835 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
16:05:17.835 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
§16:05:17.835 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ç16:05:17.835 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
µ16:05:17.835 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
l16:05:17.835 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:17.835 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from the accessible pool
á16:05:17.835 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
∏16:05:17.835 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
¯16:05:17.835 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 to the inaccessible pool
Á16:05:17.835 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
\16:05:17.835 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:17.835 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
h16:05:17.842 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:17.842 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:17.842 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
ä16:05:17.843 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:17.843 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:05:17.843 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=2, shardId=0, globalCounter=61, optionMode=2}
|16:05:17.843 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: id_global_counter
]16:05:17.843 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:17.843 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:17.843 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:17.844 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCCC800000002]
Ö16:05:17.844 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
ô16:05:17.844 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
ï16:05:17.844 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCCC800000002
ò16:05:17.844 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:05:17.844 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:05:17.844 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
π16:05:17.844 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
¸16:05:17.844 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 from the inaccessible pool
ã16:05:17.844 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
¥16:05:17.844 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
â16:05:17.844 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
©16:05:17.844 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ú16:05:17.844 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 to the accessible pool
®16:05:17.844 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@552940f3 was in state NOT_ACCESSIBLE, no need to test it
Ì16:05:17.846 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
Õ16:05:17.846 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:17.846 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:17.847 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ú16:05:17.847 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@552940f3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCCC800000002 : 737072696E672D62746D00000145172BCD1800000003]
á16:05:17.848 [Test worker] DEBUG org.hibernate.SQL - update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
]Hibernate: update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
`16:05:17.849 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:17.850 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
]16:05:17.851 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:17.851 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@3bf0c2fd
‰16:05:17.851 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
Å16:05:17.851 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
à16:05:17.851 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
Å16:05:17.851 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
à16:05:17.851 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
16:05:17.851 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
§16:05:17.851 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ç16:05:17.851 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
µ16:05:17.851 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
l16:05:17.851 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:17.851 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from the accessible pool
á16:05:17.851 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
∏16:05:17.852 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
¯16:05:17.852 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 to the inaccessible pool
Á16:05:17.852 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
\16:05:17.852 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
]16:05:17.852 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:17.852 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:17.853 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:17.853 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCCC800000002]
Ö16:05:17.854 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
ô16:05:17.854 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
ï16:05:17.854 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCCC800000002
ò16:05:17.854 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:05:17.854 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:05:17.854 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
π16:05:17.855 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
¸16:05:17.855 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 from the inaccessible pool
ã16:05:17.855 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
¥16:05:17.855 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
â16:05:17.855 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
©16:05:17.856 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ú16:05:17.856 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 to the accessible pool
®16:05:17.856 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@552940f3 was in state NOT_ACCESSIBLE, no need to test it
Ì16:05:17.856 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
Õ16:05:17.856 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:17.856 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:17.856 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ú16:05:17.856 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@552940f3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCCC800000002 : 737072696E672D62746D00000145172BCD1800000003]
|16:05:17.857 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:05:17.857 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 0 -> shardId [1]
i16:05:17.857 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:05:17.858 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:05:17.858 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#2]
]16:05:17.858 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:17.859 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@3bf0c2fd
‰16:05:17.859 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
Å16:05:17.859 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
à16:05:17.859 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
Å16:05:17.859 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
à16:05:17.859 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
16:05:17.859 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
§16:05:17.859 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ç16:05:17.859 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
µ16:05:17.859 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
l16:05:17.859 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:17.859 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from the accessible pool
á16:05:17.859 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
∏16:05:17.859 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
¯16:05:17.859 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 to the inaccessible pool
Á16:05:17.860 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
\16:05:17.860 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:17.860 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
h16:05:17.861 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:17.861 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:17.862 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
ä16:05:17.862 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:17.862 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:05:17.862 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=2, shardId=0, globalCounter=61, optionMode=2}
]16:05:17.862 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:17.862 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:17.863 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:17.863 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCCC800000002]
Ö16:05:17.863 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
ô16:05:17.863 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
ï16:05:17.863 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCCC800000002
ò16:05:17.863 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:05:17.863 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:05:17.863 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
π16:05:17.863 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
¸16:05:17.863 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 from the inaccessible pool
ã16:05:17.865 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
¥16:05:17.866 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
â16:05:17.866 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
©16:05:17.866 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ú16:05:17.866 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 to the accessible pool
®16:05:17.866 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@552940f3 was in state NOT_ACCESSIBLE, no need to test it
Ì16:05:17.867 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
Õ16:05:17.869 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:17.870 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:17.871 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ú16:05:17.872 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@552940f3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCCC800000002 : 737072696E672D62746D00000145172BCD1800000003]
|16:05:17.873 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:05:17.874 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 0 -> shardId [1]
i16:05:17.874 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:05:17.876 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:05:17.876 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#2]
]16:05:17.876 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:17.876 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@3bf0c2fd
‰16:05:17.877 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@552940f3
Å16:05:17.877 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
à16:05:17.877 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
Å16:05:17.877 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
à16:05:17.877 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
16:05:17.877 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
§16:05:17.877 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ç16:05:17.877 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
µ16:05:17.877 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
l16:05:17.877 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:17.877 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from the accessible pool
á16:05:17.877 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
∏16:05:17.877 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
¯16:05:17.877 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 to the inaccessible pool
Á16:05:17.877 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
\16:05:17.877 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:17.878 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
a16:05:17.878 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Initiating transaction commit
˘16:05:17.878 [Test worker] DEBUG b.tm.BitronixTransactionManager - committing transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
â16:05:17.878 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - cancelling transaction timeout task on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Û16:05:17.879 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - removing task by a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
“16:05:17.879 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - cancelled a TransactionTimeoutTask on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014) scheduled for Mon Mar 31 16:06:17 CST 2014, total task(s) still queued: 4
v16:05:17.879 [Test worker] DEBUG bitronix.tm.BitronixTransaction - before completion, 4 synchronization(s) to execute
î16:05:17.881 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a DeferredReleaseSynchronization of a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
û16:05:17.881 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a ClearContextSynchronization for a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
∫16:05:17.881 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@2f5a73a0
h16:05:17.882 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:17.882 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:17.883 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
ä16:05:17.884 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:17.886 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:05:17.886 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=2, shardId=0, globalCounter=61, optionMode=2}
]16:05:17.886 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
§16:05:17.886 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@6da6fd38
“16:05:17.889 [Test worker] DEBUG bitronix.tm.BitronixTransaction - found unclosed resource to delist: an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@552940f3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCCC800000002 : 737072696E672D62746D00000145172BCD1800000003]
¬16:05:17.890 [Test worker] DEBUG b.tm.internal.XAResourceManager - delisting resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@552940f3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCCC800000002 : 737072696E672D62746D00000145172BCD1800000003]
«16:05:17.890 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - ending an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@552940f3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCCC800000002 : 737072696E672D62746D00000145172BCD1800000003] with SUCCESS
∆16:05:17.891 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - ended an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@552940f3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCCC800000002 : 737072696E672D62746D00000145172BCD1800000003] with SUCCESS
f16:05:17.892 [Test worker] DEBUG bitronix.tm.BitronixTransaction - committing, 1 enlisted resource(s)
l16:05:17.892 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to PREPARING
ï16:05:17.892 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from ACTIVE to PREPARING - executing 0 listener(s)
k16:05:17.892 [Test worker] DEBUG bitronix.tm.twopc.Preparer - 1 resource enlisted, no prepare needed (1PC)
k16:05:17.892 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to PREPARED
ó16:05:17.892 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from PREPARING to PREPARED - executing 0 listener(s)
\16:05:17.892 [Test worker] DEBUG bitronix.tm.BitronixTransaction - 1 interested resource(s)
m16:05:17.892 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to COMMITTING
ò16:05:17.892 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from PREPARED to COMMITTING - executing 0 listener(s)
ó16:05:17.893 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - executing phase on 1 resource(s) enlisted in 1 position(s) in reverse position order
d16:05:17.894 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - running 1 job(s) for position '1'
€16:05:17.895 [Test worker] DEBUG bitronix.tm.twopc.Committer - committing resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@552940f3 (ended) with XID a Bitronix XID [737072696E672D62746D00000145172BCCC800000002 : 737072696E672D62746D00000145172BCD1800000003] (with one-phase optimization)
º16:05:17.897 [Test worker] DEBUG bitronix.tm.twopc.Committer - committed resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@552940f3 (ended) with XID a Bitronix XID [737072696E672D62746D00000145172BCCC800000002 : 737072696E672D62746D00000145172BCD1800000003]
e16:05:17.898 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - phase executed with 0 exception(s)
`16:05:17.898 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - ran 1 job(s) for position '1'
t16:05:17.898 [Test worker] DEBUG bitronix.tm.twopc.Committer - phase 2 commit executed on resources [jdbc/sharding]
u16:05:17.899 [Test worker] DEBUG bitronix.tm.twopc.Committer - phase 2 commit succeeded on resources [jdbc/sharding]
l16:05:17.899 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to COMMITTED
ô16:05:17.899 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from COMMITTING to COMMITTED - executing 0 listener(s)
¸16:05:17.899 [Test worker] DEBUG bitronix.tm.BitronixTransaction - successfully committed a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=COMMITTED, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
u16:05:17.900 [Test worker] DEBUG b.tm.internal.XAResourceManager - clearing XAResourceHolder states on 1 resource(s)
Ô16:05:17.900 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - removing XAResourceHolderState of xid a Bitronix XID [737072696E672D62746D00000145172BCCC800000002 : 737072696E672D62746D00000145172BCD1800000003] from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
∫16:05:17.900 [Test worker] DEBUG b.tm.internal.XAResourceManager - resource a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 cleaned up all transaction states for GTRID [737072696E672D62746D00000145172BCCC800000002]
u16:05:17.900 [Test worker] DEBUG bitronix.tm.BitronixTransaction - after completion, 4 synchronization(s) to execute
–16:05:17.900 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@2f5a73a0 with status=COMMITTED
j16:05:17.900 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Aggressively releasing JDBC connection
m16:05:17.901 [Test worker] DEBUG o.h.e.j.internal.JdbcCoordinatorImpl - HHH000420: Closing un-released batch
∫16:05:17.903 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@6da6fd38 with status=COMMITTED
∑16:05:17.903 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a ClearContextSynchronization for a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=COMMITTED, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014) with status=COMMITTED
“16:05:17.903 [Test worker] DEBUG b.tm.BitronixTransactionManager - clearing transaction from thread context: a ThreadContext (1282194802) with transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=COMMITTED, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014), default timeout 60s
ó16:05:17.903 [Test worker] DEBUG b.tm.BitronixTransactionManager - removing transaction from in-flight transactions: a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCCC800000002], status=COMMITTED, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
™16:05:17.903 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a DeferredReleaseSynchronization of a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 with status=COMMITTED
Ü16:05:17.903 [Test worker] DEBUG b.t.r.c.DeferredReleaseSynchronization - DeferredReleaseSynchronization requeuing a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
∂16:05:17.903 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
l16:05:17.903 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
¸16:05:17.903 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 from the inaccessible pool
à16:05:17.903 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
Æ16:05:17.904 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
Ó16:05:17.904 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3 to the available pool
˛16:05:17.904 [Test worker] DEBUG b.t.r.c.DeferredReleaseSynchronization - DeferredReleaseSynchronization requeued a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@552940f3
à16:05:17.904 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Resuming suspended transaction after completion of inner transaction
Î16:05:17.904 [Test worker] DEBUG b.tm.BitronixTransactionManager - resuming a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCC4700000001], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
æ16:05:17.904 [Test worker] DEBUG bitronix.tm.internal.ThreadContext - assigning <a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCC4700000001], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)> to <a ThreadContext (1282194802) with transaction null, default timeout 60s>
º16:05:17.905 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@706a420d
p16:05:17.905 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:17.905 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531179
¶16:05:17.905 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@1aaeba47
ë16:05:17.908 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023426560, using strategy: org.hibernate.id.Assigned
ë16:05:17.914 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023442944, using strategy: org.hibernate.id.Assigned
ë16:05:17.934 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023459328, using strategy: org.hibernate.id.Assigned
ë16:05:17.934 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023475712, using strategy: org.hibernate.id.Assigned
ë16:05:17.935 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023492096, using strategy: org.hibernate.id.Assigned
ë16:05:17.936 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023508480, using strategy: org.hibernate.id.Assigned
ë16:05:17.936 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023524864, using strategy: org.hibernate.id.Assigned
ë16:05:17.937 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023541248, using strategy: org.hibernate.id.Assigned
ë16:05:17.938 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023557632, using strategy: org.hibernate.id.Assigned
i16:05:17.952 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
º16:05:17.953 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@4d6c32dd
p16:05:17.953 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:17.953 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531179
¶16:05:17.953 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@495ed8b8
ë16:05:17.954 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023574016, using strategy: org.hibernate.id.Assigned
ë16:05:17.955 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023590400, using strategy: org.hibernate.id.Assigned
ë16:05:17.955 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023606784, using strategy: org.hibernate.id.Assigned
ë16:05:17.956 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023623168, using strategy: org.hibernate.id.Assigned
ë16:05:17.957 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023639552, using strategy: org.hibernate.id.Assigned
ë16:05:17.958 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023655936, using strategy: org.hibernate.id.Assigned
ë16:05:17.958 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023672320, using strategy: org.hibernate.id.Assigned
ë16:05:17.959 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023688704, using strategy: org.hibernate.id.Assigned
ë16:05:17.960 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023705088, using strategy: org.hibernate.id.Assigned
i16:05:17.962 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
i16:05:17.963 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
i16:05:17.965 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
i16:05:17.965 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
i16:05:17.985 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
â16:05:17.985 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
–16:05:17.985 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Suspending current transaction, creating new transaction with name [com.junbo.sharding.id.oculus.OculusGlobalCounterInDBImpl.getAndIncrease]
˘16:05:17.985 [Test worker] DEBUG b.tm.BitronixTransactionManager - suspending transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE1F00000006], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
∆16:05:17.985 [Test worker] DEBUG b.tm.BitronixTransactionManager - clearing current thread context: a ThreadContext (1282194802) with transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE1F00000006], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014), default timeout 60s
_16:05:17.985 [Test worker] DEBUG b.tm.BitronixTransactionManager - beginning a new transaction
d16:05:17.985 [Test worker] DEBUG b.tm.BitronixTransactionManager - dumping 1 transaction context(s)
‚16:05:17.985 [Test worker] DEBUG b.tm.BitronixTransactionManager - a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE1F00000006], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
ñ16:05:17.985 [Test worker] DEBUG bitronix.tm.BitronixTransaction - creating new transaction with GTRID [737072696E672D62746D00000145172BCE2100000007]
Æ16:05:17.985 [Test worker] DEBUG bitronix.tm.internal.ThreadContext - assigning <a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=NO_TRANSACTION, 0 resource(s) enlisted (started null)> to <a ThreadContext (1282194802) with transaction null, default timeout 60s>
i16:05:17.986 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to ACTIVE
ö16:05:17.986 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from NO_TRANSACTION to ACTIVE - executing 0 listener(s)
™16:05:17.986 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - scheduling transaction timeout task on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014) for Mon Mar 31 16:06:17 CST 2014
Û16:05:17.986 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - removing task by a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ã16:05:17.986 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - scheduled a TransactionTimeoutTask on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014) scheduled for Mon Mar 31 16:06:17 CST 2014, total task(s) queued: 5
y16:05:17.986 [Test worker] DEBUG b.tm.BitronixTransactionManager - begun new transaction at Mon Mar 31 16:05:17 CST 2014
â16:05:17.986 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
i16:05:17.986 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
º16:05:17.987 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@287a8d4b
p16:05:17.987 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:17.987 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531179
¶16:05:17.987 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@1df3794c
]16:05:17.987 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:17.987 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
ƒ16:05:17.987 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
í16:05:17.987 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCE2100000007]
Ä16:05:17.987 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
…16:05:17.987 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available), waiting if necessary
Æ16:05:17.987 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 - closing time: 1396253175108, now time: 1396253117987
º16:05:17.987 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
Ì16:05:17.988 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
™16:05:17.988 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
¸16:05:17.988 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
¨16:05:17.988 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ò16:05:17.988 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 to the accessible pool
ò16:05:17.988 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@ff061b3 was in state IN_POOL, testing it
ˇ16:05:17.988 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3, skipping test
Ï16:05:17.988 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Õ16:05:17.988 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:17.988 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Ä16:05:17.988 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
ì16:05:17.988 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@ff061b3 belongs to a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
…16:05:17.988 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D00000145172BCE2100000007 : 737072696E672D62746D00000145172BCE2400000008]
æ16:05:17.988 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D00000145172BCE2100000007 : 737072696E672D62746D00000145172BCE2400000008]> to <an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@ff061b3 with XID null>
æ16:05:17.989 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@ff061b3 with XID a Bitronix XID [737072696E672D62746D00000145172BCE2100000007 : 737072696E672D62746D00000145172BCE2400000008] with NOFLAGS
«16:05:17.989 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@ff061b3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE2100000007 : 737072696E672D62746D00000145172BCE2400000008] with NOFLAGS
‡16:05:17.989 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@ff061b3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE2100000007 : 737072696E672D62746D00000145172BCE2400000008]] on a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ã16:05:17.989 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D00000145172BCE2100000007] previously unknown to a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3, adding it to the resource's transactions list
|16:05:17.989 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:05:17.989 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 1 -> shardId [1]
i16:05:17.989 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:05:17.992 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:05:17.992 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
]16:05:17.992 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
◊16:05:17.992 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@7dae7a58
„16:05:17.992 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ä16:05:17.993 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
á16:05:17.993 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ä16:05:17.993 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
á16:05:17.993 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ô16:05:17.993 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
£16:05:17.993 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Å16:05:17.993 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
¥16:05:17.993 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
l16:05:17.993 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ı16:05:17.993 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from the accessible pool
Ü16:05:17.993 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
∑16:05:17.993 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
˜16:05:17.993 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 to the inaccessible pool
Ê16:05:17.993 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
\16:05:17.993 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
Ü16:05:17.993 [Test worker] DEBUG o.h.e.j.i.p.ConnectionProxyHandler - HHH000163: Logical connection releasing its physical connection
ï16:05:17.993 [Test worker] DEBUG o.h.engine.internal.TwoPhaseLoad - Resolving associations for [com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
î16:05:17.994 [Test worker] DEBUG o.h.engine.internal.TwoPhaseLoad - Done materializing entity [com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
h16:05:17.994 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
â16:05:17.994 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
i16:05:17.994 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
h16:05:17.994 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:17.994 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:17.994 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
ä16:05:17.995 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:17.995 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:05:17.995 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=1, shardId=1, globalCounter=44, optionMode=2}
|16:05:17.995 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: id_global_counter
]16:05:17.995 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:17.995 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:17.995 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:17.995 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCE2100000007]
Ñ16:05:17.995 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
ò16:05:17.995 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
ï16:05:17.995 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCE2100000007
ò16:05:17.995 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
 16:05:17.995 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
Ù16:05:17.995 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
∏16:05:17.995 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
˚16:05:17.995 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from the inaccessible pool
ä16:05:17.995 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
≥16:05:17.995 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
à16:05:17.996 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
®16:05:17.996 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ò16:05:17.996 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 to the accessible pool
ß16:05:17.996 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@ff061b3 was in state NOT_ACCESSIBLE, no need to test it
Ï16:05:17.996 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Õ16:05:17.996 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:17.997 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Ä16:05:17.997 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ò16:05:17.997 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@ff061b3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE2100000007 : 737072696E672D62746D00000145172BCE2400000008]
á16:05:17.998 [Test worker] DEBUG org.hibernate.SQL - update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
]Hibernate: update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
`16:05:18.001 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:18.002 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
]16:05:18.002 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
◊16:05:18.003 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@7dae7a58
„16:05:18.003 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ä16:05:18.004 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
á16:05:18.004 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ä16:05:18.004 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
á16:05:18.004 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ô16:05:18.004 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
£16:05:18.004 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Å16:05:18.004 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
¥16:05:18.004 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
l16:05:18.004 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ı16:05:18.005 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from the accessible pool
Ü16:05:18.005 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
∑16:05:18.007 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
˜16:05:18.008 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 to the inaccessible pool
Ê16:05:18.008 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
\16:05:18.008 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
]16:05:18.008 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:18.008 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:18.008 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:18.008 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCE2100000007]
Ñ16:05:18.008 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
ò16:05:18.008 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
ï16:05:18.008 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCE2100000007
ò16:05:18.008 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
 16:05:18.008 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
Ù16:05:18.008 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
∏16:05:18.008 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
˚16:05:18.008 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from the inaccessible pool
ä16:05:18.008 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
≥16:05:18.008 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
à16:05:18.008 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
®16:05:18.009 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ò16:05:18.009 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 to the accessible pool
ß16:05:18.009 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@ff061b3 was in state NOT_ACCESSIBLE, no need to test it
Ï16:05:18.009 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Õ16:05:18.009 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:18.009 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Ä16:05:18.009 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ò16:05:18.009 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@ff061b3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE2100000007 : 737072696E672D62746D00000145172BCE2400000008]
|16:05:18.009 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:05:18.009 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 1 -> shardId [1]
i16:05:18.009 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:05:18.013 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:05:18.013 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
]16:05:18.013 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
◊16:05:18.013 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@7dae7a58
„16:05:18.014 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ä16:05:18.015 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
á16:05:18.017 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ä16:05:18.017 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
á16:05:18.017 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ô16:05:18.017 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
£16:05:18.018 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Å16:05:18.018 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
¥16:05:18.018 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
l16:05:18.018 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ı16:05:18.018 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from the accessible pool
Ü16:05:18.018 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
∑16:05:18.018 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
˜16:05:18.018 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 to the inaccessible pool
Ê16:05:18.018 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
\16:05:18.018 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:18.018 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
h16:05:18.020 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:18.020 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:18.020 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
ä16:05:18.020 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:18.020 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:05:18.020 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=1, shardId=1, globalCounter=44, optionMode=2}
|16:05:18.020 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: id_global_counter
]16:05:18.021 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:18.021 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:18.021 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:18.021 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCE2100000007]
Ñ16:05:18.021 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
ò16:05:18.021 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
ï16:05:18.021 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCE2100000007
ò16:05:18.021 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
 16:05:18.021 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
Ù16:05:18.021 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
∏16:05:18.021 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
˚16:05:18.021 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from the inaccessible pool
ä16:05:18.021 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
≥16:05:18.021 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
à16:05:18.021 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
®16:05:18.021 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ò16:05:18.021 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 to the accessible pool
ß16:05:18.022 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@ff061b3 was in state NOT_ACCESSIBLE, no need to test it
Ï16:05:18.025 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Õ16:05:18.025 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:18.025 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Ä16:05:18.025 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ò16:05:18.025 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@ff061b3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE2100000007 : 737072696E672D62746D00000145172BCE2400000008]
á16:05:18.025 [Test worker] DEBUG org.hibernate.SQL - update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
]Hibernate: update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
`16:05:18.026 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:18.027 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
]16:05:18.027 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
◊16:05:18.028 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@7dae7a58
„16:05:18.028 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ä16:05:18.028 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
á16:05:18.028 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ä16:05:18.028 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
á16:05:18.028 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ô16:05:18.028 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
£16:05:18.028 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Å16:05:18.028 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
¥16:05:18.028 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
l16:05:18.028 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ı16:05:18.028 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from the accessible pool
Ü16:05:18.028 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
∑16:05:18.028 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
˜16:05:18.028 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 to the inaccessible pool
Ê16:05:18.028 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
\16:05:18.029 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
]16:05:18.029 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:18.029 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:18.029 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:18.029 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCE2100000007]
Ñ16:05:18.029 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
ò16:05:18.030 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
ï16:05:18.031 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCE2100000007
ò16:05:18.031 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
 16:05:18.032 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
Ù16:05:18.032 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
∏16:05:18.032 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
˚16:05:18.032 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from the inaccessible pool
ä16:05:18.032 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
≥16:05:18.033 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
à16:05:18.033 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
®16:05:18.034 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ò16:05:18.034 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 to the accessible pool
ß16:05:18.034 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@ff061b3 was in state NOT_ACCESSIBLE, no need to test it
Ï16:05:18.034 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Õ16:05:18.034 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:18.034 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Ä16:05:18.035 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ò16:05:18.035 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@ff061b3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE2100000007 : 737072696E672D62746D00000145172BCE2400000008]
|16:05:18.036 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:05:18.037 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 1 -> shardId [1]
i16:05:18.038 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:05:18.040 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:05:18.040 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
]16:05:18.040 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
◊16:05:18.041 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@7dae7a58
„16:05:18.041 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ä16:05:18.041 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
á16:05:18.041 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ä16:05:18.041 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
á16:05:18.041 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ô16:05:18.041 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
£16:05:18.041 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Å16:05:18.041 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
¥16:05:18.041 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
l16:05:18.041 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ı16:05:18.041 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from the accessible pool
Ü16:05:18.041 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
∑16:05:18.041 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
˜16:05:18.041 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 to the inaccessible pool
Ê16:05:18.041 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
\16:05:18.041 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:18.041 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
h16:05:18.042 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:18.042 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:18.042 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
ä16:05:18.042 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:18.042 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:05:18.042 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=1, shardId=1, globalCounter=44, optionMode=2}
]16:05:18.042 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:18.042 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:18.042 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:18.042 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCE2100000007]
Ñ16:05:18.042 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
ò16:05:18.042 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
ï16:05:18.043 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCE2100000007
ò16:05:18.043 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
 16:05:18.043 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
Ù16:05:18.043 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
∏16:05:18.043 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
˚16:05:18.045 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from the inaccessible pool
ä16:05:18.045 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
≥16:05:18.045 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
à16:05:18.046 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
®16:05:18.046 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ò16:05:18.046 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 to the accessible pool
ß16:05:18.047 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@ff061b3 was in state NOT_ACCESSIBLE, no need to test it
Ï16:05:18.047 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
ÿ16:05:18.048 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementUnregisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D00000145172BCCC800000002
ÿ16:05:18.048 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementUnregisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D00000145172BCC4700000001
÷16:05:18.048 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementRegisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D00000145172BCE1F00000006
÷16:05:18.048 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementRegisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D00000145172BCE2100000007
Õ16:05:18.049 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:18.050 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Ä16:05:18.050 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Ò16:05:18.050 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@ff061b3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE2100000007 : 737072696E672D62746D00000145172BCE2400000008]
|16:05:18.050 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:05:18.051 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 1 -> shardId [1]
i16:05:18.051 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:05:18.053 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:05:18.054 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
]16:05:18.054 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
◊16:05:18.055 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@7dae7a58
„16:05:18.055 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ä16:05:18.055 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
á16:05:18.055 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ä16:05:18.055 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
á16:05:18.055 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ô16:05:18.055 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
£16:05:18.055 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Å16:05:18.056 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
¥16:05:18.056 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
l16:05:18.056 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ı16:05:18.056 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from the accessible pool
Ü16:05:18.056 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
∑16:05:18.056 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
˜16:05:18.056 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 to the inaccessible pool
Ê16:05:18.056 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
\16:05:18.056 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:18.056 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
a16:05:18.056 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Initiating transaction commit
˘16:05:18.056 [Test worker] DEBUG b.tm.BitronixTransactionManager - committing transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
â16:05:18.056 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - cancelling transaction timeout task on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
Û16:05:18.056 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - removing task by a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
“16:05:18.056 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - cancelled a TransactionTimeoutTask on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014) scheduled for Mon Mar 31 16:06:17 CST 2014, total task(s) still queued: 4
v16:05:18.056 [Test worker] DEBUG bitronix.tm.BitronixTransaction - before completion, 4 synchronization(s) to execute
ì16:05:18.057 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a DeferredReleaseSynchronization of a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
û16:05:18.057 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a ClearContextSynchronization for a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
∫16:05:18.057 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@287a8d4b
h16:05:18.057 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:18.057 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:18.057 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
ä16:05:18.058 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:18.058 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:05:18.058 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=1, shardId=1, globalCounter=44, optionMode=2}
]16:05:18.058 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
§16:05:18.058 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@1df3794c
—16:05:18.058 [Test worker] DEBUG bitronix.tm.BitronixTransaction - found unclosed resource to delist: an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@ff061b3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE2100000007 : 737072696E672D62746D00000145172BCE2400000008]
¡16:05:18.058 [Test worker] DEBUG b.tm.internal.XAResourceManager - delisting resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@ff061b3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE2100000007 : 737072696E672D62746D00000145172BCE2400000008]
∆16:05:18.059 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - ending an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@ff061b3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE2100000007 : 737072696E672D62746D00000145172BCE2400000008] with SUCCESS
≈16:05:18.060 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - ended an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@ff061b3 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE2100000007 : 737072696E672D62746D00000145172BCE2400000008] with SUCCESS
f16:05:18.060 [Test worker] DEBUG bitronix.tm.BitronixTransaction - committing, 1 enlisted resource(s)
l16:05:18.060 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to PREPARING
ï16:05:18.061 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from ACTIVE to PREPARING - executing 0 listener(s)
k16:05:18.061 [Test worker] DEBUG bitronix.tm.twopc.Preparer - 1 resource enlisted, no prepare needed (1PC)
k16:05:18.061 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to PREPARED
ó16:05:18.061 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from PREPARING to PREPARED - executing 0 listener(s)
\16:05:18.061 [Test worker] DEBUG bitronix.tm.BitronixTransaction - 1 interested resource(s)
m16:05:18.061 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to COMMITTING
ò16:05:18.061 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from PREPARED to COMMITTING - executing 0 listener(s)
ó16:05:18.062 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - executing phase on 1 resource(s) enlisted in 1 position(s) in reverse position order
d16:05:18.062 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - running 1 job(s) for position '1'
⁄16:05:18.062 [Test worker] DEBUG bitronix.tm.twopc.Committer - committing resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@ff061b3 (ended) with XID a Bitronix XID [737072696E672D62746D00000145172BCE2100000007 : 737072696E672D62746D00000145172BCE2400000008] (with one-phase optimization)
ª16:05:18.063 [Test worker] DEBUG bitronix.tm.twopc.Committer - committed resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@ff061b3 (ended) with XID a Bitronix XID [737072696E672D62746D00000145172BCE2100000007 : 737072696E672D62746D00000145172BCE2400000008]
e16:05:18.063 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - phase executed with 0 exception(s)
`16:05:18.063 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - ran 1 job(s) for position '1'
t16:05:18.063 [Test worker] DEBUG bitronix.tm.twopc.Committer - phase 2 commit executed on resources [jdbc/sharding]
u16:05:18.063 [Test worker] DEBUG bitronix.tm.twopc.Committer - phase 2 commit succeeded on resources [jdbc/sharding]
l16:05:18.063 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to COMMITTED
ô16:05:18.063 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from COMMITTING to COMMITTED - executing 0 listener(s)
¸16:05:18.064 [Test worker] DEBUG bitronix.tm.BitronixTransaction - successfully committed a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=COMMITTED, 1 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
u16:05:18.064 [Test worker] DEBUG b.tm.internal.XAResourceManager - clearing XAResourceHolder states on 1 resource(s)
Ó16:05:18.064 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - removing XAResourceHolderState of xid a Bitronix XID [737072696E672D62746D00000145172BCE2100000007 : 737072696E672D62746D00000145172BCE2400000008] from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
π16:05:18.064 [Test worker] DEBUG b.tm.internal.XAResourceManager - resource a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 cleaned up all transaction states for GTRID [737072696E672D62746D00000145172BCE2100000007]
u16:05:18.064 [Test worker] DEBUG bitronix.tm.BitronixTransaction - after completion, 4 synchronization(s) to execute
–16:05:18.064 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@287a8d4b with status=COMMITTED
j16:05:18.064 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Aggressively releasing JDBC connection
m16:05:18.064 [Test worker] DEBUG o.h.e.j.internal.JdbcCoordinatorImpl - HHH000420: Closing un-released batch
∫16:05:18.064 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@1df3794c with status=COMMITTED
∑16:05:18.064 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a ClearContextSynchronization for a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=COMMITTED, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014) with status=COMMITTED
“16:05:18.064 [Test worker] DEBUG b.tm.BitronixTransactionManager - clearing transaction from thread context: a ThreadContext (1282194802) with transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=COMMITTED, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014), default timeout 60s
ó16:05:18.064 [Test worker] DEBUG b.tm.BitronixTransactionManager - removing transaction from in-flight transactions: a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE2100000007], status=COMMITTED, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
©16:05:18.064 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a DeferredReleaseSynchronization of a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 with status=COMMITTED
Ö16:05:18.065 [Test worker] DEBUG b.t.r.c.DeferredReleaseSynchronization - DeferredReleaseSynchronization requeuing a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
µ16:05:18.065 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
l16:05:18.065 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
˚16:05:18.065 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 from the inaccessible pool
á16:05:18.065 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
≠16:05:18.066 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
Ì16:05:18.066 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3 to the available pool
˝16:05:18.066 [Test worker] DEBUG b.t.r.c.DeferredReleaseSynchronization - DeferredReleaseSynchronization requeued a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@ff061b3
à16:05:18.066 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Resuming suspended transaction after completion of inner transaction
Î16:05:18.066 [Test worker] DEBUG b.tm.BitronixTransactionManager - resuming a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE1F00000006], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)
æ16:05:18.067 [Test worker] DEBUG bitronix.tm.internal.ThreadContext - assigning <a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE1F00000006], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:17 CST 2014)> to <a ThreadContext (1282194802) with transaction null, default timeout 60s>
º16:05:18.067 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@48334e6c
p16:05:18.067 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:18.067 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531180
¶16:05:18.067 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@4b914caa
ê16:05:18.067 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 738213952, using strategy: org.hibernate.id.Assigned
ë16:05:18.068 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023721472, using strategy: org.hibernate.id.Assigned
ë16:05:18.069 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023737856, using strategy: org.hibernate.id.Assigned
ë16:05:18.069 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023754240, using strategy: org.hibernate.id.Assigned
ë16:05:18.070 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023770624, using strategy: org.hibernate.id.Assigned
ë16:05:18.071 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023787008, using strategy: org.hibernate.id.Assigned
ë16:05:18.073 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023803392, using strategy: org.hibernate.id.Assigned
ë16:05:18.073 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023819776, using strategy: org.hibernate.id.Assigned
ë16:05:18.074 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023836160, using strategy: org.hibernate.id.Assigned
«16:05:18.106 [Test worker] DEBUG o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'FulfilmentServiceImpl.fulfill' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
â16:05:18.106 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
i16:05:18.106 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
º16:05:18.107 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@4805a26c
p16:05:18.107 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:18.107 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531181
•16:05:18.107 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@702a68b
]16:05:18.120 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
‘16:05:18.120 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available)
 16:05:18.120 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available)
í16:05:18.120 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCE9100000009]
Ä16:05:18.120 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
œ16:05:18.120 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available), waiting if necessary
¥16:05:18.120 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd - closing time: 1396253176303, now time: 1396253118120
»16:05:18.120 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
Û16:05:18.120 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
∞16:05:18.120 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ç16:05:18.121 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
≤16:05:18.121 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
˜16:05:18.121 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd to the accessible pool
ò16:05:18.121 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@77da0fd was in state IN_POOL, testing it
Ö16:05:18.121 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd, skipping test
Ú16:05:18.121 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
”16:05:18.121 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
\16:05:18.121 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Ü16:05:18.121 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
Ü16:05:18.121 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@77da0fd does not belong to any resource of a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
ü16:05:18.121 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@77da0fd belongs to a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
…16:05:18.121 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D00000145172BCE9100000009 : 737072696E672D62746D00000145172BCEA90000000A]
ƒ16:05:18.121 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D00000145172BCE9100000009 : 737072696E672D62746D00000145172BCEA90000000A]> to <an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@77da0fd with XID null>
ƒ16:05:18.122 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@77da0fd with XID a Bitronix XID [737072696E672D62746D00000145172BCE9100000009 : 737072696E672D62746D00000145172BCEA90000000A] with NOFLAGS
Õ16:05:18.122 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@77da0fd (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE9100000009 : 737072696E672D62746D00000145172BCEA90000000A] with NOFLAGS
Ï16:05:18.122 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@77da0fd (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE9100000009 : 737072696E672D62746D00000145172BCEA90000000A]] on a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
“16:05:18.122 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D00000145172BCE9100000009] previously unknown to a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd, adding it to the resource's transactions list
å16:05:18.122 [Test worker] DEBUG org.hibernate.SQL - select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.tracking_guid=?
‚Hibernate: select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.tracking_guid=?
]16:05:18.130 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
›16:05:18.130 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2c98acfa
È16:05:18.130 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ü16:05:18.130 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
ç16:05:18.130 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ü16:05:18.131 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
ç16:05:18.131 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
ı16:05:18.131 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
©16:05:18.131 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
á16:05:18.131 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
∫16:05:18.131 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
l16:05:18.131 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
˚16:05:18.131 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from the accessible pool
å16:05:18.131 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ω16:05:18.131 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
˝16:05:18.131 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd to the inaccessible pool
Ï16:05:18.133 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
\16:05:18.134 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
Ü16:05:18.134 [Test worker] DEBUG o.h.e.j.i.p.ConnectionProxyHandler - HHH000163: Logical connection releasing its physical connection
h16:05:18.134 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
]16:05:18.135 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
‘16:05:18.135 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
 16:05:18.135 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
í16:05:18.135 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCE9100000009]
ä16:05:18.135 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
û16:05:18.135 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
ï16:05:18.135 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCE9100000009
ò16:05:18.135 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
÷16:05:18.135 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
˙16:05:18.135 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
æ16:05:18.135 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Å16:05:18.135 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd from the inaccessible pool
ê16:05:18.135 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
π16:05:18.135 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
é16:05:18.135 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
Æ16:05:18.135 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
˜16:05:18.135 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd to the accessible pool
ß16:05:18.135 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@77da0fd was in state NOT_ACCESSIBLE, no need to test it
Ú16:05:18.135 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
”16:05:18.135 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
\16:05:18.135 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Ü16:05:18.136 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
˜16:05:18.136 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@77da0fd (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE9100000009 : 737072696E672D62746D00000145172BCEA90000000A]
á16:05:18.136 [Test worker] DEBUG org.hibernate.SQL - select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.order_id=?
›Hibernate: select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.order_id=?
]16:05:18.137 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
›16:05:18.137 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2c98acfa
È16:05:18.137 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ü16:05:18.137 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
ç16:05:18.137 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ü16:05:18.137 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
ç16:05:18.138 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
ı16:05:18.138 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
©16:05:18.138 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
á16:05:18.138 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
∫16:05:18.138 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
l16:05:18.138 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
˚16:05:18.138 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from the accessible pool
å16:05:18.138 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ω16:05:18.138 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
˝16:05:18.138 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd to the inaccessible pool
Ï16:05:18.138 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
\16:05:18.138 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:18.138 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
i16:05:18.138 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
ë16:05:18.138 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023852544, using strategy: org.hibernate.id.Assigned
ë16:05:18.139 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023868928, using strategy: org.hibernate.id.Assigned
ë16:05:18.140 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023885312, using strategy: org.hibernate.id.Assigned
ë16:05:18.140 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023901696, using strategy: org.hibernate.id.Assigned
ë16:05:18.140 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023918080, using strategy: org.hibernate.id.Assigned
ë16:05:18.141 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023934464, using strategy: org.hibernate.id.Assigned
ë16:05:18.141 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023950848, using strategy: org.hibernate.id.Assigned
ë16:05:18.142 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023967232, using strategy: org.hibernate.id.Assigned
ë16:05:18.142 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1023983616, using strategy: org.hibernate.id.Assigned
i16:05:18.143 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
i16:05:18.143 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
i16:05:18.144 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
i16:05:18.144 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
œ16:05:18.145 [Test worker] DEBUG o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'FulfilmentServiceImpl.retrieveRequest' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
â16:05:18.145 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
i16:05:18.145 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
h16:05:18.179 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:18.180 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:18.180 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 9 insertions, 2 updates, 0 deletions to 9 objects
ä16:05:18.180 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:18.180 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
ò16:05:18.181 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023983616, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":3,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1023967232, updatedTime=null, updatedBy=null}
˜16:05:18.181 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023918080, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":4,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1023868928, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
”16:05:18.181 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1023868928, createdBy=system internal, requestId=1023852544, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":100,"orderItemId":10000,"quantity":2,"timestamp":1396253118105}, updatedTime=null, updatedBy=null}
ô16:05:18.181 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023934464, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":6,"items":[{"entityType":"ITEM","id":40000,"quantity":77,"sku":44444}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1023868928, updatedTime=null, updatedBy=null}
ú16:05:18.181 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023950848, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":60000,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1023868928, updatedTime=null, updatedBy=null}
÷16:05:18.181 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023885312, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"items":[{"entityType":"ITEM","id":10000,"quantity":888,"sku":11111},{"entityType":"ITEM","id":20000,"quantity":999,"sku":22222}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1023868928, updatedTime=null, updatedBy=null}
”16:05:18.181 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1023967232, createdBy=system internal, requestId=1023852544, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":400,"orderItemId":20000,"quantity":3,"timestamp":1396253118105}, updatedTime=null, updatedBy=null}
˜16:05:18.182 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023901696, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1023868928, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
â16:05:18.182 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentRequestEntity{id=1023852544, trackingGuid=568b2451-29c3-41e9-a585-5ca42bb48886, createdBy=system internal, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"orderId":1396253118104,"requester":"SYSTEM","userId":1396253118104}, orderId=1396253118104, updatedTime=null, updatedBy=null}
z16:05:18.182 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: fulfilment_item
]16:05:18.193 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
‘16:05:18.193 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
 16:05:18.193 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
í16:05:18.193 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCE9100000009]
ä16:05:18.193 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
û16:05:18.193 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
ï16:05:18.193 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCE9100000009
ò16:05:18.193 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
÷16:05:18.193 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
˙16:05:18.216 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
æ16:05:18.216 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Å16:05:18.216 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd from the inaccessible pool
ê16:05:18.217 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
π16:05:18.219 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
é16:05:18.219 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
Æ16:05:18.220 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
˜16:05:18.221 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd to the accessible pool
ß16:05:18.222 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@77da0fd was in state NOT_ACCESSIBLE, no need to test it
Ú16:05:18.226 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
”16:05:18.226 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
\16:05:18.226 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Ü16:05:18.226 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
˜16:05:18.226 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@77da0fd (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE9100000009 : 737072696E672D62746D00000145172BCEA90000000A]
◊16:05:18.226 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_request (created_by, created_time, updated_by, updated_time, order_id, payload, tracking_guid, request_id) values (?, ?, ?, ?, ?, ?, ?, ?)
≠Hibernate: insert into fulfilment_request (created_by, created_time, updated_by, updated_time, order_id, payload, tracking_guid, request_id) values (?, ?, ?, ?, ?, ?, ?, ?)
`16:05:18.238 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:18.239 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
Ü16:05:18.239 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
˜16:05:18.239 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@77da0fd (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE9100000009 : 737072696E672D62746D00000145172BCEA90000000A]
«16:05:18.240 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_item (created_by, created_time, updated_by, updated_time, payload, request_id, fulfilment_id) values (?, ?, ?, ?, ?, ?, ?)
ùHibernate: insert into fulfilment_item (created_by, created_time, updated_by, updated_time, payload, request_id, fulfilment_id) values (?, ?, ?, ?, ?, ?, ?)
`16:05:18.245 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:18.249 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
Ü16:05:18.249 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
˜16:05:18.249 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@77da0fd (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE9100000009 : 737072696E672D62746D00000145172BCEA90000000A]
Á16:05:18.249 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:05:18.250 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
Á16:05:18.251 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:05:18.252 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
Á16:05:18.253 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:05:18.253 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
Á16:05:18.253 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:05:18.254 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
Á16:05:18.254 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:05:18.254 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 5
w16:05:18.257 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
Ü16:05:18.257 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
˜16:05:18.257 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@77da0fd (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE9100000009 : 737072696E672D62746D00000145172BCEA90000000A]
«16:05:18.257 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_item (created_by, created_time, updated_by, updated_time, payload, request_id, fulfilment_id) values (?, ?, ?, ?, ?, ?, ?)
ùHibernate: insert into fulfilment_item (created_by, created_time, updated_by, updated_time, payload, request_id, fulfilment_id) values (?, ?, ?, ?, ?, ?, ?)
`16:05:18.259 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:18.260 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
Ü16:05:18.260 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
˜16:05:18.260 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@77da0fd (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE9100000009 : 737072696E672D62746D00000145172BCEA90000000A]
Á16:05:18.260 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:05:18.261 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:18.262 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
Ü16:05:18.262 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
˜16:05:18.262 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@77da0fd (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE9100000009 : 737072696E672D62746D00000145172BCEA90000000A]
◊16:05:18.263 [Test worker] DEBUG org.hibernate.SQL - update fulfilment_action set created_by=?, created_time=?, updated_by=?, updated_time=?, fulfilment_id=?, payload=?, result=?, status=?, type=? where action_id=?
≠Hibernate: update fulfilment_action set created_by=?, created_time=?, updated_by=?, updated_time=?, fulfilment_id=?, payload=?, result=?, status=?, type=? where action_id=?
`16:05:18.264 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
◊16:05:18.264 [Test worker] DEBUG org.hibernate.SQL - update fulfilment_action set created_by=?, created_time=?, updated_by=?, updated_time=?, fulfilment_id=?, payload=?, result=?, status=?, type=? where action_id=?
≠Hibernate: update fulfilment_action set created_by=?, created_time=?, updated_by=?, updated_time=?, fulfilment_id=?, payload=?, result=?, status=?, type=? where action_id=?
`16:05:18.264 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 2
w16:05:18.266 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
]16:05:18.266 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
›16:05:18.266 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2c98acfa
È16:05:18.266 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ü16:05:18.266 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
ç16:05:18.266 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ü16:05:18.266 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
ç16:05:18.266 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
ı16:05:18.266 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
©16:05:18.266 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
á16:05:18.266 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
∫16:05:18.266 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
l16:05:18.266 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
˚16:05:18.266 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from the accessible pool
å16:05:18.266 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ω16:05:18.266 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
˝16:05:18.266 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd to the inaccessible pool
Ï16:05:18.266 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
\16:05:18.266 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
]16:05:18.266 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
‘16:05:18.266 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
 16:05:18.267 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
í16:05:18.267 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCE9100000009]
ä16:05:18.267 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
û16:05:18.267 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
ï16:05:18.267 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCE9100000009
ò16:05:18.267 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
÷16:05:18.267 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
˙16:05:18.267 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
æ16:05:18.267 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Å16:05:18.267 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd from the inaccessible pool
ê16:05:18.267 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
π16:05:18.267 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
é16:05:18.267 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
Æ16:05:18.267 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
˜16:05:18.267 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd to the accessible pool
ß16:05:18.267 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@77da0fd was in state NOT_ACCESSIBLE, no need to test it
Ú16:05:18.267 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
”16:05:18.267 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
\16:05:18.267 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Ü16:05:18.267 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
˜16:05:18.267 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@77da0fd (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE9100000009 : 737072696E672D62746D00000145172BCEA90000000A]
È16:05:18.267 [Test worker] DEBUG org.hibernate.SQL - select this_.fulfilment_id as fulfilment1_3_0_, this_.created_by as created2_3_0_, this_.created_time as created3_3_0_, this_.updated_by as updated4_3_0_, this_.updated_time as updated5_3_0_, this_.payload as payload3_0_, this_.request_id as request7_3_0_ from fulfilment_item this_ where this_.request_id=?
øHibernate: select this_.fulfilment_id as fulfilment1_3_0_, this_.created_by as created2_3_0_, this_.created_time as created3_3_0_, this_.updated_by as updated4_3_0_, this_.updated_time as updated5_3_0_, this_.payload as payload3_0_, this_.request_id as request7_3_0_ from fulfilment_item this_ where this_.request_id=?
Q16:05:18.269 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ë16:05:18.269 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentEntity#1023868928]
Q16:05:18.269 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 1
ë16:05:18.270 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentEntity#1023967232]
]16:05:18.270 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
›16:05:18.271 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2c98acfa
È16:05:18.271 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ü16:05:18.271 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
ç16:05:18.271 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ü16:05:18.271 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
ç16:05:18.271 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
ı16:05:18.271 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
©16:05:18.271 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
á16:05:18.271 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
∫16:05:18.271 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
l16:05:18.271 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
˚16:05:18.271 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from the accessible pool
å16:05:18.271 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ω16:05:18.271 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
˝16:05:18.272 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd to the inaccessible pool
Ï16:05:18.272 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
\16:05:18.272 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:18.272 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
h16:05:18.285 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:18.285 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:18.286 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 9 objects
ä16:05:18.286 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:18.286 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
ò16:05:18.286 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023983616, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":3,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1023967232, updatedTime=null, updatedBy=null}
˜16:05:18.286 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023918080, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":4,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1023868928, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
”16:05:18.286 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1023868928, createdBy=system internal, requestId=1023852544, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":100,"orderItemId":10000,"quantity":2,"timestamp":1396253118105}, updatedTime=null, updatedBy=null}
ô16:05:18.286 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023934464, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":6,"items":[{"entityType":"ITEM","id":40000,"quantity":77,"sku":44444}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1023868928, updatedTime=null, updatedBy=null}
ú16:05:18.287 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023950848, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":60000,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1023868928, updatedTime=null, updatedBy=null}
÷16:05:18.287 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023885312, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"items":[{"entityType":"ITEM","id":10000,"quantity":888,"sku":11111},{"entityType":"ITEM","id":20000,"quantity":999,"sku":22222}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1023868928, updatedTime=null, updatedBy=null}
”16:05:18.287 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1023967232, createdBy=system internal, requestId=1023852544, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":400,"orderItemId":20000,"quantity":3,"timestamp":1396253118105}, updatedTime=null, updatedBy=null}
˜16:05:18.288 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023901696, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1023868928, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
â16:05:18.288 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentRequestEntity{id=1023852544, trackingGuid=568b2451-29c3-41e9-a585-5ca42bb48886, createdBy=system internal, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"orderId":1396253118104,"requester":"SYSTEM","userId":1396253118104}, orderId=1396253118104, updatedTime=null, updatedBy=null}
]16:05:18.288 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
‘16:05:18.288 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
 16:05:18.288 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
í16:05:18.288 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCE9100000009]
ä16:05:18.288 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
û16:05:18.288 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
ï16:05:18.288 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCE9100000009
ò16:05:18.288 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
÷16:05:18.288 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
˙16:05:18.288 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
æ16:05:18.288 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Å16:05:18.288 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd from the inaccessible pool
ê16:05:18.288 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
π16:05:18.288 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
é16:05:18.289 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
Æ16:05:18.289 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
˜16:05:18.289 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd to the accessible pool
ß16:05:18.289 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@77da0fd was in state NOT_ACCESSIBLE, no need to test it
Ú16:05:18.289 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
”16:05:18.289 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
\16:05:18.289 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Ü16:05:18.289 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
˜16:05:18.289 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@77da0fd (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE9100000009 : 737072696E672D62746D00000145172BCEA90000000A]
º16:05:18.289 [Test worker] DEBUG org.hibernate.SQL - select this_.action_id as action1_2_0_, this_.created_by as created2_2_0_, this_.created_time as created3_2_0_, this_.updated_by as updated4_2_0_, this_.updated_time as updated5_2_0_, this_.fulfilment_id as fulfilment6_2_0_, this_.payload as payload2_0_, this_.result as result2_0_, this_.status as status2_0_, this_.type as type2_0_ from fulfilment_action this_ where this_.fulfilment_id=?
íHibernate: select this_.action_id as action1_2_0_, this_.created_by as created2_2_0_, this_.created_time as created3_2_0_, this_.updated_by as updated4_2_0_, this_.updated_time as updated5_2_0_, this_.fulfilment_id as fulfilment6_2_0_, this_.payload as payload2_0_, this_.result as result2_0_, this_.status as status2_0_, this_.type as type2_0_ from fulfilment_action this_ where this_.fulfilment_id=?
Q16:05:18.291 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ó16:05:18.292 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentActionEntity#1023885312]
Q16:05:18.292 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 1
ó16:05:18.292 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentActionEntity#1023934464]
Q16:05:18.292 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 2
ó16:05:18.292 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentActionEntity#1023950848]
Q16:05:18.292 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 3
ó16:05:18.292 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentActionEntity#1023901696]
Q16:05:18.292 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 4
ó16:05:18.293 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentActionEntity#1023918080]
]16:05:18.293 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
›16:05:18.293 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2c98acfa
È16:05:18.293 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ü16:05:18.293 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
ç16:05:18.293 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ü16:05:18.293 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
ç16:05:18.293 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
ı16:05:18.293 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
©16:05:18.293 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
á16:05:18.293 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
∫16:05:18.294 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
l16:05:18.294 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
˚16:05:18.294 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from the accessible pool
å16:05:18.295 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ω16:05:18.295 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
˝16:05:18.295 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd to the inaccessible pool
Ï16:05:18.295 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
\16:05:18.295 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:18.295 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
ÿ16:05:18.298 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementUnregisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D00000145172BCE2100000007
ÿ16:05:18.298 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementUnregisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D00000145172BCE1F00000006
÷16:05:18.299 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementRegisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D00000145172BCE9100000009
h16:05:18.311 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:18.311 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:18.312 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 9 objects
ä16:05:18.312 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:18.312 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
ò16:05:18.312 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023983616, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":3,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1023967232, updatedTime=null, updatedBy=null}
˜16:05:18.312 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023918080, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":4,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1023868928, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
”16:05:18.312 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1023868928, createdBy=system internal, requestId=1023852544, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":100,"orderItemId":10000,"quantity":2,"timestamp":1396253118105}, updatedTime=null, updatedBy=null}
ô16:05:18.312 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023934464, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":6,"items":[{"entityType":"ITEM","id":40000,"quantity":77,"sku":44444}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1023868928, updatedTime=null, updatedBy=null}
ú16:05:18.312 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023950848, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":60000,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1023868928, updatedTime=null, updatedBy=null}
÷16:05:18.312 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023885312, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"items":[{"entityType":"ITEM","id":10000,"quantity":888,"sku":11111},{"entityType":"ITEM","id":20000,"quantity":999,"sku":22222}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1023868928, updatedTime=null, updatedBy=null}
”16:05:18.312 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1023967232, createdBy=system internal, requestId=1023852544, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":400,"orderItemId":20000,"quantity":3,"timestamp":1396253118105}, updatedTime=null, updatedBy=null}
˜16:05:18.312 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1023901696, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1023868928, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
â16:05:18.313 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentRequestEntity{id=1023852544, trackingGuid=568b2451-29c3-41e9-a585-5ca42bb48886, createdBy=system internal, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"orderId":1396253118104,"requester":"SYSTEM","userId":1396253118104}, orderId=1396253118104, updatedTime=null, updatedBy=null}
]16:05:18.313 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
‘16:05:18.313 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
 16:05:18.313 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
í16:05:18.313 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCE9100000009]
ä16:05:18.313 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
û16:05:18.313 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
ï16:05:18.313 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCE9100000009
ò16:05:18.313 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
÷16:05:18.313 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
˙16:05:18.313 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
æ16:05:18.313 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Å16:05:18.313 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd from the inaccessible pool
ê16:05:18.313 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
π16:05:18.313 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
é16:05:18.313 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
Æ16:05:18.313 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
˜16:05:18.313 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd to the accessible pool
ß16:05:18.313 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@77da0fd was in state NOT_ACCESSIBLE, no need to test it
Ú16:05:18.314 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
”16:05:18.314 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
\16:05:18.314 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Ü16:05:18.314 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
˜16:05:18.314 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@77da0fd (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCE9100000009 : 737072696E672D62746D00000145172BCEA90000000A]
º16:05:18.314 [Test worker] DEBUG org.hibernate.SQL - select this_.action_id as action1_2_0_, this_.created_by as created2_2_0_, this_.created_time as created3_2_0_, this_.updated_by as updated4_2_0_, this_.updated_time as updated5_2_0_, this_.fulfilment_id as fulfilment6_2_0_, this_.payload as payload2_0_, this_.result as result2_0_, this_.status as status2_0_, this_.type as type2_0_ from fulfilment_action this_ where this_.fulfilment_id=?
íHibernate: select this_.action_id as action1_2_0_, this_.created_by as created2_2_0_, this_.created_time as created3_2_0_, this_.updated_by as updated4_2_0_, this_.updated_time as updated5_2_0_, this_.fulfilment_id as fulfilment6_2_0_, this_.payload as payload2_0_, this_.result as result2_0_, this_.status as status2_0_, this_.type as type2_0_ from fulfilment_action this_ where this_.fulfilment_id=?
Q16:05:18.315 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ó16:05:18.316 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentActionEntity#1023983616]
]16:05:18.316 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
›16:05:18.316 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2c98acfa
È16:05:18.317 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ü16:05:18.317 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
ç16:05:18.317 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ü16:05:18.317 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
ç16:05:18.317 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
ı16:05:18.317 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
©16:05:18.318 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCE9100000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
á16:05:18.318 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
∫16:05:18.318 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
l16:05:18.318 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
˚16:05:18.318 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd from the accessible pool
å16:05:18.318 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
Ω16:05:18.318 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
˝16:05:18.320 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd to the inaccessible pool
Ï16:05:18.320 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@77da0fd
\16:05:18.320 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:18.320 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
â16:05:18.339 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
i16:05:18.339 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
ª16:05:18.339 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@3bf5ed2
p16:05:18.339 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:18.339 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531183
•16:05:18.340 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@8ea2eea
]16:05:18.341 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
‘16:05:18.341 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available)
 16:05:18.341 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available)
í16:05:18.341 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCF7E0000000B]
Ä16:05:18.341 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
œ16:05:18.341 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available), waiting if necessary
µ16:05:18.341 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 - closing time: 1396253176313, now time: 1396253118341
…16:05:18.343 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
Ù16:05:18.343 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
±16:05:18.343 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
É16:05:18.343 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
≥16:05:18.343 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
¯16:05:18.343 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 to the accessible pool
ô16:05:18.343 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@65b1e8f4 was in state IN_POOL, testing it
Ü16:05:18.343 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4, skipping test
Û16:05:18.343 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
”16:05:18.343 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
\16:05:18.344 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
á16:05:18.344 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
á16:05:18.344 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@65b1e8f4 does not belong to any resource of a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
°16:05:18.344 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@65b1e8f4 belongs to a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
…16:05:18.344 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D00000145172BCF7E0000000B : 737072696E672D62746D00000145172BCF880000000C]
≈16:05:18.346 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D00000145172BCF7E0000000B : 737072696E672D62746D00000145172BCF880000000C]> to <an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@65b1e8f4 with XID null>
≈16:05:18.346 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@65b1e8f4 with XID a Bitronix XID [737072696E672D62746D00000145172BCF7E0000000B : 737072696E672D62746D00000145172BCF880000000C] with NOFLAGS
Œ16:05:18.346 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@65b1e8f4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCF7E0000000B : 737072696E672D62746D00000145172BCF880000000C] with NOFLAGS
Ó16:05:18.346 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@65b1e8f4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCF7E0000000B : 737072696E672D62746D00000145172BCF880000000C]] on a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
”16:05:18.346 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D00000145172BCF7E0000000B] previously unknown to a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4, adding it to the resource's transactions list
å16:05:18.348 [Test worker] DEBUG org.hibernate.SQL - select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.tracking_guid=?
‚Hibernate: select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.tracking_guid=?
]16:05:18.350 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ﬁ16:05:18.351 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@26815f05
Í16:05:18.351 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
á16:05:18.351 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
é16:05:18.351 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
á16:05:18.351 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
é16:05:18.351 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ˆ16:05:18.351 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
™16:05:18.351 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
à16:05:18.351 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ª16:05:18.351 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
l16:05:18.351 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
¸16:05:18.351 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from the accessible pool
ç16:05:18.351 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
æ16:05:18.351 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
˛16:05:18.351 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 to the inaccessible pool
Ì16:05:18.351 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
\16:05:18.351 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
Ü16:05:18.351 [Test worker] DEBUG o.h.e.j.i.p.ConnectionProxyHandler - HHH000163: Logical connection releasing its physical connection
h16:05:18.351 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
]16:05:18.351 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
‘16:05:18.352 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
 16:05:18.352 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
í16:05:18.352 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCF7E0000000B]
ã16:05:18.352 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ü16:05:18.352 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ï16:05:18.352 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCF7E0000000B
ò16:05:18.352 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
◊16:05:18.352 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
˚16:05:18.352 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ø16:05:18.354 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
Ç16:05:18.354 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from the inaccessible pool
ë16:05:18.354 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
∫16:05:18.354 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
è16:05:18.355 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
Ø16:05:18.355 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
¯16:05:18.355 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 to the accessible pool
®16:05:18.355 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@65b1e8f4 was in state NOT_ACCESSIBLE, no need to test it
Û16:05:18.355 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
”16:05:18.356 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
\16:05:18.356 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
á16:05:18.356 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
¯16:05:18.356 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@65b1e8f4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCF7E0000000B : 737072696E672D62746D00000145172BCF880000000C]
á16:05:18.358 [Test worker] DEBUG org.hibernate.SQL - select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.order_id=?
›Hibernate: select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.order_id=?
]16:05:18.360 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ﬁ16:05:18.360 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@26815f05
Í16:05:18.361 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
á16:05:18.361 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
é16:05:18.361 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
á16:05:18.361 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
é16:05:18.361 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ˆ16:05:18.361 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
™16:05:18.361 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
à16:05:18.361 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ª16:05:18.361 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
l16:05:18.361 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
¸16:05:18.361 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from the accessible pool
ç16:05:18.361 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
æ16:05:18.361 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
˛16:05:18.361 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 to the inaccessible pool
Ì16:05:18.361 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
\16:05:18.361 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:18.361 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
i16:05:18.361 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
ê16:05:18.362 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 738230336, using strategy: org.hibernate.id.Assigned
ë16:05:18.362 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1024000000, using strategy: org.hibernate.id.Assigned
ë16:05:18.363 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1024016384, using strategy: org.hibernate.id.Assigned
ë16:05:18.363 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1024032768, using strategy: org.hibernate.id.Assigned
ë16:05:18.364 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1024049152, using strategy: org.hibernate.id.Assigned
ë16:05:18.365 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1024065536, using strategy: org.hibernate.id.Assigned
ë16:05:18.366 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1024081920, using strategy: org.hibernate.id.Assigned
ë16:05:18.367 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1024098304, using strategy: org.hibernate.id.Assigned
ë16:05:18.368 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1024114688, using strategy: org.hibernate.id.Assigned
i16:05:18.368 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
i16:05:18.368 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
i16:05:18.369 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
i16:05:18.369 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
â16:05:18.369 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
i16:05:18.369 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
h16:05:18.370 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:18.370 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:18.371 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 9 insertions, 2 updates, 0 deletions to 9 objects
ä16:05:18.371 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:18.371 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
“16:05:18.371 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1024000000, createdBy=system internal, requestId=738230336, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":100,"orderItemId":10000,"quantity":2,"timestamp":1396253118339}, updatedTime=null, updatedBy=null}
ò16:05:18.371 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024114688, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":3,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024098304, updatedTime=null, updatedBy=null}
˜16:05:18.372 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024049152, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":4,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1024000000, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
ô16:05:18.372 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024065536, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":6,"items":[{"entityType":"ITEM","id":40000,"quantity":77,"sku":44444}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024000000, updatedTime=null, updatedBy=null}
“16:05:18.372 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1024098304, createdBy=system internal, requestId=738230336, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":400,"orderItemId":20000,"quantity":3,"timestamp":1396253118339}, updatedTime=null, updatedBy=null}
ú16:05:18.372 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024081920, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":60000,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024000000, updatedTime=null, updatedBy=null}
÷16:05:18.372 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024016384, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"items":[{"entityType":"ITEM","id":10000,"quantity":888,"sku":11111},{"entityType":"ITEM","id":20000,"quantity":999,"sku":22222}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024000000, updatedTime=null, updatedBy=null}
à16:05:18.372 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentRequestEntity{id=738230336, trackingGuid=9be04db5-7c52-42db-b442-c4e73fd6d708, createdBy=system internal, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"orderId":1396253118339,"requester":"SYSTEM","userId":1396253118339}, orderId=1396253118339, updatedTime=null, updatedBy=null}
˜16:05:18.372 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024032768, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1024000000, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
}16:05:18.372 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: fulfilment_request
]16:05:18.373 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
‘16:05:18.373 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
 16:05:18.373 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
í16:05:18.373 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCF7E0000000B]
ã16:05:18.373 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ü16:05:18.373 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ï16:05:18.373 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCF7E0000000B
ò16:05:18.373 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
◊16:05:18.373 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
˚16:05:18.373 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ø16:05:18.373 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
Ç16:05:18.373 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from the inaccessible pool
ë16:05:18.373 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
∫16:05:18.373 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
è16:05:18.373 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
Ø16:05:18.373 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
¯16:05:18.373 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 to the accessible pool
®16:05:18.374 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@65b1e8f4 was in state NOT_ACCESSIBLE, no need to test it
Û16:05:18.374 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
”16:05:18.374 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
\16:05:18.374 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
á16:05:18.374 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
¯16:05:18.374 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@65b1e8f4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCF7E0000000B : 737072696E672D62746D00000145172BCF880000000C]
◊16:05:18.374 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_request (created_by, created_time, updated_by, updated_time, order_id, payload, tracking_guid, request_id) values (?, ?, ?, ?, ?, ?, ?, ?)
≠Hibernate: insert into fulfilment_request (created_by, created_time, updated_by, updated_time, order_id, payload, tracking_guid, request_id) values (?, ?, ?, ?, ?, ?, ?, ?)
`16:05:18.375 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:18.377 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
á16:05:18.377 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
¯16:05:18.377 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@65b1e8f4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCF7E0000000B : 737072696E672D62746D00000145172BCF880000000C]
«16:05:18.377 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_item (created_by, created_time, updated_by, updated_time, payload, request_id, fulfilment_id) values (?, ?, ?, ?, ?, ?, ?)
ùHibernate: insert into fulfilment_item (created_by, created_time, updated_by, updated_time, payload, request_id, fulfilment_id) values (?, ?, ?, ?, ?, ?, ?)
`16:05:18.378 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:18.379 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
á16:05:18.379 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
¯16:05:18.379 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@65b1e8f4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCF7E0000000B : 737072696E672D62746D00000145172BCF880000000C]
Á16:05:18.379 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:05:18.380 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
Á16:05:18.380 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:05:18.381 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
Á16:05:18.381 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:05:18.382 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
Á16:05:18.382 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:05:18.383 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
Á16:05:18.383 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:05:18.383 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 5
w16:05:18.386 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
á16:05:18.386 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
¯16:05:18.386 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@65b1e8f4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCF7E0000000B : 737072696E672D62746D00000145172BCF880000000C]
«16:05:18.386 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_item (created_by, created_time, updated_by, updated_time, payload, request_id, fulfilment_id) values (?, ?, ?, ?, ?, ?, ?)
ùHibernate: insert into fulfilment_item (created_by, created_time, updated_by, updated_time, payload, request_id, fulfilment_id) values (?, ?, ?, ?, ?, ?, ?)
`16:05:18.388 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:18.389 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
á16:05:18.389 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
¯16:05:18.389 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@65b1e8f4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCF7E0000000B : 737072696E672D62746D00000145172BCF880000000C]
Á16:05:18.390 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:05:18.392 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:18.393 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
á16:05:18.393 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
¯16:05:18.393 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@65b1e8f4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCF7E0000000B : 737072696E672D62746D00000145172BCF880000000C]
◊16:05:18.394 [Test worker] DEBUG org.hibernate.SQL - update fulfilment_action set created_by=?, created_time=?, updated_by=?, updated_time=?, fulfilment_id=?, payload=?, result=?, status=?, type=? where action_id=?
≠Hibernate: update fulfilment_action set created_by=?, created_time=?, updated_by=?, updated_time=?, fulfilment_id=?, payload=?, result=?, status=?, type=? where action_id=?
`16:05:18.395 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
◊16:05:18.395 [Test worker] DEBUG org.hibernate.SQL - update fulfilment_action set created_by=?, created_time=?, updated_by=?, updated_time=?, fulfilment_id=?, payload=?, result=?, status=?, type=? where action_id=?
≠Hibernate: update fulfilment_action set created_by=?, created_time=?, updated_by=?, updated_time=?, fulfilment_id=?, payload=?, result=?, status=?, type=? where action_id=?
`16:05:18.396 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 2
w16:05:18.398 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
]16:05:18.399 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ﬁ16:05:18.399 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@26815f05
Í16:05:18.399 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
á16:05:18.399 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
é16:05:18.399 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
á16:05:18.399 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
é16:05:18.399 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ˆ16:05:18.399 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
™16:05:18.399 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
à16:05:18.399 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ª16:05:18.399 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
l16:05:18.399 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
¸16:05:18.399 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from the accessible pool
ç16:05:18.399 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
æ16:05:18.399 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
˛16:05:18.400 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 to the inaccessible pool
Ì16:05:18.400 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
\16:05:18.400 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
]16:05:18.400 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
‘16:05:18.400 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
 16:05:18.400 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
í16:05:18.400 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCF7E0000000B]
ã16:05:18.400 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ü16:05:18.400 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ï16:05:18.400 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCF7E0000000B
ò16:05:18.400 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
◊16:05:18.400 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
˚16:05:18.400 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ø16:05:18.400 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
Ç16:05:18.400 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from the inaccessible pool
ë16:05:18.400 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
∫16:05:18.400 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
è16:05:18.400 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
Ø16:05:18.400 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
¯16:05:18.400 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 to the accessible pool
®16:05:18.401 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@65b1e8f4 was in state NOT_ACCESSIBLE, no need to test it
Û16:05:18.401 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
”16:05:18.401 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
\16:05:18.401 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
á16:05:18.401 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
¯16:05:18.401 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@65b1e8f4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCF7E0000000B : 737072696E672D62746D00000145172BCF880000000C]
å16:05:18.401 [Test worker] DEBUG org.hibernate.SQL - select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.tracking_guid=?
‚Hibernate: select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.tracking_guid=?
]16:05:18.404 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ﬁ16:05:18.404 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@26815f05
Í16:05:18.404 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
á16:05:18.404 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
é16:05:18.404 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
á16:05:18.404 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
é16:05:18.404 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ˆ16:05:18.404 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
™16:05:18.404 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
à16:05:18.404 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ª16:05:18.404 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
l16:05:18.404 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
¸16:05:18.404 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from the accessible pool
ç16:05:18.404 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
æ16:05:18.404 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
˛16:05:18.404 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 to the inaccessible pool
Ì16:05:18.404 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
\16:05:18.405 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:18.405 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
h16:05:18.405 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:18.405 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:18.406 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 9 objects
ä16:05:18.406 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:18.406 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
“16:05:18.406 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1024000000, createdBy=system internal, requestId=738230336, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":100,"orderItemId":10000,"quantity":2,"timestamp":1396253118339}, updatedTime=null, updatedBy=null}
ò16:05:18.406 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024114688, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":3,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024098304, updatedTime=null, updatedBy=null}
˜16:05:18.406 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024049152, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":4,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1024000000, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
ô16:05:18.407 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024065536, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":6,"items":[{"entityType":"ITEM","id":40000,"quantity":77,"sku":44444}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024000000, updatedTime=null, updatedBy=null}
“16:05:18.407 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1024098304, createdBy=system internal, requestId=738230336, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":400,"orderItemId":20000,"quantity":3,"timestamp":1396253118339}, updatedTime=null, updatedBy=null}
ú16:05:18.407 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024081920, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":60000,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024000000, updatedTime=null, updatedBy=null}
÷16:05:18.407 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024016384, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"items":[{"entityType":"ITEM","id":10000,"quantity":888,"sku":11111},{"entityType":"ITEM","id":20000,"quantity":999,"sku":22222}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024000000, updatedTime=null, updatedBy=null}
à16:05:18.407 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentRequestEntity{id=738230336, trackingGuid=9be04db5-7c52-42db-b442-c4e73fd6d708, createdBy=system internal, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"orderId":1396253118339,"requester":"SYSTEM","userId":1396253118339}, orderId=1396253118339, updatedTime=null, updatedBy=null}
˜16:05:18.407 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024032768, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1024000000, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
]16:05:18.407 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
‘16:05:18.407 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
 16:05:18.407 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
í16:05:18.407 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BCF7E0000000B]
ã16:05:18.407 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ü16:05:18.407 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ï16:05:18.408 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BCF7E0000000B
ò16:05:18.408 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
◊16:05:18.408 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
˚16:05:18.409 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ø16:05:18.410 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
Ç16:05:18.410 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from the inaccessible pool
ë16:05:18.410 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
∫16:05:18.410 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
è16:05:18.411 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
Ø16:05:18.411 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
¯16:05:18.411 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 to the accessible pool
®16:05:18.411 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@65b1e8f4 was in state NOT_ACCESSIBLE, no need to test it
Û16:05:18.411 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
”16:05:18.412 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
\16:05:18.412 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
á16:05:18.412 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
¯16:05:18.412 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@65b1e8f4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BCF7E0000000B : 737072696E672D62746D00000145172BCF880000000C]
á16:05:18.413 [Test worker] DEBUG org.hibernate.SQL - select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.order_id=?
›Hibernate: select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.order_id=?
Q16:05:18.414 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ó16:05:18.420 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentRequestEntity#738230336]
]16:05:18.421 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ﬁ16:05:18.421 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@26815f05
Í16:05:18.421 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
á16:05:18.421 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
é16:05:18.422 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
á16:05:18.422 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
é16:05:18.422 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ˆ16:05:18.423 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
™16:05:18.423 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
à16:05:18.423 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
ª16:05:18.423 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
l16:05:18.423 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
¸16:05:18.423 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 from the accessible pool
ç16:05:18.423 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
æ16:05:18.423 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
˛16:05:18.423 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4 to the inaccessible pool
Ì16:05:18.423 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@65b1e8f4
\16:05:18.424 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:18.424 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
å16:05:18.425 [Test worker] ERROR c.j.f.c.s.FulfilmentServiceImpl - Fulfilment request with orderId [1396253118339] has already been issued.
ÿ16:05:18.549 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementUnregisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D00000145172BCE9100000009
÷16:05:18.549 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementRegisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D00000145172BCF7E0000000B
î16:05:18.566 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating transaction failed - marking existing transaction as rollback-only
i16:05:18.567 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Setting JTA transaction rollback-only
à16:05:18.567 [Test worker] DEBUG b.tm.BitronixTransactionManager - marking transaction as rollback only: a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BCF7E0000000B], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
r16:05:18.567 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to MARKED_ROLLBACK
õ16:05:18.567 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from ACTIVE to MARKED_ROLLBACK - executing 0 listener(s)
	â16:05:18.580 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
	i16:05:18.580 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
	º16:05:18.580 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@5ab2223d
	p16:05:18.580 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
	o16:05:18.580 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531185
	¶16:05:18.580 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@72c0033e
	]16:05:18.581 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
	‘16:05:18.581 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available)
	 16:05:18.581 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available)
	í16:05:18.581 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BD0720000000D]
	Ä16:05:18.581 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
	œ16:05:18.581 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available), waiting if necessary
	µ16:05:18.581 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 - closing time: 1396253176761, now time: 1396253118581
	…16:05:18.581 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	Ù16:05:18.581 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	±16:05:18.581 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	É16:05:18.582 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	≥16:05:18.582 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	¯16:05:18.582 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 to the accessible pool
	ô16:05:18.582 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@7904e8c4 was in state IN_POOL, testing it
	Ü16:05:18.582 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4, skipping test
	Û16:05:18.582 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	”16:05:18.582 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	\16:05:18.582 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
	á16:05:18.582 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	á16:05:18.582 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@7904e8c4 does not belong to any resource of a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
	°16:05:18.582 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@7904e8c4 belongs to a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	…16:05:18.582 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D00000145172BD0720000000D : 737072696E672D62746D00000145172BD0760000000E]
	≈16:05:18.582 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D00000145172BD0720000000D : 737072696E672D62746D00000145172BD0760000000E]> to <an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@7904e8c4 with XID null>
	≈16:05:18.582 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@7904e8c4 with XID a Bitronix XID [737072696E672D62746D00000145172BD0720000000D : 737072696E672D62746D00000145172BD0760000000E] with NOFLAGS
	Œ16:05:18.582 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@7904e8c4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BD0720000000D : 737072696E672D62746D00000145172BD0760000000E] with NOFLAGS
	Ó16:05:18.582 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@7904e8c4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BD0720000000D : 737072696E672D62746D00000145172BD0760000000E]] on a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	”16:05:18.582 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D00000145172BD0720000000D] previously unknown to a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4, adding it to the resource's transactions list
	å16:05:18.583 [Test worker] DEBUG org.hibernate.SQL - select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.tracking_guid=?
	‚Hibernate: select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.tracking_guid=?
	]16:05:18.585 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
	ﬁ16:05:18.585 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2b2e24aa
	Í16:05:18.585 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	á16:05:18.585 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	é16:05:18.585 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	á16:05:18.585 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	é16:05:18.585 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ˆ16:05:18.585 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	™16:05:18.585 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	à16:05:18.585 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ª16:05:18.585 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	l16:05:18.585 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
	¸16:05:18.586 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from the accessible pool
	ç16:05:18.586 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	æ16:05:18.586 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	˛16:05:18.586 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 to the inaccessible pool
	Ì16:05:18.586 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	\16:05:18.586 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
	Ü16:05:18.586 [Test worker] DEBUG o.h.e.j.i.p.ConnectionProxyHandler - HHH000163: Logical connection releasing its physical connection
	h16:05:18.586 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
	]16:05:18.586 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
	‘16:05:18.587 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	 16:05:18.587 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	í16:05:18.587 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BD0720000000D]
	ã16:05:18.587 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ü16:05:18.588 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ï16:05:18.588 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BD0720000000D
	ò16:05:18.588 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
	◊16:05:18.588 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	˚16:05:18.588 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ø16:05:18.588 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	Ç16:05:18.588 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from the inaccessible pool
	ë16:05:18.588 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	∫16:05:18.588 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	è16:05:18.588 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	Ø16:05:18.588 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	¯16:05:18.588 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 to the accessible pool
	®16:05:18.588 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@7904e8c4 was in state NOT_ACCESSIBLE, no need to test it
	Û16:05:18.588 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	”16:05:18.588 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	\16:05:18.588 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
	á16:05:18.588 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	¯16:05:18.588 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@7904e8c4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BD0720000000D : 737072696E672D62746D00000145172BD0760000000E]
	á16:05:18.589 [Test worker] DEBUG org.hibernate.SQL - select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.order_id=?
	›Hibernate: select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.order_id=?
	]16:05:18.590 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
	ﬁ16:05:18.590 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2b2e24aa
	Í16:05:18.590 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	á16:05:18.590 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	é16:05:18.590 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	á16:05:18.591 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	é16:05:18.591 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ˆ16:05:18.591 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	™16:05:18.591 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	à16:05:18.591 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ª16:05:18.591 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	l16:05:18.591 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
	¸16:05:18.591 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from the accessible pool
	ç16:05:18.591 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	æ16:05:18.591 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	˛16:05:18.591 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 to the inaccessible pool
	Ì16:05:18.591 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	\16:05:18.591 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
	h16:05:18.591 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
	i16:05:18.592 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
	ê16:05:18.592 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 738246720, using strategy: org.hibernate.id.Assigned
	ë16:05:18.593 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1024131072, using strategy: org.hibernate.id.Assigned
	ë16:05:18.594 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1024147456, using strategy: org.hibernate.id.Assigned
	ë16:05:18.594 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1024163840, using strategy: org.hibernate.id.Assigned
	ë16:05:18.595 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1024180224, using strategy: org.hibernate.id.Assigned
	ë16:05:18.595 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1024196608, using strategy: org.hibernate.id.Assigned
	ë16:05:18.596 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1024212992, using strategy: org.hibernate.id.Assigned
	ë16:05:18.597 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1024229376, using strategy: org.hibernate.id.Assigned
	ë16:05:18.597 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1024245760, using strategy: org.hibernate.id.Assigned
	i16:05:18.598 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
	i16:05:18.598 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
	i16:05:18.598 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
	i16:05:18.598 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
	â16:05:18.599 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
	i16:05:18.599 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
	h16:05:18.599 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
	d16:05:18.599 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
	Ñ16:05:18.600 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 9 insertions, 2 updates, 0 deletions to 9 objects
	ä16:05:18.600 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
	U16:05:18.600 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
	˜16:05:18.600 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024163840, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1024131072, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
	÷16:05:18.600 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024147456, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"items":[{"entityType":"ITEM","id":10000,"quantity":888,"sku":11111},{"entityType":"ITEM","id":20000,"quantity":999,"sku":22222}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024131072, updatedTime=null, updatedBy=null}
	ú16:05:18.600 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024212992, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":60000,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024131072, updatedTime=null, updatedBy=null}
	“16:05:18.601 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1024131072, createdBy=system internal, requestId=738246720, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":100,"orderItemId":10000,"quantity":2,"timestamp":1396253118579}, updatedTime=null, updatedBy=null}
	à16:05:18.601 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentRequestEntity{id=738246720, trackingGuid=7155371a-611e-4279-8912-81b347d39226, createdBy=system internal, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"orderId":1396253118579,"requester":"SYSTEM","userId":1396253118579}, orderId=1396253118579, updatedTime=null, updatedBy=null}
	ô16:05:18.601 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024196608, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":6,"items":[{"entityType":"ITEM","id":40000,"quantity":77,"sku":44444}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024131072, updatedTime=null, updatedBy=null}
	˜16:05:18.601 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024180224, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":4,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1024131072, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
	ò16:05:18.601 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024245760, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":3,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024229376, updatedTime=null, updatedBy=null}
	“16:05:18.601 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1024229376, createdBy=system internal, requestId=738246720, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":400,"orderItemId":20000,"quantity":3,"timestamp":1396253118579}, updatedTime=null, updatedBy=null}
	}16:05:18.601 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: fulfilment_request
	]16:05:18.602 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
	‘16:05:18.602 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	 16:05:18.602 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	í16:05:18.602 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BD0720000000D]
	ã16:05:18.602 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ü16:05:18.602 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ï16:05:18.602 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BD0720000000D
	ò16:05:18.602 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
	◊16:05:18.602 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	˚16:05:18.602 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ø16:05:18.602 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	Ç16:05:18.602 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from the inaccessible pool
	ë16:05:18.602 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	∫16:05:18.602 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	è16:05:18.602 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	Ø16:05:18.602 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	¯16:05:18.602 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 to the accessible pool
	®16:05:18.602 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@7904e8c4 was in state NOT_ACCESSIBLE, no need to test it
	Û16:05:18.602 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	”16:05:18.602 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	\16:05:18.603 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
	á16:05:18.603 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	¯16:05:18.603 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@7904e8c4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BD0720000000D : 737072696E672D62746D00000145172BD0760000000E]
	◊16:05:18.603 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_request (created_by, created_time, updated_by, updated_time, order_id, payload, tracking_guid, request_id) values (?, ?, ?, ?, ?, ?, ?, ?)
	≠Hibernate: insert into fulfilment_request (created_by, created_time, updated_by, updated_time, order_id, payload, tracking_guid, request_id) values (?, ?, ?, ?, ?, ?, ?, ?)
	`16:05:18.604 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
	w16:05:18.605 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
	á16:05:18.606 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	¯16:05:18.606 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@7904e8c4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BD0720000000D : 737072696E672D62746D00000145172BD0760000000E]
	«16:05:18.606 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_item (created_by, created_time, updated_by, updated_time, payload, request_id, fulfilment_id) values (?, ?, ?, ?, ?, ?, ?)
	ùHibernate: insert into fulfilment_item (created_by, created_time, updated_by, updated_time, payload, request_id, fulfilment_id) values (?, ?, ?, ?, ?, ?, ?)
	`16:05:18.606 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
	w16:05:18.608 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
	á16:05:18.608 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	¯16:05:18.608 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@7904e8c4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BD0720000000D : 737072696E672D62746D00000145172BD0760000000E]
	Á16:05:18.608 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
	ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
	`16:05:18.609 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
	Á16:05:18.609 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
	ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
	`16:05:18.609 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
	Á16:05:18.609 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
	ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
	`16:05:18.609 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
	Á16:05:18.609 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
	ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
	`16:05:18.610 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
	Á16:05:18.610 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
	ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
	`16:05:18.610 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 5
	w16:05:18.612 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
	á16:05:18.612 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	¯16:05:18.612 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@7904e8c4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BD0720000000D : 737072696E672D62746D00000145172BD0760000000E]
	«16:05:18.612 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_item (created_by, created_time, updated_by, updated_time, payload, request_id, fulfilment_id) values (?, ?, ?, ?, ?, ?, ?)
	ùHibernate: insert into fulfilment_item (created_by, created_time, updated_by, updated_time, payload, request_id, fulfilment_id) values (?, ?, ?, ?, ?, ?, ?)
	`16:05:18.613 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
	w16:05:18.613 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
	á16:05:18.614 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	¯16:05:18.614 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@7904e8c4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BD0720000000D : 737072696E672D62746D00000145172BD0760000000E]
	Á16:05:18.615 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
	ΩHibernate: insert into fulfilment_action (created_by, created_time, updated_by, updated_time, fulfilment_id, payload, result, status, type, action_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
	`16:05:18.615 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
	w16:05:18.616 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
	á16:05:18.616 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	¯16:05:18.617 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@7904e8c4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BD0720000000D : 737072696E672D62746D00000145172BD0760000000E]
	◊16:05:18.617 [Test worker] DEBUG org.hibernate.SQL - update fulfilment_action set created_by=?, created_time=?, updated_by=?, updated_time=?, fulfilment_id=?, payload=?, result=?, status=?, type=? where action_id=?
	≠Hibernate: update fulfilment_action set created_by=?, created_time=?, updated_by=?, updated_time=?, fulfilment_id=?, payload=?, result=?, status=?, type=? where action_id=?
	`16:05:18.617 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
	◊16:05:18.617 [Test worker] DEBUG org.hibernate.SQL - update fulfilment_action set created_by=?, created_time=?, updated_by=?, updated_time=?, fulfilment_id=?, payload=?, result=?, status=?, type=? where action_id=?
	≠Hibernate: update fulfilment_action set created_by=?, created_time=?, updated_by=?, updated_time=?, fulfilment_id=?, payload=?, result=?, status=?, type=? where action_id=?
	`16:05:18.618 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 2
	w16:05:18.619 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
	]16:05:18.620 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
	ﬁ16:05:18.620 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2b2e24aa
	Í16:05:18.620 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	á16:05:18.620 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	é16:05:18.620 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	á16:05:18.620 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	é16:05:18.620 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ˆ16:05:18.620 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	™16:05:18.620 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	à16:05:18.620 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ª16:05:18.620 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	l16:05:18.620 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
	¸16:05:18.620 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from the accessible pool
	ç16:05:18.620 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	æ16:05:18.620 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	˛16:05:18.621 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 to the inaccessible pool
	Ì16:05:18.621 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	\16:05:18.621 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
	]16:05:18.621 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
	‘16:05:18.621 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	 16:05:18.621 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	í16:05:18.621 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BD0720000000D]
	ã16:05:18.621 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ü16:05:18.621 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ï16:05:18.621 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BD0720000000D
	ò16:05:18.621 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
	◊16:05:18.621 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	˚16:05:18.621 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ø16:05:18.621 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	Ç16:05:18.621 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from the inaccessible pool
	ë16:05:18.621 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	∫16:05:18.621 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	è16:05:18.621 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	Ø16:05:18.621 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	¯16:05:18.621 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 to the accessible pool
	®16:05:18.622 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@7904e8c4 was in state NOT_ACCESSIBLE, no need to test it
	Û16:05:18.622 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	”16:05:18.622 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	\16:05:18.622 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
	á16:05:18.622 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	¯16:05:18.622 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@7904e8c4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BD0720000000D : 737072696E672D62746D00000145172BD0760000000E]
	å16:05:18.622 [Test worker] DEBUG org.hibernate.SQL - select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.tracking_guid=?
	‚Hibernate: select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.tracking_guid=?
	Q16:05:18.624 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
	ó16:05:18.625 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentRequestEntity#738246720]
	]16:05:18.625 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
	ﬁ16:05:18.625 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2b2e24aa
	Í16:05:18.625 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	á16:05:18.625 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	é16:05:18.626 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	á16:05:18.626 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	é16:05:18.626 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ˆ16:05:18.626 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	™16:05:18.626 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	à16:05:18.626 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ª16:05:18.626 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	l16:05:18.626 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
	¸16:05:18.626 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from the accessible pool
	ç16:05:18.626 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	æ16:05:18.626 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	˛16:05:18.627 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 to the inaccessible pool
	Ì16:05:18.627 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	\16:05:18.627 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
	h16:05:18.627 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
	h16:05:18.628 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
	d16:05:18.628 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
	Ñ16:05:18.628 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 9 objects
	ä16:05:18.628 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
	U16:05:18.629 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
	˜16:05:18.629 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024163840, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1024131072, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
	÷16:05:18.629 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024147456, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"items":[{"entityType":"ITEM","id":10000,"quantity":888,"sku":11111},{"entityType":"ITEM","id":20000,"quantity":999,"sku":22222}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024131072, updatedTime=null, updatedBy=null}
	ú16:05:18.629 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024212992, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":60000,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024131072, updatedTime=null, updatedBy=null}
	“16:05:18.629 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1024131072, createdBy=system internal, requestId=738246720, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":100,"orderItemId":10000,"quantity":2,"timestamp":1396253118579}, updatedTime=null, updatedBy=null}
	à16:05:18.629 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentRequestEntity{id=738246720, trackingGuid=7155371a-611e-4279-8912-81b347d39226, createdBy=system internal, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"orderId":1396253118579,"requester":"SYSTEM","userId":1396253118579}, orderId=1396253118579, updatedTime=null, updatedBy=null}
	ô16:05:18.629 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024196608, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":6,"items":[{"entityType":"ITEM","id":40000,"quantity":77,"sku":44444}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024131072, updatedTime=null, updatedBy=null}
	˜16:05:18.630 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024180224, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":4,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1024131072, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
	ò16:05:18.631 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024245760, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":3,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024229376, updatedTime=null, updatedBy=null}
	“16:05:18.631 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1024229376, createdBy=system internal, requestId=738246720, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":400,"orderItemId":20000,"quantity":3,"timestamp":1396253118579}, updatedTime=null, updatedBy=null}
	]16:05:18.632 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
	‘16:05:18.632 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	 16:05:18.632 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	í16:05:18.632 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BD0720000000D]
	ã16:05:18.632 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ü16:05:18.632 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ï16:05:18.633 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BD0720000000D
	ò16:05:18.633 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
	◊16:05:18.633 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	˚16:05:18.633 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ø16:05:18.634 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	Ç16:05:18.634 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from the inaccessible pool
	ë16:05:18.634 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	∫16:05:18.634 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	è16:05:18.634 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	Ø16:05:18.634 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	¯16:05:18.634 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 to the accessible pool
	®16:05:18.634 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@7904e8c4 was in state NOT_ACCESSIBLE, no need to test it
	Û16:05:18.634 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	”16:05:18.634 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	\16:05:18.634 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
	á16:05:18.634 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	¯16:05:18.634 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@7904e8c4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BD0720000000D : 737072696E672D62746D00000145172BD0760000000E]
	È16:05:18.635 [Test worker] DEBUG org.hibernate.SQL - select this_.fulfilment_id as fulfilment1_3_0_, this_.created_by as created2_3_0_, this_.created_time as created3_3_0_, this_.updated_by as updated4_3_0_, this_.updated_time as updated5_3_0_, this_.payload as payload3_0_, this_.request_id as request7_3_0_ from fulfilment_item this_ where this_.request_id=?
	øHibernate: select this_.fulfilment_id as fulfilment1_3_0_, this_.created_by as created2_3_0_, this_.created_time as created3_3_0_, this_.updated_by as updated4_3_0_, this_.updated_time as updated5_3_0_, this_.payload as payload3_0_, this_.request_id as request7_3_0_ from fulfilment_item this_ where this_.request_id=?
	Q16:05:18.636 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
	ë16:05:18.636 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentEntity#1024131072]
	Q16:05:18.637 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 1
	ë16:05:18.637 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentEntity#1024229376]
	]16:05:18.637 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
	ﬁ16:05:18.637 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2b2e24aa
	Í16:05:18.637 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	á16:05:18.637 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	é16:05:18.637 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	á16:05:18.637 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	é16:05:18.638 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ˆ16:05:18.638 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	™16:05:18.638 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	à16:05:18.638 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ª16:05:18.638 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	l16:05:18.638 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
	¸16:05:18.638 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from the accessible pool
	ç16:05:18.638 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	æ16:05:18.638 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	˛16:05:18.638 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 to the inaccessible pool
	Ì16:05:18.638 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	\16:05:18.638 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
	h16:05:18.638 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
	h16:05:18.639 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
	d16:05:18.639 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
	Ñ16:05:18.639 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 9 objects
	ä16:05:18.640 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
	U16:05:18.640 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
	˜16:05:18.640 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024163840, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1024131072, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
	÷16:05:18.640 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024147456, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"items":[{"entityType":"ITEM","id":10000,"quantity":888,"sku":11111},{"entityType":"ITEM","id":20000,"quantity":999,"sku":22222}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024131072, updatedTime=null, updatedBy=null}
	ú16:05:18.640 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024212992, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":60000,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024131072, updatedTime=null, updatedBy=null}
	“16:05:18.640 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1024131072, createdBy=system internal, requestId=738246720, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":100,"orderItemId":10000,"quantity":2,"timestamp":1396253118579}, updatedTime=null, updatedBy=null}
	à16:05:18.640 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentRequestEntity{id=738246720, trackingGuid=7155371a-611e-4279-8912-81b347d39226, createdBy=system internal, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"orderId":1396253118579,"requester":"SYSTEM","userId":1396253118579}, orderId=1396253118579, updatedTime=null, updatedBy=null}
	ô16:05:18.640 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024196608, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":6,"items":[{"entityType":"ITEM","id":40000,"quantity":77,"sku":44444}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024131072, updatedTime=null, updatedBy=null}
	˜16:05:18.640 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024180224, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":4,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1024131072, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
	ò16:05:18.641 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024245760, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":3,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024229376, updatedTime=null, updatedBy=null}
	“16:05:18.641 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1024229376, createdBy=system internal, requestId=738246720, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":400,"orderItemId":20000,"quantity":3,"timestamp":1396253118579}, updatedTime=null, updatedBy=null}
	]16:05:18.641 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
	‘16:05:18.641 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	 16:05:18.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	í16:05:18.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BD0720000000D]
	ã16:05:18.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ü16:05:18.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ï16:05:18.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BD0720000000D
	ò16:05:18.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
	◊16:05:18.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	˚16:05:18.641 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ø16:05:18.641 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	Ç16:05:18.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from the inaccessible pool
	ë16:05:18.641 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	∫16:05:18.642 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	è16:05:18.642 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	Ø16:05:18.642 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	¯16:05:18.642 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 to the accessible pool
	®16:05:18.642 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@7904e8c4 was in state NOT_ACCESSIBLE, no need to test it
	Û16:05:18.642 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	”16:05:18.642 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	\16:05:18.642 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
	á16:05:18.642 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	¯16:05:18.642 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@7904e8c4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BD0720000000D : 737072696E672D62746D00000145172BD0760000000E]
	º16:05:18.643 [Test worker] DEBUG org.hibernate.SQL - select this_.action_id as action1_2_0_, this_.created_by as created2_2_0_, this_.created_time as created3_2_0_, this_.updated_by as updated4_2_0_, this_.updated_time as updated5_2_0_, this_.fulfilment_id as fulfilment6_2_0_, this_.payload as payload2_0_, this_.result as result2_0_, this_.status as status2_0_, this_.type as type2_0_ from fulfilment_action this_ where this_.fulfilment_id=?
	íHibernate: select this_.action_id as action1_2_0_, this_.created_by as created2_2_0_, this_.created_time as created3_2_0_, this_.updated_by as updated4_2_0_, this_.updated_time as updated5_2_0_, this_.fulfilment_id as fulfilment6_2_0_, this_.payload as payload2_0_, this_.result as result2_0_, this_.status as status2_0_, this_.type as type2_0_ from fulfilment_action this_ where this_.fulfilment_id=?
	Q16:05:18.644 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
	ó16:05:18.644 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentActionEntity#1024147456]
	Q16:05:18.644 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 1
	ó16:05:18.644 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentActionEntity#1024196608]
	Q16:05:18.644 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 2
	ó16:05:18.644 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentActionEntity#1024212992]
	Q16:05:18.645 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 3
	ó16:05:18.645 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentActionEntity#1024163840]
	Q16:05:18.645 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 4
	ó16:05:18.645 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentActionEntity#1024180224]
	]16:05:18.645 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
	ﬁ16:05:18.645 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2b2e24aa
	Í16:05:18.645 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	á16:05:18.645 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	é16:05:18.645 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	á16:05:18.645 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	é16:05:18.645 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ˆ16:05:18.645 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	™16:05:18.645 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	à16:05:18.645 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ª16:05:18.645 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	l16:05:18.645 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
	¸16:05:18.645 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from the accessible pool
	ç16:05:18.645 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	æ16:05:18.645 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	˛16:05:18.645 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 to the inaccessible pool
	Ì16:05:18.645 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	\16:05:18.645 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
	h16:05:18.645 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
	h16:05:18.646 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
	d16:05:18.646 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
	Ñ16:05:18.647 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 9 objects
	ä16:05:18.647 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
	U16:05:18.647 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
	˜16:05:18.647 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024163840, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1024131072, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
	÷16:05:18.647 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024147456, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":2,"items":[{"entityType":"ITEM","id":10000,"quantity":888,"sku":11111},{"entityType":"ITEM","id":20000,"quantity":999,"sku":22222}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024131072, updatedTime=null, updatedBy=null}
	ú16:05:18.647 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024212992, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":60000,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024131072, updatedTime=null, updatedBy=null}
	“16:05:18.647 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1024131072, createdBy=system internal, requestId=738246720, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":100,"orderItemId":10000,"quantity":2,"timestamp":1396253118579}, updatedTime=null, updatedBy=null}
	à16:05:18.647 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentRequestEntity{id=738246720, trackingGuid=7155371a-611e-4279-8912-81b347d39226, createdBy=system internal, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"orderId":1396253118579,"requester":"SYSTEM","userId":1396253118579}, orderId=1396253118579, updatedTime=null, updatedBy=null}
	ô16:05:18.647 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024196608, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":6,"items":[{"entityType":"ITEM","id":40000,"quantity":77,"sku":44444}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024131072, updatedTime=null, updatedBy=null}
	˜16:05:18.647 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024180224, result=null, createdBy=system internal, status=2, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":4,"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=0, fulfilmentId=1024131072, updatedTime=Mon Mar 31 16:05:18 CST 2014, updatedBy=system internal}
	ò16:05:18.647 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentActionEntity{id=1024245760, result=null, createdBy=system internal, status=0, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"copyCount":3,"items":[{"entityType":"ITEM","id":50000,"quantity":9,"sku":55555}],"properties":{"ENTITLEMENT_DEVELOPER":"TEST_DEVELOPER","ENTITLEMENT_GROUP":"TEST_GROUP","ENTITLEMENT_TAG":"TEST_TAG","ENTITLEMENT_TYPE":"DOWNLOAD"}}, type=1, fulfilmentId=1024229376, updatedTime=null, updatedBy=null}
	“16:05:18.647 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1024229376, createdBy=system internal, requestId=738246720, createdTime=Mon Mar 31 16:05:18 CST 2014, payload={"offerId":400,"orderItemId":20000,"quantity":3,"timestamp":1396253118579}, updatedTime=null, updatedBy=null}
	]16:05:18.648 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
	‘16:05:18.648 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	 16:05:18.648 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	í16:05:18.648 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BD0720000000D]
	ã16:05:18.648 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ü16:05:18.648 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ï16:05:18.648 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BD0720000000D
	ò16:05:18.648 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
	◊16:05:18.648 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	˚16:05:18.648 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ø16:05:18.648 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	Ç16:05:18.648 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from the inaccessible pool
	ë16:05:18.648 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	∫16:05:18.648 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	è16:05:18.648 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	Ø16:05:18.648 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	¯16:05:18.648 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 to the accessible pool
	®16:05:18.648 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@7904e8c4 was in state NOT_ACCESSIBLE, no need to test it
	Û16:05:18.648 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	”16:05:18.648 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	\16:05:18.648 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
	á16:05:18.648 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	¯16:05:18.649 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@7904e8c4 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BD0720000000D : 737072696E672D62746D00000145172BD0760000000E]
	º16:05:18.652 [Test worker] DEBUG org.hibernate.SQL - select this_.action_id as action1_2_0_, this_.created_by as created2_2_0_, this_.created_time as created3_2_0_, this_.updated_by as updated4_2_0_, this_.updated_time as updated5_2_0_, this_.fulfilment_id as fulfilment6_2_0_, this_.payload as payload2_0_, this_.result as result2_0_, this_.status as status2_0_, this_.type as type2_0_ from fulfilment_action this_ where this_.fulfilment_id=?
	íHibernate: select this_.action_id as action1_2_0_, this_.created_by as created2_2_0_, this_.created_time as created3_2_0_, this_.updated_by as updated4_2_0_, this_.updated_time as updated5_2_0_, this_.fulfilment_id as fulfilment6_2_0_, this_.payload as payload2_0_, this_.result as result2_0_, this_.status as status2_0_, this_.type as type2_0_ from fulfilment_action this_ where this_.fulfilment_id=?
	Q16:05:18.654 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
	ó16:05:18.655 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentActionEntity#1024245760]
	]16:05:18.655 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
	ﬁ16:05:18.655 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2b2e24aa
	Í16:05:18.655 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	á16:05:18.656 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	é16:05:18.656 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	á16:05:18.665 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	é16:05:18.666 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ˆ16:05:18.666 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	™16:05:18.666 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BD0720000000D], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:18 CST 2014)
	à16:05:18.666 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	ª16:05:18.667 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	l16:05:18.667 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
	¸16:05:18.668 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 from the accessible pool
	ç16:05:18.668 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	æ16:05:18.668 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	˛16:05:18.668 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4 to the inaccessible pool
	Ì16:05:18.668 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@7904e8c4
	\16:05:18.668 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
	h16:05:18.669 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
