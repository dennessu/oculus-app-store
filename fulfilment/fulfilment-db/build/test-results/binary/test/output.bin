ª16:05:26.367 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
â16:05:26.370 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
–16:05:26.371 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Suspending current transaction, creating new transaction with name [com.junbo.sharding.id.oculus.OculusGlobalCounterInDBImpl.getAndIncrease]
˘16:05:26.371 [Test worker] DEBUG b.tm.BitronixTransactionManager - suspending transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEED500000001], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
∆16:05:26.371 [Test worker] DEBUG b.tm.BitronixTransactionManager - clearing current thread context: a ThreadContext (1134084554) with transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEED500000001], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014), default timeout 60s
_16:05:26.371 [Test worker] DEBUG b.tm.BitronixTransactionManager - beginning a new transaction
d16:05:26.371 [Test worker] DEBUG b.tm.BitronixTransactionManager - dumping 1 transaction context(s)
‚16:05:26.372 [Test worker] DEBUG b.tm.BitronixTransactionManager - a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEED500000001], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
ñ16:05:26.372 [Test worker] DEBUG bitronix.tm.BitronixTransaction - creating new transaction with GTRID [737072696E672D62746D00000145172BEEE400000002]
Æ16:05:26.372 [Test worker] DEBUG bitronix.tm.internal.ThreadContext - assigning <a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=NO_TRANSACTION, 0 resource(s) enlisted (started null)> to <a ThreadContext (1134084554) with transaction null, default timeout 60s>
i16:05:26.372 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to ACTIVE
ö16:05:26.372 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from NO_TRANSACTION to ACTIVE - executing 0 listener(s)
™16:05:26.372 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - scheduling transaction timeout task on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014) for Mon Mar 31 16:06:26 CST 2014
Û16:05:26.372 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - removing task by a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ã16:05:26.372 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - scheduled a TransactionTimeoutTask on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014) scheduled for Mon Mar 31 16:06:26 CST 2014, total task(s) queued: 5
y16:05:26.372 [Test worker] DEBUG b.tm.BitronixTransactionManager - begun new transaction at Mon Mar 31 16:05:26 CST 2014
ƒ16:05:26.377 [Test worker] DEBUG o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'IdGlobalCounterDAOImpl.get' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
â16:05:26.377 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
i16:05:26.377 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
÷16:05:26.401 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementRegisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D00000145172BEED500000001
÷16:05:26.402 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementRegisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D00000145172BEEE400000002
º16:05:26.416 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@2c3dbf01
p16:05:26.417 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:26.417 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531263
¶16:05:26.418 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@44aca693
]16:05:26.453 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:26.453 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
ƒ16:05:26.453 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
í16:05:26.453 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BEEE400000002]
Ä16:05:26.453 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
…16:05:26.454 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available), waiting if necessary
Ø16:05:26.454 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 - closing time: 1396253184054, now time: 1396253126454
Ω16:05:26.454 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
Ó16:05:26.454 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
´16:05:26.454 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
˝16:05:26.454 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
≠16:05:26.454 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Ú16:05:26.454 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 to the accessible pool
ô16:05:26.454 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@585cbda6 was in state IN_POOL, testing it
Ä16:05:26.454 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6, skipping test
Ì16:05:26.454 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Õ16:05:26.455 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:26.455 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:26.455 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
ï16:05:26.456 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@585cbda6 belongs to a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
…16:05:26.457 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D00000145172BEEE400000002 : 737072696E672D62746D00000145172BEF3900000003]
ø16:05:26.458 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D00000145172BEEE400000002 : 737072696E672D62746D00000145172BEF3900000003]> to <an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@585cbda6 with XID null>
ø16:05:26.458 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@585cbda6 with XID a Bitronix XID [737072696E672D62746D00000145172BEEE400000002 : 737072696E672D62746D00000145172BEF3900000003] with NOFLAGS
»16:05:26.458 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@585cbda6 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BEEE400000002 : 737072696E672D62746D00000145172BEF3900000003] with NOFLAGS
‚16:05:26.458 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@585cbda6 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BEEE400000002 : 737072696E672D62746D00000145172BEF3900000003]] on a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Õ16:05:26.458 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D00000145172BEEE400000002] previously unknown to a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6, adding it to the resource's transactions list
|16:05:26.476 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:05:26.488 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 0 -> shardId [1]
i16:05:26.490 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:05:26.510 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:05:26.513 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#2]
]16:05:26.517 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:26.518 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@6caa32cd
‰16:05:26.518 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Å16:05:26.518 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.518 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Å16:05:26.518 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.518 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
16:05:26.518 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
§16:05:26.518 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ç16:05:26.518 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
µ16:05:26.519 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
l16:05:26.519 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:26.519 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from the accessible pool
á16:05:26.519 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
∏16:05:26.519 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
¯16:05:26.519 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 to the inaccessible pool
Á16:05:26.519 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
\16:05:26.519 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
Ü16:05:26.519 [Test worker] DEBUG o.h.e.j.i.p.ConnectionProxyHandler - HHH000163: Logical connection releasing its physical connection
ï16:05:26.520 [Test worker] DEBUG o.h.engine.internal.TwoPhaseLoad - Resolving associations for [com.junbo.sharding.id.model.IdGlobalCounterEntity#2]
î16:05:26.522 [Test worker] DEBUG o.h.engine.internal.TwoPhaseLoad - Done materializing entity [com.junbo.sharding.id.model.IdGlobalCounterEntity#2]
h16:05:26.522 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
Õ16:05:26.524 [Test worker] DEBUG o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'IdGlobalCounterDAOImpl.saveOrUpdate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
â16:05:26.524 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
i16:05:26.524 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
h16:05:26.525 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:26.527 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:26.530 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
ä16:05:26.531 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:26.532 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:05:26.532 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=2, shardId=0, globalCounter=62, optionMode=2}
|16:05:26.532 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: id_global_counter
]16:05:26.551 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:26.551 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:26.551 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:26.551 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BEEE400000002]
Ö16:05:26.551 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
ô16:05:26.551 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
ï16:05:26.552 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BEEE400000002
ò16:05:26.552 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:05:26.552 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:05:26.552 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
π16:05:26.552 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
¸16:05:26.552 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from the inaccessible pool
ã16:05:26.552 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
¥16:05:26.552 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
â16:05:26.552 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
©16:05:26.552 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.552 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 to the accessible pool
®16:05:26.552 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@585cbda6 was in state NOT_ACCESSIBLE, no need to test it
Ì16:05:26.552 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Õ16:05:26.553 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:26.553 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:26.553 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.553 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@585cbda6 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BEEE400000002 : 737072696E672D62746D00000145172BEF3900000003]
á16:05:26.553 [Test worker] DEBUG org.hibernate.SQL - update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
]Hibernate: update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
`16:05:26.554 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:26.557 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
]16:05:26.557 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:26.557 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@6caa32cd
‰16:05:26.557 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Å16:05:26.557 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.557 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Å16:05:26.557 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.558 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
16:05:26.558 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
§16:05:26.558 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ç16:05:26.558 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
µ16:05:26.558 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
l16:05:26.558 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:26.558 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from the accessible pool
á16:05:26.558 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
∏16:05:26.559 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
¯16:05:26.559 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 to the inaccessible pool
Á16:05:26.559 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
\16:05:26.559 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
]16:05:26.559 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:26.559 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:26.560 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:26.560 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BEEE400000002]
Ö16:05:26.560 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
ô16:05:26.560 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
ï16:05:26.560 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BEEE400000002
ò16:05:26.560 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:05:26.560 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:05:26.560 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
π16:05:26.560 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
¸16:05:26.560 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from the inaccessible pool
ã16:05:26.560 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
¥16:05:26.560 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
â16:05:26.560 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
©16:05:26.560 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.560 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 to the accessible pool
®16:05:26.560 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@585cbda6 was in state NOT_ACCESSIBLE, no need to test it
Ì16:05:26.561 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Õ16:05:26.561 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:26.561 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:26.561 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.561 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@585cbda6 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BEEE400000002 : 737072696E672D62746D00000145172BEF3900000003]
|16:05:26.561 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:05:26.561 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 0 -> shardId [1]
i16:05:26.562 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:05:26.564 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:05:26.565 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#2]
]16:05:26.565 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:26.565 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@6caa32cd
‰16:05:26.565 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Å16:05:26.565 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.565 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Å16:05:26.565 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.566 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
16:05:26.566 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
§16:05:26.566 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ç16:05:26.566 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
µ16:05:26.566 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
l16:05:26.566 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:26.566 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from the accessible pool
á16:05:26.566 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
∏16:05:26.566 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
¯16:05:26.566 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 to the inaccessible pool
Á16:05:26.566 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
\16:05:26.566 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:26.566 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
h16:05:26.574 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:26.574 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:26.575 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
ä16:05:26.575 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:26.575 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:05:26.575 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=2, shardId=0, globalCounter=62, optionMode=2}
|16:05:26.575 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: id_global_counter
]16:05:26.576 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:26.576 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:26.576 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:26.576 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BEEE400000002]
Ö16:05:26.576 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
ô16:05:26.576 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
ï16:05:26.576 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BEEE400000002
ò16:05:26.576 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:05:26.577 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:05:26.577 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
π16:05:26.577 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
¸16:05:26.577 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from the inaccessible pool
ã16:05:26.577 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
¥16:05:26.577 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
â16:05:26.577 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
©16:05:26.577 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.577 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 to the accessible pool
®16:05:26.577 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@585cbda6 was in state NOT_ACCESSIBLE, no need to test it
Ì16:05:26.577 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Õ16:05:26.577 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:26.577 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:26.578 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.578 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@585cbda6 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BEEE400000002 : 737072696E672D62746D00000145172BEF3900000003]
á16:05:26.578 [Test worker] DEBUG org.hibernate.SQL - update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
]Hibernate: update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
`16:05:26.579 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:26.581 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
]16:05:26.581 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:26.581 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@6caa32cd
‰16:05:26.581 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Å16:05:26.581 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.582 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Å16:05:26.582 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.582 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
16:05:26.582 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
§16:05:26.582 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ç16:05:26.582 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
µ16:05:26.582 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
l16:05:26.582 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:26.582 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from the accessible pool
á16:05:26.582 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
∏16:05:26.582 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
¯16:05:26.583 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 to the inaccessible pool
Á16:05:26.583 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
\16:05:26.583 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
]16:05:26.583 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:26.583 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:26.583 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:26.583 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BEEE400000002]
Ö16:05:26.583 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
ô16:05:26.583 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
ï16:05:26.583 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BEEE400000002
ò16:05:26.583 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:05:26.583 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:05:26.583 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
π16:05:26.583 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
¸16:05:26.583 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from the inaccessible pool
ã16:05:26.583 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
¥16:05:26.583 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
â16:05:26.583 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
©16:05:26.584 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.584 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 to the accessible pool
®16:05:26.584 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@585cbda6 was in state NOT_ACCESSIBLE, no need to test it
Ì16:05:26.584 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Õ16:05:26.584 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:26.584 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:26.584 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.584 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@585cbda6 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BEEE400000002 : 737072696E672D62746D00000145172BEF3900000003]
|16:05:26.584 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:05:26.585 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 0 -> shardId [1]
i16:05:26.585 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:05:26.586 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:05:26.587 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#2]
]16:05:26.587 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:26.587 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@6caa32cd
‰16:05:26.587 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Å16:05:26.587 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.587 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Å16:05:26.587 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.587 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
16:05:26.587 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
§16:05:26.588 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ç16:05:26.588 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
µ16:05:26.588 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
l16:05:26.588 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:26.588 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from the accessible pool
á16:05:26.588 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
∏16:05:26.588 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
¯16:05:26.588 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 to the inaccessible pool
Á16:05:26.588 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
\16:05:26.588 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:26.588 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
h16:05:26.589 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:26.589 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:26.589 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
ä16:05:26.589 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:26.589 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:05:26.589 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=2, shardId=0, globalCounter=62, optionMode=2}
]16:05:26.589 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:26.589 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:26.589 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:26.589 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BEEE400000002]
Ö16:05:26.590 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
ô16:05:26.590 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
ï16:05:26.590 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BEEE400000002
ò16:05:26.590 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:05:26.590 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:05:26.590 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
π16:05:26.590 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
¸16:05:26.590 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from the inaccessible pool
ã16:05:26.590 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
¥16:05:26.590 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
â16:05:26.590 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
©16:05:26.590 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.590 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 to the accessible pool
®16:05:26.590 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@585cbda6 was in state NOT_ACCESSIBLE, no need to test it
Ì16:05:26.590 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Õ16:05:26.590 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:26.590 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:26.591 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.591 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@585cbda6 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BEEE400000002 : 737072696E672D62746D00000145172BEF3900000003]
|16:05:26.591 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:05:26.591 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 0 -> shardId [1]
i16:05:26.592 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:05:26.593 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:05:26.593 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#2]
]16:05:26.593 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:26.593 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@6caa32cd
‰16:05:26.593 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Å16:05:26.593 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.593 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Å16:05:26.593 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.593 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
16:05:26.593 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
§16:05:26.593 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ç16:05:26.594 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
µ16:05:26.594 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
l16:05:26.594 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:26.594 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from the accessible pool
á16:05:26.594 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
∏16:05:26.594 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
¯16:05:26.594 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 to the inaccessible pool
Á16:05:26.594 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
\16:05:26.594 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:26.594 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
a16:05:26.594 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Initiating transaction commit
˘16:05:26.594 [Test worker] DEBUG b.tm.BitronixTransactionManager - committing transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
â16:05:26.594 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - cancelling transaction timeout task on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Û16:05:26.594 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - removing task by a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
“16:05:26.595 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - cancelled a TransactionTimeoutTask on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014) scheduled for Mon Mar 31 16:06:26 CST 2014, total task(s) still queued: 4
v16:05:26.595 [Test worker] DEBUG bitronix.tm.BitronixTransaction - before completion, 4 synchronization(s) to execute
î16:05:26.595 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a DeferredReleaseSynchronization of a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
û16:05:26.596 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a ClearContextSynchronization for a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
∫16:05:26.596 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@2c3dbf01
h16:05:26.596 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:26.596 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:26.596 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
ä16:05:26.596 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:26.596 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:05:26.596 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=2, shardId=0, globalCounter=62, optionMode=2}
]16:05:26.596 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
§16:05:26.597 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@44aca693
“16:05:26.597 [Test worker] DEBUG bitronix.tm.BitronixTransaction - found unclosed resource to delist: an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@585cbda6 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BEEE400000002 : 737072696E672D62746D00000145172BEF3900000003]
¬16:05:26.597 [Test worker] DEBUG b.tm.internal.XAResourceManager - delisting resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@585cbda6 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BEEE400000002 : 737072696E672D62746D00000145172BEF3900000003]
«16:05:26.597 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - ending an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@585cbda6 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BEEE400000002 : 737072696E672D62746D00000145172BEF3900000003] with SUCCESS
∆16:05:26.597 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - ended an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@585cbda6 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BEEE400000002 : 737072696E672D62746D00000145172BEF3900000003] with SUCCESS
f16:05:26.597 [Test worker] DEBUG bitronix.tm.BitronixTransaction - committing, 1 enlisted resource(s)
l16:05:26.597 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to PREPARING
ï16:05:26.597 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from ACTIVE to PREPARING - executing 0 listener(s)
k16:05:26.597 [Test worker] DEBUG bitronix.tm.twopc.Preparer - 1 resource enlisted, no prepare needed (1PC)
k16:05:26.597 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to PREPARED
ó16:05:26.597 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from PREPARING to PREPARED - executing 0 listener(s)
\16:05:26.597 [Test worker] DEBUG bitronix.tm.BitronixTransaction - 1 interested resource(s)
m16:05:26.597 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to COMMITTING
ò16:05:26.597 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from PREPARED to COMMITTING - executing 0 listener(s)
ó16:05:26.598 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - executing phase on 1 resource(s) enlisted in 1 position(s) in reverse position order
d16:05:26.598 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - running 1 job(s) for position '1'
€16:05:26.599 [Test worker] DEBUG bitronix.tm.twopc.Committer - committing resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@585cbda6 (ended) with XID a Bitronix XID [737072696E672D62746D00000145172BEEE400000002 : 737072696E672D62746D00000145172BEF3900000003] (with one-phase optimization)
º16:05:26.600 [Test worker] DEBUG bitronix.tm.twopc.Committer - committed resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@585cbda6 (ended) with XID a Bitronix XID [737072696E672D62746D00000145172BEEE400000002 : 737072696E672D62746D00000145172BEF3900000003]
e16:05:26.600 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - phase executed with 0 exception(s)
`16:05:26.601 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - ran 1 job(s) for position '1'
t16:05:26.601 [Test worker] DEBUG bitronix.tm.twopc.Committer - phase 2 commit executed on resources [jdbc/sharding]
u16:05:26.601 [Test worker] DEBUG bitronix.tm.twopc.Committer - phase 2 commit succeeded on resources [jdbc/sharding]
l16:05:26.601 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to COMMITTED
ô16:05:26.602 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from COMMITTING to COMMITTED - executing 0 listener(s)
¸16:05:26.602 [Test worker] DEBUG bitronix.tm.BitronixTransaction - successfully committed a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=COMMITTED, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
u16:05:26.602 [Test worker] DEBUG b.tm.internal.XAResourceManager - clearing XAResourceHolder states on 1 resource(s)
Ô16:05:26.602 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - removing XAResourceHolderState of xid a Bitronix XID [737072696E672D62746D00000145172BEEE400000002 : 737072696E672D62746D00000145172BEF3900000003] from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
∫16:05:26.602 [Test worker] DEBUG b.tm.internal.XAResourceManager - resource a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 cleaned up all transaction states for GTRID [737072696E672D62746D00000145172BEEE400000002]
u16:05:26.602 [Test worker] DEBUG bitronix.tm.BitronixTransaction - after completion, 4 synchronization(s) to execute
–16:05:26.602 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@2c3dbf01 with status=COMMITTED
j16:05:26.602 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Aggressively releasing JDBC connection
m16:05:26.603 [Test worker] DEBUG o.h.e.j.internal.JdbcCoordinatorImpl - HHH000420: Closing un-released batch
∫16:05:26.604 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@44aca693 with status=COMMITTED
∑16:05:26.604 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a ClearContextSynchronization for a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=COMMITTED, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014) with status=COMMITTED
“16:05:26.604 [Test worker] DEBUG b.tm.BitronixTransactionManager - clearing transaction from thread context: a ThreadContext (1134084554) with transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=COMMITTED, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014), default timeout 60s
ó16:05:26.604 [Test worker] DEBUG b.tm.BitronixTransactionManager - removing transaction from in-flight transactions: a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEEE400000002], status=COMMITTED, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
™16:05:26.604 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a DeferredReleaseSynchronization of a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 with status=COMMITTED
Ü16:05:26.604 [Test worker] DEBUG b.t.r.c.DeferredReleaseSynchronization - DeferredReleaseSynchronization requeuing a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
∂16:05:26.604 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
l16:05:26.605 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
¸16:05:26.605 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 from the inaccessible pool
à16:05:26.605 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Æ16:05:26.605 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
Ó16:05:26.605 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6 to the available pool
˛16:05:26.605 [Test worker] DEBUG b.t.r.c.DeferredReleaseSynchronization - DeferredReleaseSynchronization requeued a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@585cbda6
à16:05:26.605 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Resuming suspended transaction after completion of inner transaction
Î16:05:26.605 [Test worker] DEBUG b.tm.BitronixTransactionManager - resuming a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEED500000001], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
æ16:05:26.605 [Test worker] DEBUG bitronix.tm.internal.ThreadContext - assigning <a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BEED500000001], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)> to <a ThreadContext (1134084554) with transaction null, default timeout 60s>
º16:05:26.627 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@516873e1
p16:05:26.628 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:26.628 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531266
¶16:05:26.628 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@7161572b
ë16:05:26.630 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1040203776, using strategy: org.hibernate.id.Assigned
º16:05:26.644 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@5f94997c
p16:05:26.644 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:26.645 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531266
¶16:05:26.645 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@7e6f6649
ë16:05:26.645 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1040220160, using strategy: org.hibernate.id.Assigned
â16:05:26.750 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
–16:05:26.750 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Suspending current transaction, creating new transaction with name [com.junbo.sharding.id.oculus.OculusGlobalCounterInDBImpl.getAndIncrease]
˘16:05:26.750 [Test worker] DEBUG b.tm.BitronixTransactionManager - suspending transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF00800000005], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
∆16:05:26.750 [Test worker] DEBUG b.tm.BitronixTransactionManager - clearing current thread context: a ThreadContext (1134084554) with transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF00800000005], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014), default timeout 60s
_16:05:26.750 [Test worker] DEBUG b.tm.BitronixTransactionManager - beginning a new transaction
d16:05:26.750 [Test worker] DEBUG b.tm.BitronixTransactionManager - dumping 1 transaction context(s)
‚16:05:26.751 [Test worker] DEBUG b.tm.BitronixTransactionManager - a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF00800000005], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
ñ16:05:26.751 [Test worker] DEBUG bitronix.tm.BitronixTransaction - creating new transaction with GTRID [737072696E672D62746D00000145172BF05F00000006]
Æ16:05:26.751 [Test worker] DEBUG bitronix.tm.internal.ThreadContext - assigning <a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=NO_TRANSACTION, 0 resource(s) enlisted (started null)> to <a ThreadContext (1134084554) with transaction null, default timeout 60s>
i16:05:26.751 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to ACTIVE
ö16:05:26.751 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from NO_TRANSACTION to ACTIVE - executing 0 listener(s)
™16:05:26.751 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - scheduling transaction timeout task on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014) for Mon Mar 31 16:06:26 CST 2014
Û16:05:26.751 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - removing task by a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ã16:05:26.751 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - scheduled a TransactionTimeoutTask on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014) scheduled for Mon Mar 31 16:06:26 CST 2014, total task(s) queued: 5
y16:05:26.751 [Test worker] DEBUG b.tm.BitronixTransactionManager - begun new transaction at Mon Mar 31 16:05:26 CST 2014
â16:05:26.751 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
i16:05:26.751 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
ª16:05:26.752 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@719bf3a
p16:05:26.752 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:26.752 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531267
¶16:05:26.752 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@536e5b7b
]16:05:26.752 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:26.752 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
ƒ16:05:26.752 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
í16:05:26.752 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BF05F00000006]
Ä16:05:26.752 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
…16:05:26.752 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available), waiting if necessary
Ø16:05:26.753 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f - closing time: 1396253184446, now time: 1396253126753
Ω16:05:26.753 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
Ó16:05:26.753 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
´16:05:26.753 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
˝16:05:26.753 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
≠16:05:26.753 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Ú16:05:26.753 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f to the accessible pool
ô16:05:26.753 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@67d8ef2f was in state IN_POOL, testing it
Ä16:05:26.753 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f, skipping test
Ì16:05:26.753 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Õ16:05:26.753 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:26.753 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:26.753 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
ï16:05:26.753 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@67d8ef2f belongs to a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
…16:05:26.753 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D00000145172BF05F00000006 : 737072696E672D62746D00000145172BF06100000007]
ø16:05:26.753 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D00000145172BF05F00000006 : 737072696E672D62746D00000145172BF06100000007]> to <an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@67d8ef2f with XID null>
ø16:05:26.754 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@67d8ef2f with XID a Bitronix XID [737072696E672D62746D00000145172BF05F00000006 : 737072696E672D62746D00000145172BF06100000007] with NOFLAGS
»16:05:26.754 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@67d8ef2f (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF05F00000006 : 737072696E672D62746D00000145172BF06100000007] with NOFLAGS
‚16:05:26.754 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@67d8ef2f (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF05F00000006 : 737072696E672D62746D00000145172BF06100000007]] on a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Õ16:05:26.754 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D00000145172BF05F00000006] previously unknown to a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f, adding it to the resource's transactions list
|16:05:26.754 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:05:26.754 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 1 -> shardId [1]
i16:05:26.754 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:05:26.756 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:05:26.756 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
]16:05:26.757 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:26.757 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@44df9441
‰16:05:26.757 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Å16:05:26.757 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.757 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Å16:05:26.757 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.757 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
16:05:26.757 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
§16:05:26.757 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ç16:05:26.758 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
µ16:05:26.758 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
l16:05:26.758 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:26.758 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from the accessible pool
á16:05:26.758 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
∏16:05:26.758 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
¯16:05:26.758 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f to the inaccessible pool
Á16:05:26.758 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
\16:05:26.758 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
Ü16:05:26.758 [Test worker] DEBUG o.h.e.j.i.p.ConnectionProxyHandler - HHH000163: Logical connection releasing its physical connection
ï16:05:26.758 [Test worker] DEBUG o.h.engine.internal.TwoPhaseLoad - Resolving associations for [com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
î16:05:26.758 [Test worker] DEBUG o.h.engine.internal.TwoPhaseLoad - Done materializing entity [com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
h16:05:26.758 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
â16:05:26.759 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
i16:05:26.759 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
h16:05:26.759 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:26.759 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:26.759 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
ä16:05:26.759 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:26.759 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:05:26.760 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=1, shardId=1, globalCounter=45, optionMode=2}
|16:05:26.760 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: id_global_counter
]16:05:26.760 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:26.760 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:26.760 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:26.760 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BF05F00000006]
Ö16:05:26.760 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
ô16:05:26.760 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
ï16:05:26.760 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BF05F00000006
ò16:05:26.760 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:05:26.760 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:05:26.760 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
π16:05:26.760 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
¸16:05:26.761 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from the inaccessible pool
ã16:05:26.761 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
¥16:05:26.761 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
â16:05:26.761 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
©16:05:26.761 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.761 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f to the accessible pool
®16:05:26.761 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@67d8ef2f was in state NOT_ACCESSIBLE, no need to test it
Ì16:05:26.761 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Õ16:05:26.761 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:26.761 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:26.761 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.761 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@67d8ef2f (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF05F00000006 : 737072696E672D62746D00000145172BF06100000007]
á16:05:26.761 [Test worker] DEBUG org.hibernate.SQL - update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
]Hibernate: update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
`16:05:26.762 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:26.763 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
]16:05:26.763 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:26.764 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@44df9441
‰16:05:26.764 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Å16:05:26.764 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.764 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Å16:05:26.764 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.764 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
16:05:26.764 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
§16:05:26.764 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ç16:05:26.764 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
µ16:05:26.764 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
l16:05:26.764 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:26.764 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from the accessible pool
á16:05:26.764 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
∏16:05:26.764 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
¯16:05:26.764 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f to the inaccessible pool
Á16:05:26.765 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
\16:05:26.765 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
]16:05:26.765 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:26.765 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:26.765 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:26.765 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BF05F00000006]
Ö16:05:26.765 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
ô16:05:26.765 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
ï16:05:26.765 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BF05F00000006
ò16:05:26.765 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:05:26.765 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:05:26.765 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
π16:05:26.765 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
¸16:05:26.765 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from the inaccessible pool
ã16:05:26.765 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
¥16:05:26.765 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
â16:05:26.765 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
©16:05:26.766 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.766 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f to the accessible pool
®16:05:26.766 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@67d8ef2f was in state NOT_ACCESSIBLE, no need to test it
Ì16:05:26.766 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Õ16:05:26.766 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:26.766 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:26.766 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.766 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@67d8ef2f (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF05F00000006 : 737072696E672D62746D00000145172BF06100000007]
|16:05:26.766 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:05:26.766 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 1 -> shardId [1]
i16:05:26.767 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:05:26.768 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:05:26.768 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
]16:05:26.768 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:26.768 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@44df9441
‰16:05:26.768 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Å16:05:26.768 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.768 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Å16:05:26.768 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.768 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
16:05:26.768 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
§16:05:26.768 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ç16:05:26.768 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
µ16:05:26.769 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
l16:05:26.769 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:26.769 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from the accessible pool
á16:05:26.769 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
∏16:05:26.769 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
¯16:05:26.769 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f to the inaccessible pool
Á16:05:26.769 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
\16:05:26.769 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:26.769 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
h16:05:26.770 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:26.770 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:26.770 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
ä16:05:26.770 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:26.770 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:05:26.770 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=1, shardId=1, globalCounter=45, optionMode=2}
|16:05:26.770 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: id_global_counter
]16:05:26.770 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:26.770 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:26.771 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:26.771 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BF05F00000006]
Ö16:05:26.771 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
ô16:05:26.771 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
ï16:05:26.771 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BF05F00000006
ò16:05:26.771 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:05:26.771 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:05:26.771 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
π16:05:26.771 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
¸16:05:26.771 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from the inaccessible pool
ã16:05:26.771 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
¥16:05:26.771 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
â16:05:26.771 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
©16:05:26.771 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.771 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f to the accessible pool
®16:05:26.771 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@67d8ef2f was in state NOT_ACCESSIBLE, no need to test it
Ì16:05:26.771 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Õ16:05:26.771 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:26.772 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:26.772 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.772 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@67d8ef2f (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF05F00000006 : 737072696E672D62746D00000145172BF06100000007]
á16:05:26.772 [Test worker] DEBUG org.hibernate.SQL - update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
]Hibernate: update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
`16:05:26.772 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:26.773 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
]16:05:26.773 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:26.774 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@44df9441
‰16:05:26.774 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Å16:05:26.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Å16:05:26.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
16:05:26.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
§16:05:26.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ç16:05:26.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
µ16:05:26.774 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
l16:05:26.774 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:26.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from the accessible pool
á16:05:26.775 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
∏16:05:26.775 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
¯16:05:26.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f to the inaccessible pool
Á16:05:26.775 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
\16:05:26.775 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
]16:05:26.775 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:26.775 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:26.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:26.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BF05F00000006]
Ö16:05:26.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
ô16:05:26.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
ï16:05:26.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BF05F00000006
ò16:05:26.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:05:26.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:05:26.775 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
π16:05:26.776 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
¸16:05:26.776 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from the inaccessible pool
ã16:05:26.776 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
¥16:05:26.776 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
â16:05:26.776 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
©16:05:26.776 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.776 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f to the accessible pool
®16:05:26.776 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@67d8ef2f was in state NOT_ACCESSIBLE, no need to test it
Ì16:05:26.776 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Õ16:05:26.776 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:26.776 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:26.776 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.777 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@67d8ef2f (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF05F00000006 : 737072696E672D62746D00000145172BF06100000007]
|16:05:26.777 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:05:26.777 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 1 -> shardId [1]
i16:05:26.777 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:05:26.779 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:05:26.779 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
]16:05:26.779 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:26.779 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@44df9441
‰16:05:26.779 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Å16:05:26.779 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.779 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Å16:05:26.779 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.779 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
16:05:26.780 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
§16:05:26.780 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ç16:05:26.780 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
µ16:05:26.780 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
l16:05:26.780 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:26.780 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from the accessible pool
á16:05:26.780 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
∏16:05:26.780 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
¯16:05:26.780 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f to the inaccessible pool
Á16:05:26.780 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
\16:05:26.780 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:26.780 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
h16:05:26.781 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:26.781 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:26.781 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
ä16:05:26.781 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:26.781 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:05:26.781 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=1, shardId=1, globalCounter=45, optionMode=2}
]16:05:26.781 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:05:26.781 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:05:26.781 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:05:26.781 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BF05F00000006]
Ö16:05:26.781 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
ô16:05:26.782 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
ï16:05:26.782 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BF05F00000006
ò16:05:26.782 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:05:26.782 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:05:26.782 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
π16:05:26.782 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
¸16:05:26.782 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from the inaccessible pool
ã16:05:26.782 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
¥16:05:26.782 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
â16:05:26.782 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
©16:05:26.782 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.782 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f to the accessible pool
®16:05:26.782 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@67d8ef2f was in state NOT_ACCESSIBLE, no need to test it
Ì16:05:26.782 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Õ16:05:26.783 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:05:26.783 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:05:26.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ú16:05:26.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@67d8ef2f (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF05F00000006 : 737072696E672D62746D00000145172BF06100000007]
|16:05:26.783 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:05:26.784 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 1 -> shardId [1]
i16:05:26.784 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:05:26.786 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:05:26.786 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
]16:05:26.787 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:05:26.787 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@44df9441
‰16:05:26.787 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Å16:05:26.787 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.787 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Å16:05:26.787 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
à16:05:26.788 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
16:05:26.788 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
§16:05:26.788 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Ç16:05:26.788 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
µ16:05:26.788 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
l16:05:26.788 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:05:26.788 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from the accessible pool
á16:05:26.788 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
∏16:05:26.788 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
¯16:05:26.788 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f to the inaccessible pool
Á16:05:26.788 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
\16:05:26.788 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:26.788 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
a16:05:26.788 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Initiating transaction commit
˘16:05:26.788 [Test worker] DEBUG b.tm.BitronixTransactionManager - committing transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
â16:05:26.788 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - cancelling transaction timeout task on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
Û16:05:26.789 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - removing task by a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
“16:05:26.789 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - cancelled a TransactionTimeoutTask on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014) scheduled for Mon Mar 31 16:06:26 CST 2014, total task(s) still queued: 4
v16:05:26.789 [Test worker] DEBUG bitronix.tm.BitronixTransaction - before completion, 4 synchronization(s) to execute
î16:05:26.789 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a DeferredReleaseSynchronization of a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
û16:05:26.789 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a ClearContextSynchronization for a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
π16:05:26.789 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@719bf3a
h16:05:26.789 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:26.789 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:26.789 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
ä16:05:26.789 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:26.789 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:05:26.790 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=1, shardId=1, globalCounter=45, optionMode=2}
]16:05:26.790 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
§16:05:26.790 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@536e5b7b
“16:05:26.790 [Test worker] DEBUG bitronix.tm.BitronixTransaction - found unclosed resource to delist: an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@67d8ef2f (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF05F00000006 : 737072696E672D62746D00000145172BF06100000007]
¬16:05:26.790 [Test worker] DEBUG b.tm.internal.XAResourceManager - delisting resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@67d8ef2f (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF05F00000006 : 737072696E672D62746D00000145172BF06100000007]
«16:05:26.790 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - ending an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@67d8ef2f (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF05F00000006 : 737072696E672D62746D00000145172BF06100000007] with SUCCESS
∆16:05:26.790 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - ended an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@67d8ef2f (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF05F00000006 : 737072696E672D62746D00000145172BF06100000007] with SUCCESS
f16:05:26.790 [Test worker] DEBUG bitronix.tm.BitronixTransaction - committing, 1 enlisted resource(s)
l16:05:26.790 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to PREPARING
ï16:05:26.790 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from ACTIVE to PREPARING - executing 0 listener(s)
k16:05:26.790 [Test worker] DEBUG bitronix.tm.twopc.Preparer - 1 resource enlisted, no prepare needed (1PC)
k16:05:26.790 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to PREPARED
ó16:05:26.790 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from PREPARING to PREPARED - executing 0 listener(s)
\16:05:26.790 [Test worker] DEBUG bitronix.tm.BitronixTransaction - 1 interested resource(s)
m16:05:26.790 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to COMMITTING
ò16:05:26.790 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from PREPARED to COMMITTING - executing 0 listener(s)
ó16:05:26.790 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - executing phase on 1 resource(s) enlisted in 1 position(s) in reverse position order
d16:05:26.791 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - running 1 job(s) for position '1'
€16:05:26.791 [Test worker] DEBUG bitronix.tm.twopc.Committer - committing resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@67d8ef2f (ended) with XID a Bitronix XID [737072696E672D62746D00000145172BF05F00000006 : 737072696E672D62746D00000145172BF06100000007] (with one-phase optimization)
º16:05:26.795 [Test worker] DEBUG bitronix.tm.twopc.Committer - committed resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@67d8ef2f (ended) with XID a Bitronix XID [737072696E672D62746D00000145172BF05F00000006 : 737072696E672D62746D00000145172BF06100000007]
e16:05:26.796 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - phase executed with 0 exception(s)
`16:05:26.796 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - ran 1 job(s) for position '1'
t16:05:26.796 [Test worker] DEBUG bitronix.tm.twopc.Committer - phase 2 commit executed on resources [jdbc/sharding]
u16:05:26.796 [Test worker] DEBUG bitronix.tm.twopc.Committer - phase 2 commit succeeded on resources [jdbc/sharding]
l16:05:26.796 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to COMMITTED
ô16:05:26.796 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from COMMITTING to COMMITTED - executing 0 listener(s)
¸16:05:26.796 [Test worker] DEBUG bitronix.tm.BitronixTransaction - successfully committed a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=COMMITTED, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
u16:05:26.796 [Test worker] DEBUG b.tm.internal.XAResourceManager - clearing XAResourceHolder states on 1 resource(s)
Ô16:05:26.796 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - removing XAResourceHolderState of xid a Bitronix XID [737072696E672D62746D00000145172BF05F00000006 : 737072696E672D62746D00000145172BF06100000007] from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
∫16:05:26.796 [Test worker] DEBUG b.tm.internal.XAResourceManager - resource a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f cleaned up all transaction states for GTRID [737072696E672D62746D00000145172BF05F00000006]
u16:05:26.796 [Test worker] DEBUG bitronix.tm.BitronixTransaction - after completion, 4 synchronization(s) to execute
œ16:05:26.796 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@719bf3a with status=COMMITTED
j16:05:26.796 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Aggressively releasing JDBC connection
m16:05:26.797 [Test worker] DEBUG o.h.e.j.internal.JdbcCoordinatorImpl - HHH000420: Closing un-released batch
∫16:05:26.797 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@536e5b7b with status=COMMITTED
∑16:05:26.797 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a ClearContextSynchronization for a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=COMMITTED, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014) with status=COMMITTED
“16:05:26.797 [Test worker] DEBUG b.tm.BitronixTransactionManager - clearing transaction from thread context: a ThreadContext (1134084554) with transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=COMMITTED, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014), default timeout 60s
ó16:05:26.797 [Test worker] DEBUG b.tm.BitronixTransactionManager - removing transaction from in-flight transactions: a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF05F00000006], status=COMMITTED, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
™16:05:26.797 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a DeferredReleaseSynchronization of a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f with status=COMMITTED
Ü16:05:26.797 [Test worker] DEBUG b.t.r.c.DeferredReleaseSynchronization - DeferredReleaseSynchronization requeuing a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
∂16:05:26.798 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
l16:05:26.798 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
¸16:05:26.798 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f from the inaccessible pool
à16:05:26.798 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Æ16:05:26.798 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
Ó16:05:26.798 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f to the available pool
˛16:05:26.798 [Test worker] DEBUG b.t.r.c.DeferredReleaseSynchronization - DeferredReleaseSynchronization requeued a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@67d8ef2f
à16:05:26.798 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Resuming suspended transaction after completion of inner transaction
Î16:05:26.798 [Test worker] DEBUG b.tm.BitronixTransactionManager - resuming a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF00800000005], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
æ16:05:26.798 [Test worker] DEBUG bitronix.tm.internal.ThreadContext - assigning <a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF00800000005], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)> to <a ThreadContext (1134084554) with transaction null, default timeout 60s>
º16:05:26.799 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@6ad64444
p16:05:26.799 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:26.799 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531267
¶16:05:26.800 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@191c0328
ê16:05:26.801 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 754991168, using strategy: org.hibernate.id.Assigned
º16:05:26.816 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@40d5cdfb
p16:05:26.816 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:26.816 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531268
¶16:05:26.816 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@3c11d1eb
ê16:05:26.817 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 755007552, using strategy: org.hibernate.id.Assigned
º16:05:26.868 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@49165751
p16:05:26.868 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:26.868 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531268
¶16:05:26.868 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@77347fda
ê16:05:26.869 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 755023936, using strategy: org.hibernate.id.Assigned
	º16:05:26.893 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@74b4ab51
	p16:05:26.893 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
	o16:05:26.893 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531268
	¶16:05:26.893 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@21f58a77
	ë16:05:26.894 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1040236544, using strategy: org.hibernate.id.Assigned
	
ª16:05:26.906 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@9d1bea3
	
p16:05:26.906 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
	
o16:05:26.906 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531269
	
¶16:05:26.906 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@2c5c859e
	
ê16:05:26.907 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 755040320, using strategy: org.hibernate.id.Assigned
	º16:05:26.920 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@3ed70e12
	p16:05:26.920 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
	o16:05:26.920 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531269
	¶16:05:26.921 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@3d5e15eb
	ë16:05:26.921 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1040252928, using strategy: org.hibernate.id.Assigned
	ë16:05:26.921 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1040269312, using strategy: org.hibernate.id.Assigned
	h16:05:26.922 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
	d16:05:26.922 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
	Ñ16:05:26.922 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 2 insertions, 0 updates, 0 deletions to 2 objects
	ä16:05:26.922 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
	U16:05:26.922 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
	ü16:05:26.923 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1040252928, createdBy=system internal, requestId=1396253126920, createdTime=Mon Mar 31 16:05:26 CST 2014, payload={"key": "test_key"}, updatedTime=null, updatedBy=null}
	ü16:05:26.923 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1040269312, createdBy=system internal, requestId=1396253126920, createdTime=Mon Mar 31 16:05:26 CST 2014, payload={"key": "test_key"}, updatedTime=null, updatedBy=null}
	]16:05:26.932 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
	‘16:05:26.933 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available)
	 16:05:26.933 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available)
	í16:05:26.933 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BF1070000000C]
	Ä16:05:26.933 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
	œ16:05:26.933 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available), waiting if necessary
	µ16:05:26.933 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be - closing time: 1396253185742, now time: 1396253126933
	…16:05:26.933 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	Ù16:05:26.933 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	±16:05:26.933 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be
	É16:05:26.933 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be
	≥16:05:26.933 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be
	¯16:05:26.933 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be to the accessible pool
	ô16:05:26.933 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@76b962be was in state IN_POOL, testing it
	Ü16:05:26.934 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be, skipping test
	Û16:05:26.934 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be
	”16:05:26.934 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	\16:05:26.934 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
	á16:05:26.934 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1070000000C], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
	á16:05:26.934 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@76b962be does not belong to any resource of a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
	°16:05:26.934 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@76b962be belongs to a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	…16:05:26.935 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D00000145172BF1070000000C : 737072696E672D62746D00000145172BF1170000000D]
	≈16:05:26.935 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D00000145172BF1070000000C : 737072696E672D62746D00000145172BF1170000000D]> to <an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@76b962be with XID null>
	≈16:05:26.935 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@76b962be with XID a Bitronix XID [737072696E672D62746D00000145172BF1070000000C : 737072696E672D62746D00000145172BF1170000000D] with NOFLAGS
	Œ16:05:26.935 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@76b962be (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF1070000000C : 737072696E672D62746D00000145172BF1170000000D] with NOFLAGS
	Ó16:05:26.935 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@76b962be (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF1070000000C : 737072696E672D62746D00000145172BF1170000000D]] on a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be
	”16:05:26.935 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D00000145172BF1070000000C] previously unknown to a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be, adding it to the resource's transactions list
	«16:05:26.936 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_item (created_by, created_time, updated_by, updated_time, payload, request_id, fulfilment_id) values (?, ?, ?, ?, ?, ?, ?)
	ùHibernate: insert into fulfilment_item (created_by, created_time, updated_by, updated_time, payload, request_id, fulfilment_id) values (?, ?, ?, ?, ?, ?, ?)
	`16:05:26.939 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
	«16:05:26.939 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_item (created_by, created_time, updated_by, updated_time, payload, request_id, fulfilment_id) values (?, ?, ?, ?, ?, ?, ?)
	ùHibernate: insert into fulfilment_item (created_by, created_time, updated_by, updated_time, payload, request_id, fulfilment_id) values (?, ?, ?, ?, ?, ?, ?)
	`16:05:26.940 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 2
	w16:05:26.942 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
	]16:05:26.943 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
	ﬁ16:05:26.943 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@21e7b9e3
	Í16:05:26.943 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be
	á16:05:26.943 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1070000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
	é16:05:26.943 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	á16:05:26.943 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1070000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
	é16:05:26.943 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	ˆ16:05:26.943 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	™16:05:26.944 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1070000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
	à16:05:26.944 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	ª16:05:26.944 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	l16:05:26.944 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
	¸16:05:26.944 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be from the accessible pool
	ç16:05:26.944 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	æ16:05:26.945 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	˛16:05:26.945 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be to the inaccessible pool
	Ì16:05:26.945 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	\16:05:26.945 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
	Ü16:05:26.945 [Test worker] DEBUG o.h.e.j.i.p.ConnectionProxyHandler - HHH000163: Logical connection releasing its physical connection
	h16:05:26.956 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
	d16:05:26.957 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
	Ñ16:05:26.957 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 2 objects
	ä16:05:26.957 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
	U16:05:26.957 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
	ü16:05:26.958 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1040252928, createdBy=system internal, requestId=1396253126920, createdTime=Mon Mar 31 16:05:26 CST 2014, payload={"key": "test_key"}, updatedTime=null, updatedBy=null}
	ü16:05:26.958 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentEntity{id=1040269312, createdBy=system internal, requestId=1396253126920, createdTime=Mon Mar 31 16:05:26 CST 2014, payload={"key": "test_key"}, updatedTime=null, updatedBy=null}
	]16:05:26.958 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
	‘16:05:26.958 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	 16:05:26.958 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	í16:05:26.958 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BF1070000000C]
	ã16:05:26.958 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	ü16:05:26.958 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	ï16:05:26.958 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BF1070000000C
	ò16:05:26.958 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
	◊16:05:26.958 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	˚16:05:26.958 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	ø16:05:26.958 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be
	Ç16:05:26.958 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be from the inaccessible pool
	ë16:05:26.959 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be
	∫16:05:26.959 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be
	è16:05:26.959 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1070000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
	Ø16:05:26.960 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1070000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
	¯16:05:26.960 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be to the accessible pool
	®16:05:26.960 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@76b962be was in state NOT_ACCESSIBLE, no need to test it
	Û16:05:26.960 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be
	”16:05:26.960 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
	\16:05:26.960 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
	á16:05:26.960 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1070000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
	¯16:05:26.960 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@76b962be (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF1070000000C : 737072696E672D62746D00000145172BF1170000000D]
	È16:05:26.961 [Test worker] DEBUG org.hibernate.SQL - select this_.fulfilment_id as fulfilment1_3_0_, this_.created_by as created2_3_0_, this_.created_time as created3_3_0_, this_.updated_by as updated4_3_0_, this_.updated_time as updated5_3_0_, this_.payload as payload3_0_, this_.request_id as request7_3_0_ from fulfilment_item this_ where this_.request_id=?
	øHibernate: select this_.fulfilment_id as fulfilment1_3_0_, this_.created_by as created2_3_0_, this_.created_time as created3_3_0_, this_.updated_by as updated4_3_0_, this_.updated_time as updated5_3_0_, this_.payload as payload3_0_, this_.request_id as request7_3_0_ from fulfilment_item this_ where this_.request_id=?
	Q16:05:26.963 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
	ë16:05:26.963 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentEntity#1040252928]
	Q16:05:26.963 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 1
	ë16:05:26.964 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentEntity#1040269312]
	]16:05:26.964 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
	ﬁ16:05:26.964 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@21e7b9e3
	Í16:05:26.964 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@76b962be
	á16:05:26.964 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1070000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
	é16:05:26.964 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	á16:05:26.964 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1070000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
	é16:05:26.964 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	ˆ16:05:26.964 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	™16:05:26.964 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1070000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:26 CST 2014)
	à16:05:26.965 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	ª16:05:26.965 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	l16:05:26.965 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
	¸16:05:26.965 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be from the accessible pool
	ç16:05:26.965 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	æ16:05:26.965 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	˛16:05:26.965 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be to the inaccessible pool
	Ì16:05:26.965 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@76b962be
	\16:05:26.965 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
	h16:05:26.965 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
	º16:05:26.988 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@1f98ca15
	p16:05:26.988 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
	o16:05:26.988 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531269
	¶16:05:26.988 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@5adcdfc7
	ë16:05:26.988 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1040285696, using strategy: org.hibernate.id.Assigned
ª16:05:27.037 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@e175f5f
p16:05:27.037 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:27.037 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531270
¶16:05:27.037 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@62ef9f30
ê16:05:27.038 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 755056704, using strategy: org.hibernate.id.Assigned
º16:05:27.057 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@2959e44e
p16:05:27.057 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:27.057 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531270
•16:05:27.057 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@bf3e82c
ë16:05:27.057 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1040302080, using strategy: org.hibernate.id.Assigned
º16:05:27.068 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@7905dd85
p16:05:27.068 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:27.069 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531270
¶16:05:27.069 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@551d35e3
ë16:05:27.069 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1040318464, using strategy: org.hibernate.id.Assigned
º16:05:27.080 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@6d49d28a
p16:05:27.080 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:27.080 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531270
•16:05:27.080 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@6e86527
ë16:05:27.080 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1040334848, using strategy: org.hibernate.id.Assigned
h16:05:27.082 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:27.083 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:27.083 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects
ä16:05:27.084 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:27.084 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
◊16:05:27.084 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentRequestEntity{id=1040334848, trackingGuid=1644bf22-c8e4-4815-a415-b65c27e59958, createdBy=system internal, createdTime=Mon Mar 31 16:05:27 CST 2014, payload={"key": "test_key"}, orderId=1396253127080, updatedTime=null, updatedBy=null}
}16:05:27.084 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: fulfilment_request
]16:05:27.090 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
‘16:05:27.090 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available)
 16:05:27.090 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available)
í16:05:27.090 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BF1A400000012]
Ä16:05:27.090 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
œ16:05:27.090 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available), waiting if necessary
µ16:05:27.090 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 - closing time: 1396253185748, now time: 1396253127090
…16:05:27.090 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
Ù16:05:27.090 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
±16:05:27.090 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
É16:05:27.090 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
≥16:05:27.090 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
¯16:05:27.090 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 to the accessible pool
ô16:05:27.090 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@3698f2a1 was in state IN_POOL, testing it
Ü16:05:27.090 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1, skipping test
Û16:05:27.090 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
”16:05:27.090 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
\16:05:27.091 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
á16:05:27.092 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1A400000012], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
á16:05:27.092 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@3698f2a1 does not belong to any resource of a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
°16:05:27.093 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@3698f2a1 belongs to a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
…16:05:27.093 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D00000145172BF1A400000012 : 737072696E672D62746D00000145172BF1B500000013]
≈16:05:27.093 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D00000145172BF1A400000012 : 737072696E672D62746D00000145172BF1B500000013]> to <an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@3698f2a1 with XID null>
≈16:05:27.094 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@3698f2a1 with XID a Bitronix XID [737072696E672D62746D00000145172BF1A400000012 : 737072696E672D62746D00000145172BF1B500000013] with NOFLAGS
Œ16:05:27.094 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@3698f2a1 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF1A400000012 : 737072696E672D62746D00000145172BF1B500000013] with NOFLAGS
Ó16:05:27.095 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@3698f2a1 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF1A400000012 : 737072696E672D62746D00000145172BF1B500000013]] on a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
”16:05:27.095 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D00000145172BF1A400000012] previously unknown to a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1, adding it to the resource's transactions list
◊16:05:27.095 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_request (created_by, created_time, updated_by, updated_time, order_id, payload, tracking_guid, request_id) values (?, ?, ?, ?, ?, ?, ?, ?)
≠Hibernate: insert into fulfilment_request (created_by, created_time, updated_by, updated_time, order_id, payload, tracking_guid, request_id) values (?, ?, ?, ?, ?, ?, ?, ?)
`16:05:27.097 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:27.099 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
]16:05:27.099 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ﬁ16:05:27.099 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@14f7f1ea
Í16:05:27.100 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
á16:05:27.100 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1A400000012], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
é16:05:27.100 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
á16:05:27.100 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1A400000012], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
é16:05:27.100 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
ˆ16:05:27.100 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
™16:05:27.100 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1A400000012], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
à16:05:27.101 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
ª16:05:27.101 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
l16:05:27.101 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
¸16:05:27.101 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 from the accessible pool
ç16:05:27.101 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
æ16:05:27.101 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
˛16:05:27.101 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 to the inaccessible pool
Ì16:05:27.102 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
\16:05:27.102 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
Ü16:05:27.102 [Test worker] DEBUG o.h.e.j.i.p.ConnectionProxyHandler - HHH000163: Logical connection releasing its physical connection
]16:05:27.103 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
‘16:05:27.103 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
 16:05:27.103 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
í16:05:27.103 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BF1A400000012]
ã16:05:27.104 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
ü16:05:27.104 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
ï16:05:27.104 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BF1A400000012
ò16:05:27.104 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
◊16:05:27.105 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
˚16:05:27.105 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
ø16:05:27.105 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
Ç16:05:27.105 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 from the inaccessible pool
ë16:05:27.106 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
∫16:05:27.107 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
è16:05:27.107 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1A400000012], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
Ø16:05:27.107 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1A400000012], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
¯16:05:27.107 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 to the accessible pool
®16:05:27.107 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@3698f2a1 was in state NOT_ACCESSIBLE, no need to test it
Û16:05:27.107 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
”16:05:27.107 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
\16:05:27.107 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
á16:05:27.107 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1A400000012], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
¯16:05:27.107 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@3698f2a1 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF1A400000012 : 737072696E672D62746D00000145172BF1B500000013]
á16:05:27.108 [Test worker] DEBUG org.hibernate.SQL - select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.order_id=?
›Hibernate: select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.order_id=?
Q16:05:27.111 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ò16:05:27.111 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentRequestEntity#1040334848]
]16:05:27.112 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ﬁ16:05:27.112 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@14f7f1ea
Í16:05:27.112 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
á16:05:27.113 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1A400000012], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
é16:05:27.113 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
á16:05:27.113 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1A400000012], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
é16:05:27.113 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
ˆ16:05:27.114 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
™16:05:27.114 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1A400000012], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
à16:05:27.114 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
ª16:05:27.114 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
l16:05:27.114 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
¸16:05:27.114 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 from the accessible pool
ç16:05:27.114 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
æ16:05:27.114 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
˛16:05:27.114 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1 to the inaccessible pool
Ì16:05:27.114 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@3698f2a1
\16:05:27.114 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:27.114 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
º16:05:27.133 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@43154672
p16:05:27.133 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:27.133 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531271
¶16:05:27.133 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@7668952e
ë16:05:27.133 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1040351232, using strategy: org.hibernate.id.Assigned
h16:05:27.135 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:05:27.135 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:05:27.135 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects
ä16:05:27.136 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:05:27.136 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
◊16:05:27.136 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.fulfilment.db.entity.FulfilmentRequestEntity{id=1040351232, trackingGuid=a5d6b9da-e0ff-43ad-af0d-e9aee6583072, createdBy=system internal, createdTime=Mon Mar 31 16:05:27 CST 2014, payload={"key": "test_key"}, orderId=1396253127132, updatedTime=null, updatedBy=null}
}16:05:27.136 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: fulfilment_request
]16:05:27.136 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
‘16:05:27.136 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available)
 16:05:27.136 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available)
í16:05:27.137 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BF1DA00000014]
Ä16:05:27.137 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
œ16:05:27.137 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (3 still available), waiting if necessary
µ16:05:27.137 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407 - closing time: 1396253186128, now time: 1396253127137
…16:05:27.137 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407 from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
Ù16:05:27.137 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
±16:05:27.137 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407
É16:05:27.137 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407
≥16:05:27.137 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407
¯16:05:27.137 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407 to the accessible pool
ô16:05:27.137 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@73614407 was in state IN_POOL, testing it
Ü16:05:27.137 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407, skipping test
Û16:05:27.137 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407
”16:05:27.137 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
\16:05:27.137 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
á16:05:27.137 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1DA00000014], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
á16:05:27.137 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@73614407 does not belong to any resource of a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
°16:05:27.137 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@73614407 belongs to a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407 that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
…16:05:27.137 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D00000145172BF1DA00000014 : 737072696E672D62746D00000145172BF1E100000015]
≈16:05:27.137 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D00000145172BF1DA00000014 : 737072696E672D62746D00000145172BF1E100000015]> to <an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@73614407 with XID null>
≈16:05:27.138 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@73614407 with XID a Bitronix XID [737072696E672D62746D00000145172BF1DA00000014 : 737072696E672D62746D00000145172BF1E100000015] with NOFLAGS
Œ16:05:27.138 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@73614407 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF1DA00000014 : 737072696E672D62746D00000145172BF1E100000015] with NOFLAGS
Ó16:05:27.138 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@73614407 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF1DA00000014 : 737072696E672D62746D00000145172BF1E100000015]] on a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407
”16:05:27.138 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D00000145172BF1DA00000014] previously unknown to a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407, adding it to the resource's transactions list
◊16:05:27.138 [Test worker] DEBUG org.hibernate.SQL - insert into fulfilment_request (created_by, created_time, updated_by, updated_time, order_id, payload, tracking_guid, request_id) values (?, ?, ?, ?, ?, ?, ?, ?)
≠Hibernate: insert into fulfilment_request (created_by, created_time, updated_by, updated_time, order_id, payload, tracking_guid, request_id) values (?, ?, ?, ?, ?, ?, ?, ?)
`16:05:27.139 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:05:27.141 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
]16:05:27.141 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ﬁ16:05:27.141 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@1364aaad
Í16:05:27.142 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407
á16:05:27.142 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1DA00000014], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
é16:05:27.142 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
á16:05:27.142 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1DA00000014], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
é16:05:27.142 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
ˆ16:05:27.142 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
™16:05:27.142 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1DA00000014], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
à16:05:27.142 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
ª16:05:27.142 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
l16:05:27.142 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
¸16:05:27.142 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407 from the accessible pool
ç16:05:27.142 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
æ16:05:27.142 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
˛16:05:27.142 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407 to the inaccessible pool
Ì16:05:27.142 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
\16:05:27.143 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
Ü16:05:27.143 [Test worker] DEBUG o.h.e.j.i.p.ConnectionProxyHandler - HHH000163: Logical connection releasing its physical connection
]16:05:27.143 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
‘16:05:27.143 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
 16:05:27.143 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
í16:05:27.143 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172BF1DA00000014]
ã16:05:27.143 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
ü16:05:27.144 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
ï16:05:27.144 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172BF1DA00000014
ò16:05:27.144 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
◊16:05:27.144 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407 from an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
˚16:05:27.144 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
ø16:05:27.144 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407
Ç16:05:27.144 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407 from the inaccessible pool
ë16:05:27.144 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407
∫16:05:27.144 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407
è16:05:27.144 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1DA00000014], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
Ø16:05:27.144 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1DA00000014], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
¯16:05:27.144 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407 to the accessible pool
®16:05:27.144 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@73614407 was in state NOT_ACCESSIBLE, no need to test it
Û16:05:27.144 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407
”16:05:27.144 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/fulfilment_ds1 with 3 connection(s) (2 still available)
\16:05:27.144 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
á16:05:27.144 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407 into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1DA00000014], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
¯16:05:27.144 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/fulfilment_ds1 XAResource=org.postgresql.xa.PGXAConnection@73614407 (started) with XID a Bitronix XID [737072696E672D62746D00000145172BF1DA00000014 : 737072696E672D62746D00000145172BF1E100000015]
å16:05:27.145 [Test worker] DEBUG org.hibernate.SQL - select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.tracking_guid=?
‚Hibernate: select this_.request_id as request1_4_0_, this_.created_by as created2_4_0_, this_.created_time as created3_4_0_, this_.updated_by as updated4_4_0_, this_.updated_time as updated5_4_0_, this_.order_id as order6_4_0_, this_.payload as payload4_0_, this_.tracking_guid as tracking8_4_0_ from fulfilment_request this_ where this_.tracking_guid=?
Q16:05:27.146 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ò16:05:27.147 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.fulfilment.db.entity.FulfilmentRequestEntity#1040351232]
]16:05:27.147 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ﬁ16:05:27.147 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@1364aaad
Í16:05:27.147 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@73614407
á16:05:27.147 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1DA00000014], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
é16:05:27.148 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
á16:05:27.148 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407 from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1DA00000014], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
é16:05:27.148 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
ˆ16:05:27.148 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
™16:05:27.148 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172BF1DA00000014], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:05:27 CST 2014)
à16:05:27.148 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
ª16:05:27.148 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
l16:05:27.148 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
¸16:05:27.148 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407 from the accessible pool
ç16:05:27.149 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
æ16:05:27.149 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
˛16:05:27.149 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407 to the inaccessible pool
Ì16:05:27.149 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/fulfilment_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@73614407
\16:05:27.149 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:05:27.149 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
º16:05:27.167 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@57b5a6e0
p16:05:27.167 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:27.167 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531271
¶16:05:27.167 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@4a555fcc
ê16:05:27.168 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 755073088, using strategy: org.hibernate.id.Assigned
º16:05:27.202 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@4c498013
p16:05:27.202 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:05:27.202 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962531272
¶16:05:27.202 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@747c1c55
ê16:05:27.203 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 755089472, using strategy: org.hibernate.id.Assigned
