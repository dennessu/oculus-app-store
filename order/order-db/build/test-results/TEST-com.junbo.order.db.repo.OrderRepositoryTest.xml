<?xml version="1.1" encoding="UTF-8"?>
<testsuite name="com.junbo.order.db.repo.OrderRepositoryTest" tests="2" failures="0" errors="0" timestamp="2014-04-04T09:27:51" hostname="XumengChendeMacBook-Pro.local" time="0.74">
  <properties/>
  <testcase name="testCreateOrder" classname="com.junbo.order.db.repo.OrderRepositoryTest" time="0.272"/>
  <testcase name="testUpdateOrder" classname="com.junbo.order.db.repo.OrderRepositoryTest" time="0.462"/>
  <system-out><![CDATA[17:27:51.192 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
17:27:51.194 [Test worker] DEBUG o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'OculusGlobalCounterInDBImpl.getAndIncrease' with attribute: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT; ''
17:27:51.195 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
17:27:51.196 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Suspending current transaction, creating new transaction with name [com.junbo.sharding.id.oculus.OculusGlobalCounterInDBImpl.getAndIncrease]
17:27:51.196 [Test worker] DEBUG b.tm.BitronixTransactionManager - suspending transaction a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.196 [Test worker] DEBUG b.tm.BitronixTransactionManager - clearing current thread context: a ThreadContext (684457570) with transaction a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014), default timeout 60s
17:27:51.196 [Test worker] DEBUG b.tm.BitronixTransactionManager - beginning a new transaction
17:27:51.196 [Test worker] DEBUG b.tm.BitronixTransactionManager - dumping 1 transaction context(s)
17:27:51.196 [Test worker] DEBUG b.tm.BitronixTransactionManager - a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.196 [Test worker] DEBUG bitronix.tm.BitronixTransaction - creating new transaction with GTRID [737072696E672D62746D000001452C10D29C00000052]
17:27:51.196 [Test worker] DEBUG bitronix.tm.internal.ThreadContext - assigning <a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=NO_TRANSACTION, 0 resource(s) enlisted (started null)> to <a ThreadContext (684457570) with transaction null, default timeout 60s>
17:27:51.197 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to ACTIVE
17:27:51.197 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from NO_TRANSACTION to ACTIVE - executing 0 listener(s)
17:27:51.197 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - scheduling transaction timeout task on a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014) for Fri Apr 04 17:28:51 CST 2014
17:27:51.197 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - removing task by a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.197 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - scheduled a TransactionTimeoutTask on a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014) scheduled for Fri Apr 04 17:28:51 CST 2014, total task(s) queued: 5
17:27:51.197 [Test worker] DEBUG b.tm.BitronixTransactionManager - begun new transaction at Fri Apr 04 17:27:51 CST 2014
17:27:51.201 [Test worker] DEBUG o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'IdGlobalCounterDAOImpl.get' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
17:27:51.201 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
17:27:51.201 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
17:27:51.201 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@21bb386b
17:27:51.201 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@7bd111
17:27:51.217 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
17:27:51.217 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
17:27:51.217 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D29C00000052]
17:27:51.217 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
17:27:51.217 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available), waiting if necessary
17:27:51.217 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a - closing time: 1396603727681, now time: 1396603671217
17:27:51.217 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.217 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.217 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.217 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.217 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.217 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a to the accessible pool
17:27:51.217 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@69dd174a was in state IN_POOL, testing it
17:27:51.217 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a, skipping test
17:27:51.217 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.217 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.217 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.217 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@69dd174a does not belong to any resource of a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (3 still available)
17:27:51.217 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@69dd174a belongs to a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.217 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D000001452C10D29C00000052 : 737072696E672D62746D000001452C10D2B100000053]
17:27:51.218 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D000001452C10D29C00000052 : 737072696E672D62746D000001452C10D2B100000053]> to <an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@69dd174a with XID null>
17:27:51.218 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@69dd174a with XID a Bitronix XID [737072696E672D62746D000001452C10D29C00000052 : 737072696E672D62746D000001452C10D2B100000053] with NOFLAGS
17:27:51.218 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@69dd174a (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D29C00000052 : 737072696E672D62746D000001452C10D2B100000053] with NOFLAGS
17:27:51.218 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@69dd174a (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D29C00000052 : 737072696E672D62746D000001452C10D2B100000053]] on a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.218 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D000001452C10D29C00000052] previously unknown to a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a, adding it to the resource's transactions list
Hibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
17:27:51.222 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@10ac8e98
17:27:51.222 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.222 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.222 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.222 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.222 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.222 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.222 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.222 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.222 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.222 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.222 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from the accessible pool
17:27:51.222 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.222 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.222 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a to the inaccessible pool
17:27:51.222 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.224 [Test worker] DEBUG o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'IdGlobalCounterDAOImpl.saveOrUpdate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
17:27:51.224 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
17:27:51.224 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
17:27:51.226 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.226 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.226 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D29C00000052]
17:27:51.227 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.227 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.227 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D29C00000052
17:27:51.227 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.227 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.227 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.227 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.227 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a from the inaccessible pool
17:27:51.227 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.227 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.227 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.227 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.227 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a to the accessible pool
17:27:51.227 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@69dd174a was in state NOT_ACCESSIBLE, no need to test it
17:27:51.227 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.227 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.227 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.227 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@69dd174a (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D29C00000052 : 737072696E672D62746D000001452C10D2B100000053]
Hibernate: update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
17:27:51.228 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@10ac8e98
17:27:51.228 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.228 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.229 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.229 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.229 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.229 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.229 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.229 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.229 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.229 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.229 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from the accessible pool
17:27:51.229 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.229 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.229 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a to the inaccessible pool
17:27:51.229 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.229 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.229 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.229 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D29C00000052]
17:27:51.229 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.229 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.229 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D29C00000052
17:27:51.229 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.229 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.229 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.229 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.230 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a from the inaccessible pool
17:27:51.230 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.230 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.230 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.230 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.230 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a to the accessible pool
17:27:51.230 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@69dd174a was in state NOT_ACCESSIBLE, no need to test it
17:27:51.230 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.230 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.230 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.230 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@69dd174a (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D29C00000052 : 737072696E672D62746D000001452C10D2B100000053]
Hibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
17:27:51.231 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@10ac8e98
17:27:51.231 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.231 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.232 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.232 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.232 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.232 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.232 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.232 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.232 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.232 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.232 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from the accessible pool
17:27:51.232 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.232 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.232 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a to the inaccessible pool
17:27:51.232 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.235 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.235 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.235 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D29C00000052]
17:27:51.235 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.235 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.235 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D29C00000052
17:27:51.235 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.235 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.235 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.235 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.235 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a from the inaccessible pool
17:27:51.235 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.235 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.235 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.235 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.235 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a to the accessible pool
17:27:51.235 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@69dd174a was in state NOT_ACCESSIBLE, no need to test it
17:27:51.235 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.235 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.235 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.235 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@69dd174a (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D29C00000052 : 737072696E672D62746D000001452C10D2B100000053]
Hibernate: update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
17:27:51.237 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@10ac8e98
17:27:51.237 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.237 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.237 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.237 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.237 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.237 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.237 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.237 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.237 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.237 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.237 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from the accessible pool
17:27:51.237 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.237 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.237 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a to the inaccessible pool
17:27:51.237 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.238 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.238 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.238 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D29C00000052]
17:27:51.238 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.238 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.238 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D29C00000052
17:27:51.238 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.238 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.238 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.238 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.238 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a from the inaccessible pool
17:27:51.238 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.238 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.238 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.238 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.238 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a to the accessible pool
17:27:51.238 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@69dd174a was in state NOT_ACCESSIBLE, no need to test it
17:27:51.238 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.238 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.238 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.238 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@69dd174a (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D29C00000052 : 737072696E672D62746D000001452C10D2B100000053]
Hibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
17:27:51.239 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@10ac8e98
17:27:51.240 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.240 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.240 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.240 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.240 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.240 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.240 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.240 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.240 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.240 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.240 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from the accessible pool
17:27:51.240 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.240 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.240 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a to the inaccessible pool
17:27:51.240 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.241 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.241 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.241 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D29C00000052]
17:27:51.241 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.241 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.241 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D29C00000052
17:27:51.241 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.241 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.241 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.241 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.241 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a from the inaccessible pool
17:27:51.241 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.241 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.241 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.241 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.241 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a to the accessible pool
17:27:51.241 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@69dd174a was in state NOT_ACCESSIBLE, no need to test it
17:27:51.242 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.242 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.242 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.242 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@69dd174a (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D29C00000052 : 737072696E672D62746D000001452C10D2B100000053]
Hibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
17:27:51.243 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@10ac8e98
17:27:51.243 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.244 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.244 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.244 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.244 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.244 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.244 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.244 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.244 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.244 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.244 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from the accessible pool
17:27:51.244 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.244 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.244 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a to the inaccessible pool
17:27:51.244 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.244 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Initiating transaction commit
17:27:51.244 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementUnregisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D000001452C10D1D10000004B
17:27:51.245 [Test worker] DEBUG b.tm.BitronixTransactionManager - committing transaction a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.245 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementRegisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D000001452C10D26300000051
17:27:51.245 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - cancelling transaction timeout task on a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.245 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - removing task by a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.245 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementRegisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D000001452C10D29C00000052
17:27:51.245 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - cancelled a TransactionTimeoutTask on a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014) scheduled for Fri Apr 04 17:28:51 CST 2014, total task(s) still queued: 4
17:27:51.245 [Test worker] DEBUG bitronix.tm.BitronixTransaction - before completion, 4 synchronization(s) to execute
17:27:51.246 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a DeferredReleaseSynchronization of a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.246 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a ClearContextSynchronization for a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.246 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@21bb386b
17:27:51.246 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@7bd111
17:27:51.246 [Test worker] DEBUG bitronix.tm.BitronixTransaction - found unclosed resource to delist: an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@69dd174a (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D29C00000052 : 737072696E672D62746D000001452C10D2B100000053]
17:27:51.246 [Test worker] DEBUG b.tm.internal.XAResourceManager - delisting resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@69dd174a (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D29C00000052 : 737072696E672D62746D000001452C10D2B100000053]
17:27:51.247 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - ending an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@69dd174a (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D29C00000052 : 737072696E672D62746D000001452C10D2B100000053] with SUCCESS
17:27:51.247 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - ended an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@69dd174a (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D29C00000052 : 737072696E672D62746D000001452C10D2B100000053] with SUCCESS
17:27:51.247 [Test worker] DEBUG bitronix.tm.BitronixTransaction - committing, 1 enlisted resource(s)
17:27:51.247 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to PREPARING
17:27:51.247 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from ACTIVE to PREPARING - executing 0 listener(s)
17:27:51.247 [Test worker] DEBUG bitronix.tm.twopc.Preparer - 1 resource enlisted, no prepare needed (1PC)
17:27:51.247 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to PREPARED
17:27:51.247 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from PREPARING to PREPARED - executing 0 listener(s)
17:27:51.247 [Test worker] DEBUG bitronix.tm.BitronixTransaction - 1 interested resource(s)
17:27:51.247 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to COMMITTING
17:27:51.247 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from PREPARED to COMMITTING - executing 0 listener(s)
17:27:51.247 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - executing phase on 1 resource(s) enlisted in 1 position(s) in reverse position order
17:27:51.247 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - running 1 job(s) for position '1'
17:27:51.247 [Test worker] DEBUG bitronix.tm.twopc.Committer - committing resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@69dd174a (ended) with XID a Bitronix XID [737072696E672D62746D000001452C10D29C00000052 : 737072696E672D62746D000001452C10D2B100000053] (with one-phase optimization)
17:27:51.248 [Test worker] DEBUG bitronix.tm.twopc.Committer - committed resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@69dd174a (ended) with XID a Bitronix XID [737072696E672D62746D000001452C10D29C00000052 : 737072696E672D62746D000001452C10D2B100000053]
17:27:51.248 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - phase executed with 0 exception(s)
17:27:51.248 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - ran 1 job(s) for position '1'
17:27:51.248 [Test worker] DEBUG bitronix.tm.twopc.Committer - phase 2 commit executed on resources [jdbc/sharding]
17:27:51.248 [Test worker] DEBUG bitronix.tm.twopc.Committer - phase 2 commit succeeded on resources [jdbc/sharding]
17:27:51.249 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to COMMITTED
17:27:51.249 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from COMMITTING to COMMITTED - executing 0 listener(s)
17:27:51.249 [Test worker] DEBUG bitronix.tm.BitronixTransaction - successfully committed a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=COMMITTED, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.249 [Test worker] DEBUG b.tm.internal.XAResourceManager - clearing XAResourceHolder states on 1 resource(s)
17:27:51.249 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - removing XAResourceHolderState of xid a Bitronix XID [737072696E672D62746D000001452C10D29C00000052 : 737072696E672D62746D000001452C10D2B100000053] from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.249 [Test worker] DEBUG b.tm.internal.XAResourceManager - resource a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a cleaned up all transaction states for GTRID [737072696E672D62746D000001452C10D29C00000052]
17:27:51.249 [Test worker] DEBUG bitronix.tm.BitronixTransaction - after completion, 4 synchronization(s) to execute
17:27:51.249 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@21bb386b with status=COMMITTED
17:27:51.249 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@7bd111 with status=COMMITTED
17:27:51.249 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a ClearContextSynchronization for a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=COMMITTED, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014) with status=COMMITTED
17:27:51.249 [Test worker] DEBUG b.tm.BitronixTransactionManager - clearing transaction from thread context: a ThreadContext (684457570) with transaction a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=COMMITTED, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014), default timeout 60s
17:27:51.249 [Test worker] DEBUG b.tm.BitronixTransactionManager - removing transaction from in-flight transactions: a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D29C00000052], status=COMMITTED, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.249 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a DeferredReleaseSynchronization of a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a with status=COMMITTED
17:27:51.249 [Test worker] DEBUG b.t.r.c.DeferredReleaseSynchronization - DeferredReleaseSynchronization requeuing a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.249 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.249 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.249 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a from the inaccessible pool
17:27:51.249 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.249 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.249 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a to the available pool
17:27:51.249 [Test worker] DEBUG b.t.r.c.DeferredReleaseSynchronization - DeferredReleaseSynchronization requeued a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@69dd174a
17:27:51.249 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Resuming suspended transaction after completion of inner transaction
17:27:51.250 [Test worker] DEBUG b.tm.BitronixTransactionManager - resuming a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.250 [Test worker] DEBUG bitronix.tm.internal.ThreadContext - assigning <a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)> to <a ThreadContext (684457570) with transaction null, default timeout 60s>
17:27:51.250 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@6cc6510d
17:27:51.250 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@166a9fa1
17:27:51.267 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (3 still available)
17:27:51.267 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (3 still available)
17:27:51.267 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D26300000051]
17:27:51.267 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
17:27:51.267 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (3 still available), waiting if necessary
17:27:51.267 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/order_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 - closing time: 1396603731037, now time: 1396603671267
17:27:51.267 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.267 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.267 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.267 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.267 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.268 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 to the accessible pool
17:27:51.268 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@39741646 was in state IN_POOL, testing it
17:27:51.268 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646, skipping test
17:27:51.268 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.268 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.268 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.268 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@39741646 belongs to a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.268 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]
17:27:51.268 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]> to <an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 with XID null>
17:27:51.268 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054] with NOFLAGS
17:27:51.268 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054] with NOFLAGS
17:27:51.268 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]] on a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.268 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D000001452C10D26300000051] previously unknown to a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646, adding it to the resource's transactions list
Hibernate: select this_.ORDER_ITEM_ID as ORDER1_4_0_, this_.CREATED_BY as CREATED2_4_0_, this_.CREATED_TIME as CREATED3_4_0_, this_.UPDATED_BY as UPDATED4_4_0_, this_.UPDATED_TIME as UPDATED5_4_0_, this_.IS_DELETED as IS6_4_0_, this_.FEDERATED_ID as FEDERATED7_4_0_, this_.HONOR_UNTIL_TIME as HONOR8_4_0_, this_.HONORED_TIME as HONORED9_4_0_, this_.IS_TAX_EXEMPTED as IS10_4_0_, this_.ORDER_ID as ORDER11_4_0_, this_.ORDER_ITEM_TYPE as ORDER12_4_0_, this_.PRODUCT_ITEM_ID as PRODUCT13_4_0_, this_.PROPERTIES as PROPERTIES4_0_, this_.QUANTITY as QUANTITY4_0_, this_.SHIPPING_ADDRESS_ID as SHIPPING16_4_0_, this_.SHIPPING_METHOD_ID as SHIPPING17_4_0_, this_.TOTAL_AMOUNT as TOTAL18_4_0_, this_.TOTAL_DISCOUNT as TOTAL19_4_0_, this_.TOTAL_PREORDER_AMOUNT as TOTAL20_4_0_, this_.TOTAL_PREORDER_TAX as TOTAL21_4_0_, this_.TOTAL_TAX as TOTAL22_4_0_, this_.UNIT_PRICE as UNIT23_4_0_ from ORDER_ITEM this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.269 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@3e8efac6
17:27:51.269 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.269 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.269 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.270 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.270 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.270 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.270 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.270 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.270 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.270 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.270 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from the accessible pool
17:27:51.270 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.270 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.270 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 to the inaccessible pool
17:27:51.270 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.283 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
17:27:51.283 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Suspending current transaction, creating new transaction with name [com.junbo.sharding.id.oculus.OculusGlobalCounterInDBImpl.getAndIncrease]
17:27:51.283 [Test worker] DEBUG b.tm.BitronixTransactionManager - suspending transaction a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.283 [Test worker] DEBUG b.tm.internal.XAResourceManager - suspending an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]
17:27:51.283 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - ending an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054] with SUCCESS
17:27:51.283 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - ended an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054] with SUCCESS
17:27:51.283 [Test worker] DEBUG b.tm.BitronixTransactionManager - clearing current thread context: a ThreadContext (684457570) with transaction a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014), default timeout 60s
17:27:51.283 [Test worker] DEBUG b.tm.BitronixTransactionManager - beginning a new transaction
17:27:51.283 [Test worker] DEBUG b.tm.BitronixTransactionManager - dumping 1 transaction context(s)
17:27:51.283 [Test worker] DEBUG b.tm.BitronixTransactionManager - a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.283 [Test worker] DEBUG bitronix.tm.BitronixTransaction - creating new transaction with GTRID [737072696E672D62746D000001452C10D2F300000055]
17:27:51.283 [Test worker] DEBUG bitronix.tm.internal.ThreadContext - assigning <a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=NO_TRANSACTION, 0 resource(s) enlisted (started null)> to <a ThreadContext (684457570) with transaction null, default timeout 60s>
17:27:51.283 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to ACTIVE
17:27:51.283 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from NO_TRANSACTION to ACTIVE - executing 0 listener(s)
17:27:51.283 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - scheduling transaction timeout task on a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014) for Fri Apr 04 17:28:51 CST 2014
17:27:51.283 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - removing task by a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.283 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - scheduled a TransactionTimeoutTask on a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014) scheduled for Fri Apr 04 17:28:51 CST 2014, total task(s) queued: 5
17:27:51.283 [Test worker] DEBUG b.tm.BitronixTransactionManager - begun new transaction at Fri Apr 04 17:27:51 CST 2014
17:27:51.284 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
17:27:51.284 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
17:27:51.284 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@34c6ce8f
17:27:51.284 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@39c5333
17:27:51.284 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
17:27:51.284 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
17:27:51.284 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D2F300000055]
17:27:51.284 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
17:27:51.284 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available), waiting if necessary
17:27:51.284 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 - closing time: 1396603727691, now time: 1396603671284
17:27:51.284 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.284 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.284 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.284 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.285 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.285 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 to the accessible pool
17:27:51.285 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@4dd1b0f3 was in state IN_POOL, testing it
17:27:51.285 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3, skipping test
17:27:51.285 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.285 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.285 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.285 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@4dd1b0f3 does not belong to any resource of a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.285 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@4dd1b0f3 belongs to a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.285 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D000001452C10D2F300000055 : 737072696E672D62746D000001452C10D2F500000056]
17:27:51.285 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D000001452C10D2F300000055 : 737072696E672D62746D000001452C10D2F500000056]> to <an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@4dd1b0f3 with XID null>
17:27:51.285 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@4dd1b0f3 with XID a Bitronix XID [737072696E672D62746D000001452C10D2F300000055 : 737072696E672D62746D000001452C10D2F500000056] with NOFLAGS
17:27:51.285 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@4dd1b0f3 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D2F300000055 : 737072696E672D62746D000001452C10D2F500000056] with NOFLAGS
17:27:51.285 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@4dd1b0f3 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D2F300000055 : 737072696E672D62746D000001452C10D2F500000056]] on a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.285 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D000001452C10D2F300000055] previously unknown to a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3, adding it to the resource's transactions list
Hibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
17:27:51.287 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@138d7b91
17:27:51.287 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.287 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.288 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.288 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.288 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.288 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.288 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.288 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.288 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.288 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.288 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from the accessible pool
17:27:51.288 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.288 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.288 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 to the inaccessible pool
17:27:51.288 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.288 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
17:27:51.288 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
17:27:51.289 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.289 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.289 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D2F300000055]
17:27:51.289 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.289 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.289 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D2F300000055
17:27:51.289 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.289 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.289 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.289 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.289 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from the inaccessible pool
17:27:51.289 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.289 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.289 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.289 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.289 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 to the accessible pool
17:27:51.289 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@4dd1b0f3 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.289 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.290 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.290 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.290 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@4dd1b0f3 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D2F300000055 : 737072696E672D62746D000001452C10D2F500000056]
Hibernate: update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
17:27:51.291 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@138d7b91
17:27:51.291 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.291 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.291 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.291 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.291 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.291 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.291 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.291 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.291 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.291 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.291 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from the accessible pool
17:27:51.291 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.291 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.291 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 to the inaccessible pool
17:27:51.291 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.291 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.291 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.291 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D2F300000055]
17:27:51.291 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.291 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.291 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D2F300000055
17:27:51.291 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.292 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.292 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.292 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.292 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from the inaccessible pool
17:27:51.292 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.292 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.292 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.292 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.292 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 to the accessible pool
17:27:51.292 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@4dd1b0f3 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.292 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.292 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.292 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.292 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@4dd1b0f3 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D2F300000055 : 737072696E672D62746D000001452C10D2F500000056]
Hibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
17:27:51.293 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@138d7b91
17:27:51.293 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.294 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.294 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.294 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.294 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.294 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.294 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.294 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.294 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.294 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.294 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from the accessible pool
17:27:51.294 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.294 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.294 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 to the inaccessible pool
17:27:51.294 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.295 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.295 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.295 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D2F300000055]
17:27:51.295 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.295 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.295 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D2F300000055
17:27:51.295 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.296 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.296 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.296 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.296 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from the inaccessible pool
17:27:51.296 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.296 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.296 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.296 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.296 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 to the accessible pool
17:27:51.296 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@4dd1b0f3 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.296 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.296 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.296 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.296 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@4dd1b0f3 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D2F300000055 : 737072696E672D62746D000001452C10D2F500000056]
Hibernate: update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
17:27:51.297 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@138d7b91
17:27:51.297 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.297 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.297 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.297 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.298 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.298 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.298 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.298 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.298 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.298 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.298 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from the accessible pool
17:27:51.298 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.298 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.298 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 to the inaccessible pool
17:27:51.298 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.298 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.298 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.298 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D2F300000055]
17:27:51.298 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.298 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.298 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D2F300000055
17:27:51.298 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.298 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.298 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.298 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.298 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from the inaccessible pool
17:27:51.298 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.298 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.298 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.298 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.299 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 to the accessible pool
17:27:51.299 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@4dd1b0f3 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.299 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.299 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.299 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.299 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@4dd1b0f3 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D2F300000055 : 737072696E672D62746D000001452C10D2F500000056]
Hibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
17:27:51.300 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@138d7b91
17:27:51.300 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.300 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.300 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.300 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.300 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.300 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.300 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.300 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.300 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.300 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.300 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from the accessible pool
17:27:51.300 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.300 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.300 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 to the inaccessible pool
17:27:51.300 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.301 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.301 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.301 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D2F300000055]
17:27:51.301 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.301 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.301 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D2F300000055
17:27:51.301 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.301 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.301 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.301 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.301 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from the inaccessible pool
17:27:51.301 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.301 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.301 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.302 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.302 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 to the accessible pool
17:27:51.302 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@4dd1b0f3 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.302 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.302 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
17:27:51.302 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.302 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@4dd1b0f3 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D2F300000055 : 737072696E672D62746D000001452C10D2F500000056]
Hibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
17:27:51.303 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@138d7b91
17:27:51.303 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.303 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.303 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.303 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.303 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.303 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.303 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.303 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.303 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.303 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.303 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from the accessible pool
17:27:51.303 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.303 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.304 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 to the inaccessible pool
17:27:51.304 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.304 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Initiating transaction commit
17:27:51.304 [Test worker] DEBUG b.tm.BitronixTransactionManager - committing transaction a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.304 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - cancelling transaction timeout task on a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.304 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - removing task by a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.304 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - cancelled a TransactionTimeoutTask on a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014) scheduled for Fri Apr 04 17:28:51 CST 2014, total task(s) still queued: 4
17:27:51.304 [Test worker] DEBUG bitronix.tm.BitronixTransaction - before completion, 4 synchronization(s) to execute
17:27:51.304 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a DeferredReleaseSynchronization of a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.304 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a ClearContextSynchronization for a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.304 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@34c6ce8f
17:27:51.304 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@39c5333
17:27:51.304 [Test worker] DEBUG bitronix.tm.BitronixTransaction - found unclosed resource to delist: an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@4dd1b0f3 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D2F300000055 : 737072696E672D62746D000001452C10D2F500000056]
17:27:51.304 [Test worker] DEBUG b.tm.internal.XAResourceManager - delisting resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@4dd1b0f3 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D2F300000055 : 737072696E672D62746D000001452C10D2F500000056]
17:27:51.304 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - ending an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@4dd1b0f3 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D2F300000055 : 737072696E672D62746D000001452C10D2F500000056] with SUCCESS
17:27:51.304 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - ended an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@4dd1b0f3 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D2F300000055 : 737072696E672D62746D000001452C10D2F500000056] with SUCCESS
17:27:51.305 [Test worker] DEBUG bitronix.tm.BitronixTransaction - committing, 1 enlisted resource(s)
17:27:51.305 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to PREPARING
17:27:51.305 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from ACTIVE to PREPARING - executing 0 listener(s)
17:27:51.305 [Test worker] DEBUG bitronix.tm.twopc.Preparer - 1 resource enlisted, no prepare needed (1PC)
17:27:51.305 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to PREPARED
17:27:51.305 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from PREPARING to PREPARED - executing 0 listener(s)
17:27:51.305 [Test worker] DEBUG bitronix.tm.BitronixTransaction - 1 interested resource(s)
17:27:51.305 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to COMMITTING
17:27:51.305 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from PREPARED to COMMITTING - executing 0 listener(s)
17:27:51.305 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - executing phase on 1 resource(s) enlisted in 1 position(s) in reverse position order
17:27:51.305 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - running 1 job(s) for position '1'
17:27:51.305 [Test worker] DEBUG bitronix.tm.twopc.Committer - committing resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@4dd1b0f3 (ended) with XID a Bitronix XID [737072696E672D62746D000001452C10D2F300000055 : 737072696E672D62746D000001452C10D2F500000056] (with one-phase optimization)
17:27:51.306 [Test worker] DEBUG bitronix.tm.twopc.Committer - committed resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@4dd1b0f3 (ended) with XID a Bitronix XID [737072696E672D62746D000001452C10D2F300000055 : 737072696E672D62746D000001452C10D2F500000056]
17:27:51.306 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - phase executed with 0 exception(s)
17:27:51.306 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - ran 1 job(s) for position '1'
17:27:51.306 [Test worker] DEBUG bitronix.tm.twopc.Committer - phase 2 commit executed on resources [jdbc/sharding]
17:27:51.306 [Test worker] DEBUG bitronix.tm.twopc.Committer - phase 2 commit succeeded on resources [jdbc/sharding]
17:27:51.306 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to COMMITTED
17:27:51.306 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from COMMITTING to COMMITTED - executing 0 listener(s)
17:27:51.306 [Test worker] DEBUG bitronix.tm.BitronixTransaction - successfully committed a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=COMMITTED, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.306 [Test worker] DEBUG b.tm.internal.XAResourceManager - clearing XAResourceHolder states on 1 resource(s)
17:27:51.306 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - removing XAResourceHolderState of xid a Bitronix XID [737072696E672D62746D000001452C10D2F300000055 : 737072696E672D62746D000001452C10D2F500000056] from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.307 [Test worker] DEBUG b.tm.internal.XAResourceManager - resource a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 cleaned up all transaction states for GTRID [737072696E672D62746D000001452C10D2F300000055]
17:27:51.307 [Test worker] DEBUG bitronix.tm.BitronixTransaction - after completion, 4 synchronization(s) to execute
17:27:51.307 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@34c6ce8f with status=COMMITTED
17:27:51.307 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@39c5333 with status=COMMITTED
17:27:51.307 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a ClearContextSynchronization for a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=COMMITTED, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014) with status=COMMITTED
17:27:51.307 [Test worker] DEBUG b.tm.BitronixTransactionManager - clearing transaction from thread context: a ThreadContext (684457570) with transaction a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=COMMITTED, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014), default timeout 60s
17:27:51.307 [Test worker] DEBUG b.tm.BitronixTransactionManager - removing transaction from in-flight transactions: a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D2F300000055], status=COMMITTED, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.307 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a DeferredReleaseSynchronization of a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 with status=COMMITTED
17:27:51.307 [Test worker] DEBUG b.t.r.c.DeferredReleaseSynchronization - DeferredReleaseSynchronization requeuing a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.307 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.307 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.307 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 from the inaccessible pool
17:27:51.307 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.307 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.307 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3 to the available pool
17:27:51.307 [Test worker] DEBUG b.t.r.c.DeferredReleaseSynchronization - DeferredReleaseSynchronization requeued a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@4dd1b0f3
17:27:51.307 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Resuming suspended transaction after completion of inner transaction
17:27:51.307 [Test worker] DEBUG b.tm.BitronixTransactionManager - resuming a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.307 [Test worker] DEBUG b.tm.internal.XAResourceManager - resuming an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (ended) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]
17:27:51.308 [Test worker] DEBUG b.tm.internal.XAResourceManager - re-enlisting 1 resource(s)
17:27:51.308 [Test worker] DEBUG b.tm.internal.XAResourceManager - re-enlisting resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 with XID null
17:27:51.308 [Test worker] DEBUG b.tm.internal.XAResourceManager - resource already enlisted but has been ended eligible for join: an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (ended) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]
17:27:51.308 [Test worker] DEBUG b.tm.internal.XAResourceManager - checking joinability of an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 with XID null with an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (ended) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]
17:27:51.308 [Test worker] DEBUG b.tm.internal.XAResourceManager - resources are joinable
17:27:51.308 [Test worker] DEBUG b.tm.internal.XAResourceManager - joining an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 with XID null with an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (ended) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]
17:27:51.308 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]> to <an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 with XID null>
17:27:51.308 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054] with JOIN
17:27:51.308 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054] with JOIN
17:27:51.308 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]] on a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.308 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D000001452C10D26300000051] previously known to a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646, adding it to the resource's transactions list
17:27:51.308 [Test worker] DEBUG bitronix.tm.internal.ThreadContext - assigning <a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)> to <a ThreadContext (684457570) with transaction null, default timeout 60s>
17:27:51.318 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=orderItems, numCreated=2, numUpdated=0, numDeleted=0
17:27:51.322 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.322 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.322 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D26300000051]
17:27:51.322 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.322 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.322 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D26300000051
17:27:51.322 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.322 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.322 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.322 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.322 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 from the inaccessible pool
17:27:51.322 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.322 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.322 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.322 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.322 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 to the accessible pool
17:27:51.322 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@39741646 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.322 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.322 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.322 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.322 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]
Hibernate: select this_.ORDER_ITEM_DISCOUNT_INFO_ID as ORDER1_1_0_, this_.CREATED_BY as CREATED2_1_0_, this_.CREATED_TIME as CREATED3_1_0_, this_.UPDATED_BY as UPDATED4_1_0_, this_.UPDATED_TIME as UPDATED5_1_0_, this_.IS_DELETED as IS6_1_0_, this_.COUPON as COUPON1_0_, this_.DISCOUNT_AMOUNT as DISCOUNT8_1_0_, this_.DISCOUNT_RATE as DISCOUNT9_1_0_, this_.DISCOUNT_TYPE as DISCOUNT10_1_0_, this_.ORDER_ID as ORDER11_1_0_, this_.ORDER_ITEM_ID as ORDER12_1_0_, this_.PROMOTION_ID as PROMOTION13_1_0_ from ORDER_DISCOUNT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.324 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@3e8efac6
17:27:51.324 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.324 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.324 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.324 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.324 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.324 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.324 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.324 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.324 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.324 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.324 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from the accessible pool
17:27:51.324 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.324 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.324 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 to the inaccessible pool
17:27:51.324 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.326 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=discounts, numCreated=2, numUpdated=0, numDeleted=0
17:27:51.327 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.327 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.327 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D26300000051]
17:27:51.327 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.327 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.327 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D26300000051
17:27:51.327 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.327 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.327 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.327 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.327 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 from the inaccessible pool
17:27:51.327 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.327 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.327 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.327 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.327 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 to the accessible pool
17:27:51.328 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@39741646 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.328 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.328 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.328 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.328 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]
Hibernate: select this_.ORDER_PAYMENT_INFO_ID as ORDER1_10_0_, this_.CREATED_BY as CREATED2_10_0_, this_.CREATED_TIME as CREATED3_10_0_, this_.UPDATED_BY as UPDATED4_10_0_, this_.UPDATED_TIME as UPDATED5_10_0_, this_.IS_DELETED as IS6_10_0_, this_.ORDER_ID as ORDER7_10_0_, this_.PAYMENT_METHOD_ID as PAYMENT8_10_0_, this_.PAYMENT_METHOD_TYPE as PAYMENT9_10_0_ from ORDER_PAYMENT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.329 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@3e8efac6
17:27:51.329 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.329 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.329 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.329 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.329 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.329 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.329 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.329 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.329 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.329 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.329 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from the accessible pool
17:27:51.329 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.329 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.329 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 to the inaccessible pool
17:27:51.329 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.334 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=paymentInstruments, numCreated=2, numUpdated=0, numDeleted=0
17:27:51.342 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.342 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.342 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D26300000051]
17:27:51.342 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.342 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.342 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D26300000051
17:27:51.342 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.342 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.342 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.342 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.342 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 from the inaccessible pool
17:27:51.342 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.342 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.342 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.342 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.342 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 to the accessible pool
17:27:51.342 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@39741646 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.343 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.343 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.343 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.343 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]
Hibernate: insert into USER_ORDER (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, COUNTRY, CURRENCY, HONOR_UNTIL_TIME, HONORED_TIME, IS_TAX_INCLUSIVE, ORDER_STATUS_ID, ORDER_TYPE_ID, ORIGINAL_ORDER_ID, PROPERTIES, SHIPPING_ADDRESS_ID, SHIPPING_METHOD_ID, IS_TENTATIVE, TOTAL_AMOUNT, TOTAL_DISCOUNT, TOTAL_PREORDER_AMOUNT, TOTAL_PREORDER_TAX, TOTAL_SHIPPING_FEE, TOTAL_SHIPPING_FEE_DISCOUNT, TOTAL_TAX, TRACKING_UUID, USER_ID, ORDER_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
17:27:51.346 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.346 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]
Hibernate: insert into ORDER_ITEM (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, FEDERATED_ID, HONOR_UNTIL_TIME, HONORED_TIME, IS_TAX_EXEMPTED, ORDER_ID, ORDER_ITEM_TYPE, PRODUCT_ITEM_ID, PROPERTIES, QUANTITY, SHIPPING_ADDRESS_ID, SHIPPING_METHOD_ID, TOTAL_AMOUNT, TOTAL_DISCOUNT, TOTAL_PREORDER_AMOUNT, TOTAL_PREORDER_TAX, TOTAL_TAX, UNIT_PRICE, ORDER_ITEM_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into ORDER_ITEM (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, FEDERATED_ID, HONOR_UNTIL_TIME, HONORED_TIME, IS_TAX_EXEMPTED, ORDER_ID, ORDER_ITEM_TYPE, PRODUCT_ITEM_ID, PROPERTIES, QUANTITY, SHIPPING_ADDRESS_ID, SHIPPING_METHOD_ID, TOTAL_AMOUNT, TOTAL_DISCOUNT, TOTAL_PREORDER_AMOUNT, TOTAL_PREORDER_TAX, TOTAL_TAX, UNIT_PRICE, ORDER_ITEM_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
17:27:51.350 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.350 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]
Hibernate: insert into ORDER_DISCOUNT_INFO (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, COUPON, DISCOUNT_AMOUNT, DISCOUNT_RATE, DISCOUNT_TYPE, ORDER_ID, ORDER_ITEM_ID, PROMOTION_ID, ORDER_ITEM_DISCOUNT_INFO_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into ORDER_DISCOUNT_INFO (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, COUPON, DISCOUNT_AMOUNT, DISCOUNT_RATE, DISCOUNT_TYPE, ORDER_ID, ORDER_ITEM_ID, PROMOTION_ID, ORDER_ITEM_DISCOUNT_INFO_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
17:27:51.354 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.354 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]
Hibernate: insert into ORDER_PAYMENT_INFO (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, ORDER_ID, PAYMENT_METHOD_ID, PAYMENT_METHOD_TYPE, ORDER_PAYMENT_INFO_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into ORDER_PAYMENT_INFO (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, ORDER_ID, PAYMENT_METHOD_ID, PAYMENT_METHOD_TYPE, ORDER_PAYMENT_INFO_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
17:27:51.357 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@3e8efac6
17:27:51.357 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.357 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.357 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.357 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.357 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.357 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.357 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.357 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.358 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.358 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.358 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from the accessible pool
17:27:51.358 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.358 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.358 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 to the inaccessible pool
17:27:51.358 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.358 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.358 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.359 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D26300000051]
17:27:51.359 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.359 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.359 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D26300000051
17:27:51.359 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.359 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.359 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.359 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.359 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 from the inaccessible pool
17:27:51.360 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.360 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.360 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.360 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.360 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 to the accessible pool
17:27:51.360 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@39741646 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.360 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.360 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.360 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.361 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]
Hibernate: select this_.ORDER_ITEM_ID as ORDER1_4_0_, this_.CREATED_BY as CREATED2_4_0_, this_.CREATED_TIME as CREATED3_4_0_, this_.UPDATED_BY as UPDATED4_4_0_, this_.UPDATED_TIME as UPDATED5_4_0_, this_.IS_DELETED as IS6_4_0_, this_.FEDERATED_ID as FEDERATED7_4_0_, this_.HONOR_UNTIL_TIME as HONOR8_4_0_, this_.HONORED_TIME as HONORED9_4_0_, this_.IS_TAX_EXEMPTED as IS10_4_0_, this_.ORDER_ID as ORDER11_4_0_, this_.ORDER_ITEM_TYPE as ORDER12_4_0_, this_.PRODUCT_ITEM_ID as PRODUCT13_4_0_, this_.PROPERTIES as PROPERTIES4_0_, this_.QUANTITY as QUANTITY4_0_, this_.SHIPPING_ADDRESS_ID as SHIPPING16_4_0_, this_.SHIPPING_METHOD_ID as SHIPPING17_4_0_, this_.TOTAL_AMOUNT as TOTAL18_4_0_, this_.TOTAL_DISCOUNT as TOTAL19_4_0_, this_.TOTAL_PREORDER_AMOUNT as TOTAL20_4_0_, this_.TOTAL_PREORDER_TAX as TOTAL21_4_0_, this_.TOTAL_TAX as TOTAL22_4_0_, this_.UNIT_PRICE as UNIT23_4_0_ from ORDER_ITEM this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.366 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@3e8efac6
17:27:51.366 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.367 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.367 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.367 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.367 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.367 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.367 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.367 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.367 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.367 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.367 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from the accessible pool
17:27:51.367 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.367 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.367 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 to the inaccessible pool
17:27:51.367 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.399 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.399 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.399 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D26300000051]
17:27:51.399 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.399 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.399 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D26300000051
17:27:51.399 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.399 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.399 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.399 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.399 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 from the inaccessible pool
17:27:51.399 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.399 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.399 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.399 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.399 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 to the accessible pool
17:27:51.399 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@39741646 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.399 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.399 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.399 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.399 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]
Hibernate: select this_.ORDER_ITEM_DISCOUNT_INFO_ID as ORDER1_1_0_, this_.CREATED_BY as CREATED2_1_0_, this_.CREATED_TIME as CREATED3_1_0_, this_.UPDATED_BY as UPDATED4_1_0_, this_.UPDATED_TIME as UPDATED5_1_0_, this_.IS_DELETED as IS6_1_0_, this_.COUPON as COUPON1_0_, this_.DISCOUNT_AMOUNT as DISCOUNT8_1_0_, this_.DISCOUNT_RATE as DISCOUNT9_1_0_, this_.DISCOUNT_TYPE as DISCOUNT10_1_0_, this_.ORDER_ID as ORDER11_1_0_, this_.ORDER_ITEM_ID as ORDER12_1_0_, this_.PROMOTION_ID as PROMOTION13_1_0_ from ORDER_DISCOUNT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.401 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@3e8efac6
17:27:51.401 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.401 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.401 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.401 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.401 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.401 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.401 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.401 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.401 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.401 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.401 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from the accessible pool
17:27:51.401 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.402 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.402 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 to the inaccessible pool
17:27:51.402 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.406 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.407 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.407 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D26300000051]
17:27:51.407 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.407 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.407 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D26300000051
17:27:51.407 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.407 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.407 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.407 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.407 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 from the inaccessible pool
17:27:51.407 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.407 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.407 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.407 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.407 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 to the accessible pool
17:27:51.407 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@39741646 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.407 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.407 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.407 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.407 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@39741646 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D26300000051 : 737072696E672D62746D000001452C10D2E400000054]
Hibernate: select this_.ORDER_PAYMENT_INFO_ID as ORDER1_10_0_, this_.CREATED_BY as CREATED2_10_0_, this_.CREATED_TIME as CREATED3_10_0_, this_.UPDATED_BY as UPDATED4_10_0_, this_.UPDATED_TIME as UPDATED5_10_0_, this_.IS_DELETED as IS6_10_0_, this_.ORDER_ID as ORDER7_10_0_, this_.PAYMENT_METHOD_ID as PAYMENT8_10_0_, this_.PAYMENT_METHOD_TYPE as PAYMENT9_10_0_ from ORDER_PAYMENT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.408 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@3e8efac6
17:27:51.408 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.408 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.409 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.409 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.409 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.409 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.409 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D26300000051], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.409 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.409 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.409 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.409 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 from the accessible pool
17:27:51.409 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.409 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.409 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646 to the inaccessible pool
17:27:51.409 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@39741646
17:27:51.431 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@76f725f5
17:27:51.431 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@17b83e5f
17:27:51.434 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (3 still available)
17:27:51.434 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (3 still available)
17:27:51.434 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.434 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
17:27:51.434 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (3 still available), waiting if necessary
17:27:51.434 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/order_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 - closing time: 1396603731085, now time: 1396603671434
17:27:51.435 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.435 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.435 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.435 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.435 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.435 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.435 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state IN_POOL, testing it
17:27:51.435 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21, skipping test
17:27:51.435 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.435 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.435 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 0 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.435 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@74626b21 belongs to a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.436 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
17:27:51.436 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]> to <an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 with XID null>
17:27:51.436 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058] with NOFLAGS
17:27:51.436 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058] with NOFLAGS
17:27:51.436 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]] on a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.436 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D000001452C10D37A00000057] previously unknown to a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21, adding it to the resource's transactions list
Hibernate: select this_.ORDER_ITEM_ID as ORDER1_4_0_, this_.CREATED_BY as CREATED2_4_0_, this_.CREATED_TIME as CREATED3_4_0_, this_.UPDATED_BY as UPDATED4_4_0_, this_.UPDATED_TIME as UPDATED5_4_0_, this_.IS_DELETED as IS6_4_0_, this_.FEDERATED_ID as FEDERATED7_4_0_, this_.HONOR_UNTIL_TIME as HONOR8_4_0_, this_.HONORED_TIME as HONORED9_4_0_, this_.IS_TAX_EXEMPTED as IS10_4_0_, this_.ORDER_ID as ORDER11_4_0_, this_.ORDER_ITEM_TYPE as ORDER12_4_0_, this_.PRODUCT_ITEM_ID as PRODUCT13_4_0_, this_.PROPERTIES as PROPERTIES4_0_, this_.QUANTITY as QUANTITY4_0_, this_.SHIPPING_ADDRESS_ID as SHIPPING16_4_0_, this_.SHIPPING_METHOD_ID as SHIPPING17_4_0_, this_.TOTAL_AMOUNT as TOTAL18_4_0_, this_.TOTAL_DISCOUNT as TOTAL19_4_0_, this_.TOTAL_PREORDER_AMOUNT as TOTAL20_4_0_, this_.TOTAL_PREORDER_TAX as TOTAL21_4_0_, this_.TOTAL_TAX as TOTAL22_4_0_, this_.UNIT_PRICE as UNIT23_4_0_ from ORDER_ITEM this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.438 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.439 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.439 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.439 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.439 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.439 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.439 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.440 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.440 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.440 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.440 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.440 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.440 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.440 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.440 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.440 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.443 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=orderItems, numCreated=2, numUpdated=0, numDeleted=0
17:27:51.445 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.445 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.445 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.445 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.445 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.445 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.445 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.445 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.445 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.445 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.445 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.445 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.445 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.445 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.445 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.445 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.445 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.445 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.445 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.445 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.445 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_DISCOUNT_INFO_ID as ORDER1_1_0_, this_.CREATED_BY as CREATED2_1_0_, this_.CREATED_TIME as CREATED3_1_0_, this_.UPDATED_BY as UPDATED4_1_0_, this_.UPDATED_TIME as UPDATED5_1_0_, this_.IS_DELETED as IS6_1_0_, this_.COUPON as COUPON1_0_, this_.DISCOUNT_AMOUNT as DISCOUNT8_1_0_, this_.DISCOUNT_RATE as DISCOUNT9_1_0_, this_.DISCOUNT_TYPE as DISCOUNT10_1_0_, this_.ORDER_ID as ORDER11_1_0_, this_.ORDER_ITEM_ID as ORDER12_1_0_, this_.PROMOTION_ID as PROMOTION13_1_0_ from ORDER_DISCOUNT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.446 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.447 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.447 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.447 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.447 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.447 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.447 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.447 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.447 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.447 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.447 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.447 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.447 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.447 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.447 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.447 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.448 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=discounts, numCreated=2, numUpdated=0, numDeleted=0
17:27:51.450 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.450 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.450 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.450 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.450 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.450 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.450 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.450 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.450 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.450 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.450 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.450 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.450 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.451 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.451 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.451 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.451 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.451 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.451 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.451 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.451 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_PAYMENT_INFO_ID as ORDER1_10_0_, this_.CREATED_BY as CREATED2_10_0_, this_.CREATED_TIME as CREATED3_10_0_, this_.UPDATED_BY as UPDATED4_10_0_, this_.UPDATED_TIME as UPDATED5_10_0_, this_.IS_DELETED as IS6_10_0_, this_.ORDER_ID as ORDER7_10_0_, this_.PAYMENT_METHOD_ID as PAYMENT8_10_0_, this_.PAYMENT_METHOD_TYPE as PAYMENT9_10_0_ from ORDER_PAYMENT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.452 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.452 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.452 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.452 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.452 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.452 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.452 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.452 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.453 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.453 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.453 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.453 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.453 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.453 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.453 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.453 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.454 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=paymentInstruments, numCreated=2, numUpdated=0, numDeleted=0
17:27:51.456 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.456 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.456 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.456 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.456 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.456 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.456 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.456 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.456 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.457 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.457 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.457 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.457 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.457 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.457 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.457 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.457 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.457 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.457 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.457 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.457 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: insert into USER_ORDER (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, COUNTRY, CURRENCY, HONOR_UNTIL_TIME, HONORED_TIME, IS_TAX_INCLUSIVE, ORDER_STATUS_ID, ORDER_TYPE_ID, ORIGINAL_ORDER_ID, PROPERTIES, SHIPPING_ADDRESS_ID, SHIPPING_METHOD_ID, IS_TENTATIVE, TOTAL_AMOUNT, TOTAL_DISCOUNT, TOTAL_PREORDER_AMOUNT, TOTAL_PREORDER_TAX, TOTAL_SHIPPING_FEE, TOTAL_SHIPPING_FEE_DISCOUNT, TOTAL_TAX, TRACKING_UUID, USER_ID, ORDER_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
17:27:51.460 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.460 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: insert into ORDER_ITEM (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, FEDERATED_ID, HONOR_UNTIL_TIME, HONORED_TIME, IS_TAX_EXEMPTED, ORDER_ID, ORDER_ITEM_TYPE, PRODUCT_ITEM_ID, PROPERTIES, QUANTITY, SHIPPING_ADDRESS_ID, SHIPPING_METHOD_ID, TOTAL_AMOUNT, TOTAL_DISCOUNT, TOTAL_PREORDER_AMOUNT, TOTAL_PREORDER_TAX, TOTAL_TAX, UNIT_PRICE, ORDER_ITEM_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into ORDER_ITEM (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, FEDERATED_ID, HONOR_UNTIL_TIME, HONORED_TIME, IS_TAX_EXEMPTED, ORDER_ID, ORDER_ITEM_TYPE, PRODUCT_ITEM_ID, PROPERTIES, QUANTITY, SHIPPING_ADDRESS_ID, SHIPPING_METHOD_ID, TOTAL_AMOUNT, TOTAL_DISCOUNT, TOTAL_PREORDER_AMOUNT, TOTAL_PREORDER_TAX, TOTAL_TAX, UNIT_PRICE, ORDER_ITEM_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
17:27:51.465 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.465 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: insert into ORDER_DISCOUNT_INFO (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, COUPON, DISCOUNT_AMOUNT, DISCOUNT_RATE, DISCOUNT_TYPE, ORDER_ID, ORDER_ITEM_ID, PROMOTION_ID, ORDER_ITEM_DISCOUNT_INFO_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into ORDER_DISCOUNT_INFO (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, COUPON, DISCOUNT_AMOUNT, DISCOUNT_RATE, DISCOUNT_TYPE, ORDER_ID, ORDER_ITEM_ID, PROMOTION_ID, ORDER_ITEM_DISCOUNT_INFO_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
17:27:51.468 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.469 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: insert into ORDER_PAYMENT_INFO (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, ORDER_ID, PAYMENT_METHOD_ID, PAYMENT_METHOD_TYPE, ORDER_PAYMENT_INFO_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into ORDER_PAYMENT_INFO (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, ORDER_ID, PAYMENT_METHOD_ID, PAYMENT_METHOD_TYPE, ORDER_PAYMENT_INFO_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
17:27:51.476 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.477 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.477 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.477 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.478 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.478 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.478 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.478 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.478 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.479 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.483 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.483 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.483 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.483 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.483 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.483 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.483 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.483 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.483 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.483 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.483 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.483 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.483 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.483 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.483 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.483 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.483 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.483 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.483 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.484 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.484 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.484 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.484 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.484 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.484 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.484 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.484 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_ID as ORDER1_4_0_, this_.CREATED_BY as CREATED2_4_0_, this_.CREATED_TIME as CREATED3_4_0_, this_.UPDATED_BY as UPDATED4_4_0_, this_.UPDATED_TIME as UPDATED5_4_0_, this_.IS_DELETED as IS6_4_0_, this_.FEDERATED_ID as FEDERATED7_4_0_, this_.HONOR_UNTIL_TIME as HONOR8_4_0_, this_.HONORED_TIME as HONORED9_4_0_, this_.IS_TAX_EXEMPTED as IS10_4_0_, this_.ORDER_ID as ORDER11_4_0_, this_.ORDER_ITEM_TYPE as ORDER12_4_0_, this_.PRODUCT_ITEM_ID as PRODUCT13_4_0_, this_.PROPERTIES as PROPERTIES4_0_, this_.QUANTITY as QUANTITY4_0_, this_.SHIPPING_ADDRESS_ID as SHIPPING16_4_0_, this_.SHIPPING_METHOD_ID as SHIPPING17_4_0_, this_.TOTAL_AMOUNT as TOTAL18_4_0_, this_.TOTAL_DISCOUNT as TOTAL19_4_0_, this_.TOTAL_PREORDER_AMOUNT as TOTAL20_4_0_, this_.TOTAL_PREORDER_TAX as TOTAL21_4_0_, this_.TOTAL_TAX as TOTAL22_4_0_, this_.UNIT_PRICE as UNIT23_4_0_ from ORDER_ITEM this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.497 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementUnregisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D000001452C10D29C00000052
17:27:51.498 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementUnregisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D000001452C10D26300000051
17:27:51.498 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementRegisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D000001452C10D37A00000057
17:27:51.500 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.500 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.500 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.500 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.500 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.500 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.500 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.500 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.500 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.500 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.500 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.500 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.500 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.500 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.500 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.500 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.504 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.504 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.504 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.504 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.504 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.504 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.504 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.504 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.504 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.504 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.504 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.504 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.504 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.505 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.505 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.505 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.505 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.505 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.505 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.505 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.505 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_DISCOUNT_INFO_ID as ORDER1_1_0_, this_.CREATED_BY as CREATED2_1_0_, this_.CREATED_TIME as CREATED3_1_0_, this_.UPDATED_BY as UPDATED4_1_0_, this_.UPDATED_TIME as UPDATED5_1_0_, this_.IS_DELETED as IS6_1_0_, this_.COUPON as COUPON1_0_, this_.DISCOUNT_AMOUNT as DISCOUNT8_1_0_, this_.DISCOUNT_RATE as DISCOUNT9_1_0_, this_.DISCOUNT_TYPE as DISCOUNT10_1_0_, this_.ORDER_ID as ORDER11_1_0_, this_.ORDER_ITEM_ID as ORDER12_1_0_, this_.PROMOTION_ID as PROMOTION13_1_0_ from ORDER_DISCOUNT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.509 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.509 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.509 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.509 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.509 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.509 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.510 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.510 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.510 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.510 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.510 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.510 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.510 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.510 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.510 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.510 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.513 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.513 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.513 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.513 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.513 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.513 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.513 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.513 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.513 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.513 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.513 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.513 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.513 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.513 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.513 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.513 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.513 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.513 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.513 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.513 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.513 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_PAYMENT_INFO_ID as ORDER1_10_0_, this_.CREATED_BY as CREATED2_10_0_, this_.CREATED_TIME as CREATED3_10_0_, this_.UPDATED_BY as UPDATED4_10_0_, this_.UPDATED_TIME as UPDATED5_10_0_, this_.IS_DELETED as IS6_10_0_, this_.ORDER_ID as ORDER7_10_0_, this_.PAYMENT_METHOD_ID as PAYMENT8_10_0_, this_.PAYMENT_METHOD_TYPE as PAYMENT9_10_0_ from ORDER_PAYMENT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.524 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.524 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.524 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.524 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.524 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.524 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.524 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.524 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.524 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.524 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.524 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.524 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.524 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.524 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.524 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.524 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.579 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.579 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.579 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.579 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.579 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.579 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.579 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.579 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.579 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.579 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.579 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.579 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.579 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.579 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.579 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.579 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.580 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.580 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.580 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.580 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.580 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_ID as ORDER1_4_0_, this_.CREATED_BY as CREATED2_4_0_, this_.CREATED_TIME as CREATED3_4_0_, this_.UPDATED_BY as UPDATED4_4_0_, this_.UPDATED_TIME as UPDATED5_4_0_, this_.IS_DELETED as IS6_4_0_, this_.FEDERATED_ID as FEDERATED7_4_0_, this_.HONOR_UNTIL_TIME as HONOR8_4_0_, this_.HONORED_TIME as HONORED9_4_0_, this_.IS_TAX_EXEMPTED as IS10_4_0_, this_.ORDER_ID as ORDER11_4_0_, this_.ORDER_ITEM_TYPE as ORDER12_4_0_, this_.PRODUCT_ITEM_ID as PRODUCT13_4_0_, this_.PROPERTIES as PROPERTIES4_0_, this_.QUANTITY as QUANTITY4_0_, this_.SHIPPING_ADDRESS_ID as SHIPPING16_4_0_, this_.SHIPPING_METHOD_ID as SHIPPING17_4_0_, this_.TOTAL_AMOUNT as TOTAL18_4_0_, this_.TOTAL_DISCOUNT as TOTAL19_4_0_, this_.TOTAL_PREORDER_AMOUNT as TOTAL20_4_0_, this_.TOTAL_PREORDER_TAX as TOTAL21_4_0_, this_.TOTAL_TAX as TOTAL22_4_0_, this_.UNIT_PRICE as UNIT23_4_0_ from ORDER_ITEM this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.583 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.584 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.584 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.584 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.584 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.584 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.584 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.584 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.584 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.584 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.584 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.584 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.584 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.584 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.584 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.584 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.587 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=orderItems, numCreated=1, numUpdated=2, numDeleted=0
17:27:51.588 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.589 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.589 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.589 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.589 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.589 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.589 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.589 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.589 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.589 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.589 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.589 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.589 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.589 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.589 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.589 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.589 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.590 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.590 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.590 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.590 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_DISCOUNT_INFO_ID as ORDER1_1_0_, this_.CREATED_BY as CREATED2_1_0_, this_.CREATED_TIME as CREATED3_1_0_, this_.UPDATED_BY as UPDATED4_1_0_, this_.UPDATED_TIME as UPDATED5_1_0_, this_.IS_DELETED as IS6_1_0_, this_.COUPON as COUPON1_0_, this_.DISCOUNT_AMOUNT as DISCOUNT8_1_0_, this_.DISCOUNT_RATE as DISCOUNT9_1_0_, this_.DISCOUNT_TYPE as DISCOUNT10_1_0_, this_.ORDER_ID as ORDER11_1_0_, this_.ORDER_ITEM_ID as ORDER12_1_0_, this_.PROMOTION_ID as PROMOTION13_1_0_ from ORDER_DISCOUNT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.591 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.591 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.592 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.592 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.592 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.592 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.592 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.592 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.592 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.592 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.592 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.592 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.592 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.592 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.592 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.592 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.594 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=discounts, numCreated=1, numUpdated=2, numDeleted=0
17:27:51.597 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.597 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.597 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.597 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.597 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.597 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.597 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.597 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.597 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.597 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.597 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.597 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.597 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.597 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.597 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.597 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.597 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.597 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.597 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.597 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.597 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_PAYMENT_INFO_ID as ORDER1_10_0_, this_.CREATED_BY as CREATED2_10_0_, this_.CREATED_TIME as CREATED3_10_0_, this_.UPDATED_BY as UPDATED4_10_0_, this_.UPDATED_TIME as UPDATED5_10_0_, this_.IS_DELETED as IS6_10_0_, this_.ORDER_ID as ORDER7_10_0_, this_.PAYMENT_METHOD_ID as PAYMENT8_10_0_, this_.PAYMENT_METHOD_TYPE as PAYMENT9_10_0_ from ORDER_PAYMENT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.599 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.599 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.599 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.599 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.599 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.599 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.599 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.599 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.599 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.599 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.599 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.599 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.599 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.599 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.599 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.599 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.600 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=paymentInstruments, numCreated=1, numUpdated=0, numDeleted=0
17:27:51.604 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.604 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.604 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.604 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.604 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.604 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.604 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.604 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.604 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.604 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.604 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.605 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.605 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.605 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.605 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.605 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.605 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.605 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.605 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.605 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.605 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: insert into ORDER_ITEM (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, FEDERATED_ID, HONOR_UNTIL_TIME, HONORED_TIME, IS_TAX_EXEMPTED, ORDER_ID, ORDER_ITEM_TYPE, PRODUCT_ITEM_ID, PROPERTIES, QUANTITY, SHIPPING_ADDRESS_ID, SHIPPING_METHOD_ID, TOTAL_AMOUNT, TOTAL_DISCOUNT, TOTAL_PREORDER_AMOUNT, TOTAL_PREORDER_TAX, TOTAL_TAX, UNIT_PRICE, ORDER_ITEM_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
17:27:51.608 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.608 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: insert into ORDER_DISCOUNT_INFO (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, COUPON, DISCOUNT_AMOUNT, DISCOUNT_RATE, DISCOUNT_TYPE, ORDER_ID, ORDER_ITEM_ID, PROMOTION_ID, ORDER_ITEM_DISCOUNT_INFO_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
17:27:51.611 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.611 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: insert into ORDER_PAYMENT_INFO (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, ORDER_ID, PAYMENT_METHOD_ID, PAYMENT_METHOD_TYPE, ORDER_PAYMENT_INFO_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
17:27:51.614 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.614 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update USER_ORDER set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, COUNTRY=?, CURRENCY=?, HONOR_UNTIL_TIME=?, HONORED_TIME=?, IS_TAX_INCLUSIVE=?, ORDER_STATUS_ID=?, ORDER_TYPE_ID=?, ORIGINAL_ORDER_ID=?, PROPERTIES=?, SHIPPING_ADDRESS_ID=?, SHIPPING_METHOD_ID=?, IS_TENTATIVE=?, TOTAL_AMOUNT=?, TOTAL_DISCOUNT=?, TOTAL_PREORDER_AMOUNT=?, TOTAL_PREORDER_TAX=?, TOTAL_SHIPPING_FEE=?, TOTAL_SHIPPING_FEE_DISCOUNT=?, TOTAL_TAX=?, TRACKING_UUID=?, USER_ID=? where ORDER_ID=?
17:27:51.617 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.617 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_ITEM set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, FEDERATED_ID=?, HONOR_UNTIL_TIME=?, HONORED_TIME=?, IS_TAX_EXEMPTED=?, ORDER_ID=?, ORDER_ITEM_TYPE=?, PRODUCT_ITEM_ID=?, PROPERTIES=?, QUANTITY=?, SHIPPING_ADDRESS_ID=?, SHIPPING_METHOD_ID=?, TOTAL_AMOUNT=?, TOTAL_DISCOUNT=?, TOTAL_PREORDER_AMOUNT=?, TOTAL_PREORDER_TAX=?, TOTAL_TAX=?, UNIT_PRICE=? where ORDER_ITEM_ID=?
Hibernate: update ORDER_ITEM set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, FEDERATED_ID=?, HONOR_UNTIL_TIME=?, HONORED_TIME=?, IS_TAX_EXEMPTED=?, ORDER_ID=?, ORDER_ITEM_TYPE=?, PRODUCT_ITEM_ID=?, PROPERTIES=?, QUANTITY=?, SHIPPING_ADDRESS_ID=?, SHIPPING_METHOD_ID=?, TOTAL_AMOUNT=?, TOTAL_DISCOUNT=?, TOTAL_PREORDER_AMOUNT=?, TOTAL_PREORDER_TAX=?, TOTAL_TAX=?, UNIT_PRICE=? where ORDER_ITEM_ID=?
17:27:51.622 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.622 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_DISCOUNT_INFO set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, COUPON=?, DISCOUNT_AMOUNT=?, DISCOUNT_RATE=?, DISCOUNT_TYPE=?, ORDER_ID=?, ORDER_ITEM_ID=?, PROMOTION_ID=? where ORDER_ITEM_DISCOUNT_INFO_ID=?
Hibernate: update ORDER_DISCOUNT_INFO set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, COUPON=?, DISCOUNT_AMOUNT=?, DISCOUNT_RATE=?, DISCOUNT_TYPE=?, ORDER_ID=?, ORDER_ITEM_ID=?, PROMOTION_ID=? where ORDER_ITEM_DISCOUNT_INFO_ID=?
17:27:51.626 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.626 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.626 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.626 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.627 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.627 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.627 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.627 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.627 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.627 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.627 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.627 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.627 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.627 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.627 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.627 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.627 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.627 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.627 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.627 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.627 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.627 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.627 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.627 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.627 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.627 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.627 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.627 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.627 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.627 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.627 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.628 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.628 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.628 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.628 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.628 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.628 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_ID as ORDER1_4_0_, this_.CREATED_BY as CREATED2_4_0_, this_.CREATED_TIME as CREATED3_4_0_, this_.UPDATED_BY as UPDATED4_4_0_, this_.UPDATED_TIME as UPDATED5_4_0_, this_.IS_DELETED as IS6_4_0_, this_.FEDERATED_ID as FEDERATED7_4_0_, this_.HONOR_UNTIL_TIME as HONOR8_4_0_, this_.HONORED_TIME as HONORED9_4_0_, this_.IS_TAX_EXEMPTED as IS10_4_0_, this_.ORDER_ID as ORDER11_4_0_, this_.ORDER_ITEM_TYPE as ORDER12_4_0_, this_.PRODUCT_ITEM_ID as PRODUCT13_4_0_, this_.PROPERTIES as PROPERTIES4_0_, this_.QUANTITY as QUANTITY4_0_, this_.SHIPPING_ADDRESS_ID as SHIPPING16_4_0_, this_.SHIPPING_METHOD_ID as SHIPPING17_4_0_, this_.TOTAL_AMOUNT as TOTAL18_4_0_, this_.TOTAL_DISCOUNT as TOTAL19_4_0_, this_.TOTAL_PREORDER_AMOUNT as TOTAL20_4_0_, this_.TOTAL_PREORDER_TAX as TOTAL21_4_0_, this_.TOTAL_TAX as TOTAL22_4_0_, this_.UNIT_PRICE as UNIT23_4_0_ from ORDER_ITEM this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.635 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.636 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.636 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.636 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.636 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.636 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.636 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.636 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.636 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.641 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.641 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.641 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.641 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.641 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.641 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.641 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.641 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.641 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.641 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.641 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.642 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_DISCOUNT_INFO_ID as ORDER1_1_0_, this_.CREATED_BY as CREATED2_1_0_, this_.CREATED_TIME as CREATED3_1_0_, this_.UPDATED_BY as UPDATED4_1_0_, this_.UPDATED_TIME as UPDATED5_1_0_, this_.IS_DELETED as IS6_1_0_, this_.COUPON as COUPON1_0_, this_.DISCOUNT_AMOUNT as DISCOUNT8_1_0_, this_.DISCOUNT_RATE as DISCOUNT9_1_0_, this_.DISCOUNT_TYPE as DISCOUNT10_1_0_, this_.ORDER_ID as ORDER11_1_0_, this_.ORDER_ITEM_ID as ORDER12_1_0_, this_.PROMOTION_ID as PROMOTION13_1_0_ from ORDER_DISCOUNT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.645 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.646 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.646 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.646 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.646 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.646 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.646 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.646 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.646 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.646 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.646 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.646 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.646 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.646 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.647 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.647 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.650 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.650 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.650 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.650 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.650 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.650 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.650 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.650 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.650 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.650 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.650 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.650 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.650 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.650 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.650 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.651 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.651 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.651 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.651 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.651 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.651 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_PAYMENT_INFO_ID as ORDER1_10_0_, this_.CREATED_BY as CREATED2_10_0_, this_.CREATED_TIME as CREATED3_10_0_, this_.UPDATED_BY as UPDATED4_10_0_, this_.UPDATED_TIME as UPDATED5_10_0_, this_.IS_DELETED as IS6_10_0_, this_.ORDER_ID as ORDER7_10_0_, this_.PAYMENT_METHOD_ID as PAYMENT8_10_0_, this_.PAYMENT_METHOD_TYPE as PAYMENT9_10_0_ from ORDER_PAYMENT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.652 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.653 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.653 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.653 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.653 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.653 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.653 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.653 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.653 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.653 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.653 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.653 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.653 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.653 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.653 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.653 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.659 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.659 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.659 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.659 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.660 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.660 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.660 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.660 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.660 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.660 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.660 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.660 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.660 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.660 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.660 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.660 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.660 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.660 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.660 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.660 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.660 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_ID as ORDER1_4_0_, this_.CREATED_BY as CREATED2_4_0_, this_.CREATED_TIME as CREATED3_4_0_, this_.UPDATED_BY as UPDATED4_4_0_, this_.UPDATED_TIME as UPDATED5_4_0_, this_.IS_DELETED as IS6_4_0_, this_.FEDERATED_ID as FEDERATED7_4_0_, this_.HONOR_UNTIL_TIME as HONOR8_4_0_, this_.HONORED_TIME as HONORED9_4_0_, this_.IS_TAX_EXEMPTED as IS10_4_0_, this_.ORDER_ID as ORDER11_4_0_, this_.ORDER_ITEM_TYPE as ORDER12_4_0_, this_.PRODUCT_ITEM_ID as PRODUCT13_4_0_, this_.PROPERTIES as PROPERTIES4_0_, this_.QUANTITY as QUANTITY4_0_, this_.SHIPPING_ADDRESS_ID as SHIPPING16_4_0_, this_.SHIPPING_METHOD_ID as SHIPPING17_4_0_, this_.TOTAL_AMOUNT as TOTAL18_4_0_, this_.TOTAL_DISCOUNT as TOTAL19_4_0_, this_.TOTAL_PREORDER_AMOUNT as TOTAL20_4_0_, this_.TOTAL_PREORDER_TAX as TOTAL21_4_0_, this_.TOTAL_TAX as TOTAL22_4_0_, this_.UNIT_PRICE as UNIT23_4_0_ from ORDER_ITEM this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.662 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.662 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.662 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.662 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.662 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.662 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.662 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.662 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.662 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.662 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.662 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.662 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.662 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.662 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.662 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.662 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.664 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=orderItems, numCreated=0, numUpdated=3, numDeleted=0
17:27:51.666 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.666 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.666 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.666 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.666 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.666 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.667 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.667 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.667 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.667 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.667 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.667 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.667 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.667 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.667 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.667 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.667 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_DISCOUNT_INFO_ID as ORDER1_1_0_, this_.CREATED_BY as CREATED2_1_0_, this_.CREATED_TIME as CREATED3_1_0_, this_.UPDATED_BY as UPDATED4_1_0_, this_.UPDATED_TIME as UPDATED5_1_0_, this_.IS_DELETED as IS6_1_0_, this_.COUPON as COUPON1_0_, this_.DISCOUNT_AMOUNT as DISCOUNT8_1_0_, this_.DISCOUNT_RATE as DISCOUNT9_1_0_, this_.DISCOUNT_TYPE as DISCOUNT10_1_0_, this_.ORDER_ID as ORDER11_1_0_, this_.ORDER_ITEM_ID as ORDER12_1_0_, this_.PROMOTION_ID as PROMOTION13_1_0_ from ORDER_DISCOUNT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.669 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.669 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.669 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.669 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.669 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.669 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.669 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.669 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.669 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.669 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.669 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.669 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.670 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.670 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.670 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.670 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.671 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=discounts, numCreated=0, numUpdated=3, numDeleted=0
17:27:51.673 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.673 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.673 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.673 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.673 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.673 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.673 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.673 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.673 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.673 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.673 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.673 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.673 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.673 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.673 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.673 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.673 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.673 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.673 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.673 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.673 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_PAYMENT_INFO_ID as ORDER1_10_0_, this_.CREATED_BY as CREATED2_10_0_, this_.CREATED_TIME as CREATED3_10_0_, this_.UPDATED_BY as UPDATED4_10_0_, this_.UPDATED_TIME as UPDATED5_10_0_, this_.IS_DELETED as IS6_10_0_, this_.ORDER_ID as ORDER7_10_0_, this_.PAYMENT_METHOD_ID as PAYMENT8_10_0_, this_.PAYMENT_METHOD_TYPE as PAYMENT9_10_0_ from ORDER_PAYMENT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.675 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.675 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.675 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.675 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.675 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.675 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.675 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.675 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.675 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.675 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.675 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.675 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.675 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.675 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.675 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.675 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.676 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=paymentInstruments, numCreated=0, numUpdated=0, numDeleted=0
17:27:51.679 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.679 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.679 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.679 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.679 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.679 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.679 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.679 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.679 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.679 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.679 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.679 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.679 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.679 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.679 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.679 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.679 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.679 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.679 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.679 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.679 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update USER_ORDER set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, COUNTRY=?, CURRENCY=?, HONOR_UNTIL_TIME=?, HONORED_TIME=?, IS_TAX_INCLUSIVE=?, ORDER_STATUS_ID=?, ORDER_TYPE_ID=?, ORIGINAL_ORDER_ID=?, PROPERTIES=?, SHIPPING_ADDRESS_ID=?, SHIPPING_METHOD_ID=?, IS_TENTATIVE=?, TOTAL_AMOUNT=?, TOTAL_DISCOUNT=?, TOTAL_PREORDER_AMOUNT=?, TOTAL_PREORDER_TAX=?, TOTAL_SHIPPING_FEE=?, TOTAL_SHIPPING_FEE_DISCOUNT=?, TOTAL_TAX=?, TRACKING_UUID=?, USER_ID=? where ORDER_ID=?
17:27:51.683 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.683 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_ITEM set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, FEDERATED_ID=?, HONOR_UNTIL_TIME=?, HONORED_TIME=?, IS_TAX_EXEMPTED=?, ORDER_ID=?, ORDER_ITEM_TYPE=?, PRODUCT_ITEM_ID=?, PROPERTIES=?, QUANTITY=?, SHIPPING_ADDRESS_ID=?, SHIPPING_METHOD_ID=?, TOTAL_AMOUNT=?, TOTAL_DISCOUNT=?, TOTAL_PREORDER_AMOUNT=?, TOTAL_PREORDER_TAX=?, TOTAL_TAX=?, UNIT_PRICE=? where ORDER_ITEM_ID=?
Hibernate: update ORDER_ITEM set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, FEDERATED_ID=?, HONOR_UNTIL_TIME=?, HONORED_TIME=?, IS_TAX_EXEMPTED=?, ORDER_ID=?, ORDER_ITEM_TYPE=?, PRODUCT_ITEM_ID=?, PROPERTIES=?, QUANTITY=?, SHIPPING_ADDRESS_ID=?, SHIPPING_METHOD_ID=?, TOTAL_AMOUNT=?, TOTAL_DISCOUNT=?, TOTAL_PREORDER_AMOUNT=?, TOTAL_PREORDER_TAX=?, TOTAL_TAX=?, UNIT_PRICE=? where ORDER_ITEM_ID=?
17:27:51.687 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.687 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_DISCOUNT_INFO set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, COUPON=?, DISCOUNT_AMOUNT=?, DISCOUNT_RATE=?, DISCOUNT_TYPE=?, ORDER_ID=?, ORDER_ITEM_ID=?, PROMOTION_ID=? where ORDER_ITEM_DISCOUNT_INFO_ID=?
Hibernate: update ORDER_DISCOUNT_INFO set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, COUPON=?, DISCOUNT_AMOUNT=?, DISCOUNT_RATE=?, DISCOUNT_TYPE=?, ORDER_ID=?, ORDER_ITEM_ID=?, PROMOTION_ID=? where ORDER_ITEM_DISCOUNT_INFO_ID=?
17:27:51.691 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.691 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_ITEM set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, FEDERATED_ID=?, HONOR_UNTIL_TIME=?, HONORED_TIME=?, IS_TAX_EXEMPTED=?, ORDER_ID=?, ORDER_ITEM_TYPE=?, PRODUCT_ITEM_ID=?, PROPERTIES=?, QUANTITY=?, SHIPPING_ADDRESS_ID=?, SHIPPING_METHOD_ID=?, TOTAL_AMOUNT=?, TOTAL_DISCOUNT=?, TOTAL_PREORDER_AMOUNT=?, TOTAL_PREORDER_TAX=?, TOTAL_TAX=?, UNIT_PRICE=? where ORDER_ITEM_ID=?
17:27:51.694 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.694 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_DISCOUNT_INFO set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, COUPON=?, DISCOUNT_AMOUNT=?, DISCOUNT_RATE=?, DISCOUNT_TYPE=?, ORDER_ID=?, ORDER_ITEM_ID=?, PROMOTION_ID=? where ORDER_ITEM_DISCOUNT_INFO_ID=?
17:27:51.695 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.695 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.695 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.695 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.695 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.695 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.695 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.695 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.695 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.696 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.696 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.696 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.696 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.696 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.696 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.696 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.696 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.696 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.696 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.696 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.696 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.696 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.696 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.696 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.696 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.696 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.696 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.696 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.696 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.696 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.696 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.696 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.696 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.696 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.696 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.696 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.696 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_ID as ORDER1_4_0_, this_.CREATED_BY as CREATED2_4_0_, this_.CREATED_TIME as CREATED3_4_0_, this_.UPDATED_BY as UPDATED4_4_0_, this_.UPDATED_TIME as UPDATED5_4_0_, this_.IS_DELETED as IS6_4_0_, this_.FEDERATED_ID as FEDERATED7_4_0_, this_.HONOR_UNTIL_TIME as HONOR8_4_0_, this_.HONORED_TIME as HONORED9_4_0_, this_.IS_TAX_EXEMPTED as IS10_4_0_, this_.ORDER_ID as ORDER11_4_0_, this_.ORDER_ITEM_TYPE as ORDER12_4_0_, this_.PRODUCT_ITEM_ID as PRODUCT13_4_0_, this_.PROPERTIES as PROPERTIES4_0_, this_.QUANTITY as QUANTITY4_0_, this_.SHIPPING_ADDRESS_ID as SHIPPING16_4_0_, this_.SHIPPING_METHOD_ID as SHIPPING17_4_0_, this_.TOTAL_AMOUNT as TOTAL18_4_0_, this_.TOTAL_DISCOUNT as TOTAL19_4_0_, this_.TOTAL_PREORDER_AMOUNT as TOTAL20_4_0_, this_.TOTAL_PREORDER_TAX as TOTAL21_4_0_, this_.TOTAL_TAX as TOTAL22_4_0_, this_.UNIT_PRICE as UNIT23_4_0_ from ORDER_ITEM this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.698 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.698 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.698 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.698 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.698 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.698 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.698 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.698 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.698 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.698 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.698 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.699 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.699 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.699 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.699 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.699 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.703 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.704 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.704 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.704 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.704 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.704 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.704 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.704 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.704 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.704 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.704 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.704 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.704 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.704 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.704 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.704 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.704 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.704 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.704 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.705 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.705 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_DISCOUNT_INFO_ID as ORDER1_1_0_, this_.CREATED_BY as CREATED2_1_0_, this_.CREATED_TIME as CREATED3_1_0_, this_.UPDATED_BY as UPDATED4_1_0_, this_.UPDATED_TIME as UPDATED5_1_0_, this_.IS_DELETED as IS6_1_0_, this_.COUPON as COUPON1_0_, this_.DISCOUNT_AMOUNT as DISCOUNT8_1_0_, this_.DISCOUNT_RATE as DISCOUNT9_1_0_, this_.DISCOUNT_TYPE as DISCOUNT10_1_0_, this_.ORDER_ID as ORDER11_1_0_, this_.ORDER_ITEM_ID as ORDER12_1_0_, this_.PROMOTION_ID as PROMOTION13_1_0_ from ORDER_DISCOUNT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.706 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.707 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.707 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.707 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.707 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.707 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.707 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.707 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.707 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.707 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.707 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.707 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.707 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.707 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.707 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.707 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.711 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.711 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.711 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.711 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.711 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.712 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.712 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.712 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.712 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.712 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.712 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.712 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.712 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.712 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.712 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.712 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.712 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.712 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.712 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.712 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.712 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_PAYMENT_INFO_ID as ORDER1_10_0_, this_.CREATED_BY as CREATED2_10_0_, this_.CREATED_TIME as CREATED3_10_0_, this_.UPDATED_BY as UPDATED4_10_0_, this_.UPDATED_TIME as UPDATED5_10_0_, this_.IS_DELETED as IS6_10_0_, this_.ORDER_ID as ORDER7_10_0_, this_.PAYMENT_METHOD_ID as PAYMENT8_10_0_, this_.PAYMENT_METHOD_TYPE as PAYMENT9_10_0_ from ORDER_PAYMENT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.714 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.714 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.714 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.714 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.714 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.714 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.714 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.714 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.714 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.714 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.714 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.714 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.714 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.714 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.714 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.714 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.728 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.728 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.728 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.728 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.728 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.728 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.728 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.728 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.728 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.728 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.728 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.728 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.728 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.728 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.728 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.728 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.728 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.728 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.729 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.729 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.729 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_ID as ORDER1_4_0_, this_.CREATED_BY as CREATED2_4_0_, this_.CREATED_TIME as CREATED3_4_0_, this_.UPDATED_BY as UPDATED4_4_0_, this_.UPDATED_TIME as UPDATED5_4_0_, this_.IS_DELETED as IS6_4_0_, this_.FEDERATED_ID as FEDERATED7_4_0_, this_.HONOR_UNTIL_TIME as HONOR8_4_0_, this_.HONORED_TIME as HONORED9_4_0_, this_.IS_TAX_EXEMPTED as IS10_4_0_, this_.ORDER_ID as ORDER11_4_0_, this_.ORDER_ITEM_TYPE as ORDER12_4_0_, this_.PRODUCT_ITEM_ID as PRODUCT13_4_0_, this_.PROPERTIES as PROPERTIES4_0_, this_.QUANTITY as QUANTITY4_0_, this_.SHIPPING_ADDRESS_ID as SHIPPING16_4_0_, this_.SHIPPING_METHOD_ID as SHIPPING17_4_0_, this_.TOTAL_AMOUNT as TOTAL18_4_0_, this_.TOTAL_DISCOUNT as TOTAL19_4_0_, this_.TOTAL_PREORDER_AMOUNT as TOTAL20_4_0_, this_.TOTAL_PREORDER_TAX as TOTAL21_4_0_, this_.TOTAL_TAX as TOTAL22_4_0_, this_.UNIT_PRICE as UNIT23_4_0_ from ORDER_ITEM this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.730 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.730 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.730 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.731 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.731 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.731 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.731 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.731 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.731 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.731 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.731 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.731 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.731 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.731 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.731 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.731 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.733 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=orderItems, numCreated=1, numUpdated=2, numDeleted=1
17:27:51.735 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.735 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.735 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.735 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.735 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.735 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.735 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.735 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.735 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.735 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.735 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.735 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.735 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.735 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.735 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.735 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.735 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.735 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.735 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.735 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.735 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_DISCOUNT_INFO_ID as ORDER1_1_0_, this_.CREATED_BY as CREATED2_1_0_, this_.CREATED_TIME as CREATED3_1_0_, this_.UPDATED_BY as UPDATED4_1_0_, this_.UPDATED_TIME as UPDATED5_1_0_, this_.IS_DELETED as IS6_1_0_, this_.COUPON as COUPON1_0_, this_.DISCOUNT_AMOUNT as DISCOUNT8_1_0_, this_.DISCOUNT_RATE as DISCOUNT9_1_0_, this_.DISCOUNT_TYPE as DISCOUNT10_1_0_, this_.ORDER_ID as ORDER11_1_0_, this_.ORDER_ITEM_ID as ORDER12_1_0_, this_.PROMOTION_ID as PROMOTION13_1_0_ from ORDER_DISCOUNT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.737 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.737 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.737 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.737 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.737 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.737 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.737 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.737 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.737 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.737 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.737 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.737 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.737 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.737 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.737 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.737 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.739 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=discounts, numCreated=1, numUpdated=2, numDeleted=1
17:27:51.741 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.741 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.741 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.741 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.741 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.741 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.741 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.741 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.741 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.741 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.741 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.741 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.741 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.741 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.741 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.741 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.741 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.741 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.741 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.741 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.741 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_PAYMENT_INFO_ID as ORDER1_10_0_, this_.CREATED_BY as CREATED2_10_0_, this_.CREATED_TIME as CREATED3_10_0_, this_.UPDATED_BY as UPDATED4_10_0_, this_.UPDATED_TIME as UPDATED5_10_0_, this_.IS_DELETED as IS6_10_0_, this_.ORDER_ID as ORDER7_10_0_, this_.PAYMENT_METHOD_ID as PAYMENT8_10_0_, this_.PAYMENT_METHOD_TYPE as PAYMENT9_10_0_ from ORDER_PAYMENT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.743 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.743 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.743 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.743 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.743 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.743 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.743 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.743 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.743 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.743 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.743 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.743 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.743 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.743 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.743 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.743 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.746 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=paymentInstruments, numCreated=1, numUpdated=0, numDeleted=1
17:27:51.749 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.749 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.749 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.749 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.749 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.749 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.749 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.749 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.750 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.750 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.750 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.750 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.750 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.750 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.750 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.750 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.750 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.750 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.750 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.750 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.750 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: insert into ORDER_ITEM (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, FEDERATED_ID, HONOR_UNTIL_TIME, HONORED_TIME, IS_TAX_EXEMPTED, ORDER_ID, ORDER_ITEM_TYPE, PRODUCT_ITEM_ID, PROPERTIES, QUANTITY, SHIPPING_ADDRESS_ID, SHIPPING_METHOD_ID, TOTAL_AMOUNT, TOTAL_DISCOUNT, TOTAL_PREORDER_AMOUNT, TOTAL_PREORDER_TAX, TOTAL_TAX, UNIT_PRICE, ORDER_ITEM_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
17:27:51.753 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.753 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: insert into ORDER_DISCOUNT_INFO (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, COUPON, DISCOUNT_AMOUNT, DISCOUNT_RATE, DISCOUNT_TYPE, ORDER_ID, ORDER_ITEM_ID, PROMOTION_ID, ORDER_ITEM_DISCOUNT_INFO_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
17:27:51.755 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.755 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: insert into ORDER_PAYMENT_INFO (CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, IS_DELETED, ORDER_ID, PAYMENT_METHOD_ID, PAYMENT_METHOD_TYPE, ORDER_PAYMENT_INFO_ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
17:27:51.757 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.757 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update USER_ORDER set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, COUNTRY=?, CURRENCY=?, HONOR_UNTIL_TIME=?, HONORED_TIME=?, IS_TAX_INCLUSIVE=?, ORDER_STATUS_ID=?, ORDER_TYPE_ID=?, ORIGINAL_ORDER_ID=?, PROPERTIES=?, SHIPPING_ADDRESS_ID=?, SHIPPING_METHOD_ID=?, IS_TENTATIVE=?, TOTAL_AMOUNT=?, TOTAL_DISCOUNT=?, TOTAL_PREORDER_AMOUNT=?, TOTAL_PREORDER_TAX=?, TOTAL_SHIPPING_FEE=?, TOTAL_SHIPPING_FEE_DISCOUNT=?, TOTAL_TAX=?, TRACKING_UUID=?, USER_ID=? where ORDER_ID=?
17:27:51.760 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.760 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_ITEM set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, FEDERATED_ID=?, HONOR_UNTIL_TIME=?, HONORED_TIME=?, IS_TAX_EXEMPTED=?, ORDER_ID=?, ORDER_ITEM_TYPE=?, PRODUCT_ITEM_ID=?, PROPERTIES=?, QUANTITY=?, SHIPPING_ADDRESS_ID=?, SHIPPING_METHOD_ID=?, TOTAL_AMOUNT=?, TOTAL_DISCOUNT=?, TOTAL_PREORDER_AMOUNT=?, TOTAL_PREORDER_TAX=?, TOTAL_TAX=?, UNIT_PRICE=? where ORDER_ITEM_ID=?
Hibernate: update ORDER_ITEM set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, FEDERATED_ID=?, HONOR_UNTIL_TIME=?, HONORED_TIME=?, IS_TAX_EXEMPTED=?, ORDER_ID=?, ORDER_ITEM_TYPE=?, PRODUCT_ITEM_ID=?, PROPERTIES=?, QUANTITY=?, SHIPPING_ADDRESS_ID=?, SHIPPING_METHOD_ID=?, TOTAL_AMOUNT=?, TOTAL_DISCOUNT=?, TOTAL_PREORDER_AMOUNT=?, TOTAL_PREORDER_TAX=?, TOTAL_TAX=?, UNIT_PRICE=? where ORDER_ITEM_ID=?
17:27:51.764 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.764 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_DISCOUNT_INFO set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, COUPON=?, DISCOUNT_AMOUNT=?, DISCOUNT_RATE=?, DISCOUNT_TYPE=?, ORDER_ID=?, ORDER_ITEM_ID=?, PROMOTION_ID=? where ORDER_ITEM_DISCOUNT_INFO_ID=?
Hibernate: update ORDER_DISCOUNT_INFO set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, COUPON=?, DISCOUNT_AMOUNT=?, DISCOUNT_RATE=?, DISCOUNT_TYPE=?, ORDER_ID=?, ORDER_ITEM_ID=?, PROMOTION_ID=? where ORDER_ITEM_DISCOUNT_INFO_ID=?
17:27:51.768 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.768 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_PAYMENT_INFO set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, ORDER_ID=?, PAYMENT_METHOD_ID=?, PAYMENT_METHOD_TYPE=? where ORDER_PAYMENT_INFO_ID=?
17:27:51.770 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.770 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_ITEM set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, FEDERATED_ID=?, HONOR_UNTIL_TIME=?, HONORED_TIME=?, IS_TAX_EXEMPTED=?, ORDER_ID=?, ORDER_ITEM_TYPE=?, PRODUCT_ITEM_ID=?, PROPERTIES=?, QUANTITY=?, SHIPPING_ADDRESS_ID=?, SHIPPING_METHOD_ID=?, TOTAL_AMOUNT=?, TOTAL_DISCOUNT=?, TOTAL_PREORDER_AMOUNT=?, TOTAL_PREORDER_TAX=?, TOTAL_TAX=?, UNIT_PRICE=? where ORDER_ITEM_ID=?
17:27:51.773 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.773 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_DISCOUNT_INFO set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, COUPON=?, DISCOUNT_AMOUNT=?, DISCOUNT_RATE=?, DISCOUNT_TYPE=?, ORDER_ID=?, ORDER_ITEM_ID=?, PROMOTION_ID=? where ORDER_ITEM_DISCOUNT_INFO_ID=?
17:27:51.774 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.774 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.774 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.774 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.774 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.774 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.774 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.774 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.775 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.775 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.775 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.775 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.775 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.775 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.775 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.775 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.775 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.775 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.775 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.775 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.775 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.775 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_ID as ORDER1_4_0_, this_.CREATED_BY as CREATED2_4_0_, this_.CREATED_TIME as CREATED3_4_0_, this_.UPDATED_BY as UPDATED4_4_0_, this_.UPDATED_TIME as UPDATED5_4_0_, this_.IS_DELETED as IS6_4_0_, this_.FEDERATED_ID as FEDERATED7_4_0_, this_.HONOR_UNTIL_TIME as HONOR8_4_0_, this_.HONORED_TIME as HONORED9_4_0_, this_.IS_TAX_EXEMPTED as IS10_4_0_, this_.ORDER_ID as ORDER11_4_0_, this_.ORDER_ITEM_TYPE as ORDER12_4_0_, this_.PRODUCT_ITEM_ID as PRODUCT13_4_0_, this_.PROPERTIES as PROPERTIES4_0_, this_.QUANTITY as QUANTITY4_0_, this_.SHIPPING_ADDRESS_ID as SHIPPING16_4_0_, this_.SHIPPING_METHOD_ID as SHIPPING17_4_0_, this_.TOTAL_AMOUNT as TOTAL18_4_0_, this_.TOTAL_DISCOUNT as TOTAL19_4_0_, this_.TOTAL_PREORDER_AMOUNT as TOTAL20_4_0_, this_.TOTAL_PREORDER_TAX as TOTAL21_4_0_, this_.TOTAL_TAX as TOTAL22_4_0_, this_.UNIT_PRICE as UNIT23_4_0_ from ORDER_ITEM this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.777 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.777 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.777 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.778 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.778 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.778 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.778 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.778 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.778 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.778 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.778 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.778 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.778 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.778 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.778 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.778 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.781 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.782 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.782 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.782 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.782 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.782 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.782 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.782 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.782 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.782 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.782 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.782 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.782 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.782 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.782 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.783 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.783 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.783 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.783 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_DISCOUNT_INFO_ID as ORDER1_1_0_, this_.CREATED_BY as CREATED2_1_0_, this_.CREATED_TIME as CREATED3_1_0_, this_.UPDATED_BY as UPDATED4_1_0_, this_.UPDATED_TIME as UPDATED5_1_0_, this_.IS_DELETED as IS6_1_0_, this_.COUPON as COUPON1_0_, this_.DISCOUNT_AMOUNT as DISCOUNT8_1_0_, this_.DISCOUNT_RATE as DISCOUNT9_1_0_, this_.DISCOUNT_TYPE as DISCOUNT10_1_0_, this_.ORDER_ID as ORDER11_1_0_, this_.ORDER_ITEM_ID as ORDER12_1_0_, this_.PROMOTION_ID as PROMOTION13_1_0_ from ORDER_DISCOUNT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.787 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.788 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.788 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.789 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.789 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.789 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.789 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.789 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.789 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.789 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.789 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.789 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.789 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.791 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.793 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.793 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.796 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.796 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.796 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.796 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.796 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.796 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.796 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.796 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.796 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.796 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.796 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.796 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.796 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.796 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.796 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.796 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.797 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.797 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.797 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.797 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.797 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_PAYMENT_INFO_ID as ORDER1_10_0_, this_.CREATED_BY as CREATED2_10_0_, this_.CREATED_TIME as CREATED3_10_0_, this_.UPDATED_BY as UPDATED4_10_0_, this_.UPDATED_TIME as UPDATED5_10_0_, this_.IS_DELETED as IS6_10_0_, this_.ORDER_ID as ORDER7_10_0_, this_.PAYMENT_METHOD_ID as PAYMENT8_10_0_, this_.PAYMENT_METHOD_TYPE as PAYMENT9_10_0_ from ORDER_PAYMENT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.799 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.799 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.799 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.799 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.800 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.800 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.800 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.800 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.800 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.800 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.800 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.800 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.800 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.800 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.800 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.800 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.804 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.804 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.805 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.805 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.805 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.805 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.805 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.805 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.805 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.805 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.805 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.805 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.805 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.805 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.805 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.805 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.805 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.805 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.805 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.805 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.805 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_ID as ORDER1_4_0_, this_.CREATED_BY as CREATED2_4_0_, this_.CREATED_TIME as CREATED3_4_0_, this_.UPDATED_BY as UPDATED4_4_0_, this_.UPDATED_TIME as UPDATED5_4_0_, this_.IS_DELETED as IS6_4_0_, this_.FEDERATED_ID as FEDERATED7_4_0_, this_.HONOR_UNTIL_TIME as HONOR8_4_0_, this_.HONORED_TIME as HONORED9_4_0_, this_.IS_TAX_EXEMPTED as IS10_4_0_, this_.ORDER_ID as ORDER11_4_0_, this_.ORDER_ITEM_TYPE as ORDER12_4_0_, this_.PRODUCT_ITEM_ID as PRODUCT13_4_0_, this_.PROPERTIES as PROPERTIES4_0_, this_.QUANTITY as QUANTITY4_0_, this_.SHIPPING_ADDRESS_ID as SHIPPING16_4_0_, this_.SHIPPING_METHOD_ID as SHIPPING17_4_0_, this_.TOTAL_AMOUNT as TOTAL18_4_0_, this_.TOTAL_DISCOUNT as TOTAL19_4_0_, this_.TOTAL_PREORDER_AMOUNT as TOTAL20_4_0_, this_.TOTAL_PREORDER_TAX as TOTAL21_4_0_, this_.TOTAL_TAX as TOTAL22_4_0_, this_.UNIT_PRICE as UNIT23_4_0_ from ORDER_ITEM this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.808 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.808 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.808 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.808 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.808 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.808 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.808 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.808 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.808 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.808 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.808 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.808 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.808 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.808 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.808 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.808 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.810 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=orderItems, numCreated=0, numUpdated=0, numDeleted=3
17:27:51.814 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.815 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.815 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.815 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.815 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.815 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.815 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.816 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.816 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.816 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.816 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.816 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.816 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.816 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.816 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.816 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.816 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.816 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.816 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.816 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.816 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_DISCOUNT_INFO_ID as ORDER1_1_0_, this_.CREATED_BY as CREATED2_1_0_, this_.CREATED_TIME as CREATED3_1_0_, this_.UPDATED_BY as UPDATED4_1_0_, this_.UPDATED_TIME as UPDATED5_1_0_, this_.IS_DELETED as IS6_1_0_, this_.COUPON as COUPON1_0_, this_.DISCOUNT_AMOUNT as DISCOUNT8_1_0_, this_.DISCOUNT_RATE as DISCOUNT9_1_0_, this_.DISCOUNT_TYPE as DISCOUNT10_1_0_, this_.ORDER_ID as ORDER11_1_0_, this_.ORDER_ITEM_ID as ORDER12_1_0_, this_.PROMOTION_ID as PROMOTION13_1_0_ from ORDER_DISCOUNT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.819 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.819 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.819 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.819 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.819 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.819 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.819 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.819 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.819 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.819 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.819 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.819 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.819 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.820 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.820 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.820 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.821 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=discounts, numCreated=0, numUpdated=0, numDeleted=3
17:27:51.823 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.824 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.824 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.824 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.824 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.824 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.824 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.824 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.824 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.824 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.824 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.824 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.824 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.824 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.824 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.824 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.824 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.824 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.824 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.824 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.824 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_PAYMENT_INFO_ID as ORDER1_10_0_, this_.CREATED_BY as CREATED2_10_0_, this_.CREATED_TIME as CREATED3_10_0_, this_.UPDATED_BY as UPDATED4_10_0_, this_.UPDATED_TIME as UPDATED5_10_0_, this_.IS_DELETED as IS6_10_0_, this_.ORDER_ID as ORDER7_10_0_, this_.PAYMENT_METHOD_ID as PAYMENT8_10_0_, this_.PAYMENT_METHOD_TYPE as PAYMENT9_10_0_ from ORDER_PAYMENT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.826 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.826 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.826 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.826 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.826 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.826 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.826 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.826 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.826 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.826 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.826 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.826 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.826 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.826 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.826 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.826 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.827 [Test worker] DEBUG c.j.o.d.r.impl.OrderRepositoryImpl - name=Save_List_Fields, fieldName=paymentInstruments, numCreated=0, numUpdated=0, numDeleted=3
17:27:51.831 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.831 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.831 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.831 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.831 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.831 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.831 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.831 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.831 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.831 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.831 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.831 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.831 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.831 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.831 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.831 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.831 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.832 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.832 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.832 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.832 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update USER_ORDER set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, COUNTRY=?, CURRENCY=?, HONOR_UNTIL_TIME=?, HONORED_TIME=?, IS_TAX_INCLUSIVE=?, ORDER_STATUS_ID=?, ORDER_TYPE_ID=?, ORIGINAL_ORDER_ID=?, PROPERTIES=?, SHIPPING_ADDRESS_ID=?, SHIPPING_METHOD_ID=?, IS_TENTATIVE=?, TOTAL_AMOUNT=?, TOTAL_DISCOUNT=?, TOTAL_PREORDER_AMOUNT=?, TOTAL_PREORDER_TAX=?, TOTAL_SHIPPING_FEE=?, TOTAL_SHIPPING_FEE_DISCOUNT=?, TOTAL_TAX=?, TRACKING_UUID=?, USER_ID=? where ORDER_ID=?
17:27:51.838 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.838 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_ITEM set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, FEDERATED_ID=?, HONOR_UNTIL_TIME=?, HONORED_TIME=?, IS_TAX_EXEMPTED=?, ORDER_ID=?, ORDER_ITEM_TYPE=?, PRODUCT_ITEM_ID=?, PROPERTIES=?, QUANTITY=?, SHIPPING_ADDRESS_ID=?, SHIPPING_METHOD_ID=?, TOTAL_AMOUNT=?, TOTAL_DISCOUNT=?, TOTAL_PREORDER_AMOUNT=?, TOTAL_PREORDER_TAX=?, TOTAL_TAX=?, UNIT_PRICE=? where ORDER_ITEM_ID=?
17:27:51.845 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.845 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_DISCOUNT_INFO set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, COUPON=?, DISCOUNT_AMOUNT=?, DISCOUNT_RATE=?, DISCOUNT_TYPE=?, ORDER_ID=?, ORDER_ITEM_ID=?, PROMOTION_ID=? where ORDER_ITEM_DISCOUNT_INFO_ID=?
17:27:51.847 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.848 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_PAYMENT_INFO set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, ORDER_ID=?, PAYMENT_METHOD_ID=?, PAYMENT_METHOD_TYPE=? where ORDER_PAYMENT_INFO_ID=?
17:27:51.850 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.851 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_ITEM set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, FEDERATED_ID=?, HONOR_UNTIL_TIME=?, HONORED_TIME=?, IS_TAX_EXEMPTED=?, ORDER_ID=?, ORDER_ITEM_TYPE=?, PRODUCT_ITEM_ID=?, PROPERTIES=?, QUANTITY=?, SHIPPING_ADDRESS_ID=?, SHIPPING_METHOD_ID=?, TOTAL_AMOUNT=?, TOTAL_DISCOUNT=?, TOTAL_PREORDER_AMOUNT=?, TOTAL_PREORDER_TAX=?, TOTAL_TAX=?, UNIT_PRICE=? where ORDER_ITEM_ID=?
17:27:51.854 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.854 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_DISCOUNT_INFO set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, COUPON=?, DISCOUNT_AMOUNT=?, DISCOUNT_RATE=?, DISCOUNT_TYPE=?, ORDER_ID=?, ORDER_ITEM_ID=?, PROMOTION_ID=? where ORDER_ITEM_DISCOUNT_INFO_ID=?
17:27:51.856 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.856 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_PAYMENT_INFO set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, ORDER_ID=?, PAYMENT_METHOD_ID=?, PAYMENT_METHOD_TYPE=? where ORDER_PAYMENT_INFO_ID=?
17:27:51.859 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.859 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_ITEM set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, FEDERATED_ID=?, HONOR_UNTIL_TIME=?, HONORED_TIME=?, IS_TAX_EXEMPTED=?, ORDER_ID=?, ORDER_ITEM_TYPE=?, PRODUCT_ITEM_ID=?, PROPERTIES=?, QUANTITY=?, SHIPPING_ADDRESS_ID=?, SHIPPING_METHOD_ID=?, TOTAL_AMOUNT=?, TOTAL_DISCOUNT=?, TOTAL_PREORDER_AMOUNT=?, TOTAL_PREORDER_TAX=?, TOTAL_TAX=?, UNIT_PRICE=? where ORDER_ITEM_ID=?
17:27:51.861 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.861 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_DISCOUNT_INFO set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, COUPON=?, DISCOUNT_AMOUNT=?, DISCOUNT_RATE=?, DISCOUNT_TYPE=?, ORDER_ID=?, ORDER_ITEM_ID=?, PROMOTION_ID=? where ORDER_ITEM_DISCOUNT_INFO_ID=?
17:27:51.864 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.864 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: update ORDER_PAYMENT_INFO set CREATED_BY=?, CREATED_TIME=?, UPDATED_BY=?, UPDATED_TIME=?, IS_DELETED=?, ORDER_ID=?, PAYMENT_METHOD_ID=?, PAYMENT_METHOD_TYPE=? where ORDER_PAYMENT_INFO_ID=?
17:27:51.865 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.865 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.865 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.865 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.865 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.865 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.866 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.866 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.866 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.866 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.866 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.866 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.866 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.866 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.866 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.866 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.866 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.866 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.866 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.866 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.866 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.866 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.866 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.866 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.866 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.866 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.866 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.866 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.866 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.867 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.867 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.867 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.867 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.867 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.867 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.867 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.867 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_ID as ORDER1_4_0_, this_.CREATED_BY as CREATED2_4_0_, this_.CREATED_TIME as CREATED3_4_0_, this_.UPDATED_BY as UPDATED4_4_0_, this_.UPDATED_TIME as UPDATED5_4_0_, this_.IS_DELETED as IS6_4_0_, this_.FEDERATED_ID as FEDERATED7_4_0_, this_.HONOR_UNTIL_TIME as HONOR8_4_0_, this_.HONORED_TIME as HONORED9_4_0_, this_.IS_TAX_EXEMPTED as IS10_4_0_, this_.ORDER_ID as ORDER11_4_0_, this_.ORDER_ITEM_TYPE as ORDER12_4_0_, this_.PRODUCT_ITEM_ID as PRODUCT13_4_0_, this_.PROPERTIES as PROPERTIES4_0_, this_.QUANTITY as QUANTITY4_0_, this_.SHIPPING_ADDRESS_ID as SHIPPING16_4_0_, this_.SHIPPING_METHOD_ID as SHIPPING17_4_0_, this_.TOTAL_AMOUNT as TOTAL18_4_0_, this_.TOTAL_DISCOUNT as TOTAL19_4_0_, this_.TOTAL_PREORDER_AMOUNT as TOTAL20_4_0_, this_.TOTAL_PREORDER_TAX as TOTAL21_4_0_, this_.TOTAL_TAX as TOTAL22_4_0_, this_.UNIT_PRICE as UNIT23_4_0_ from ORDER_ITEM this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.868 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.868 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.868 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.868 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.869 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.869 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.869 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.869 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.869 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.869 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.869 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.869 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.869 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.869 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.869 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.869 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.871 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.871 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.871 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.871 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.871 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.871 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.871 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.871 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.871 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.872 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.872 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.872 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.872 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.872 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.872 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.872 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.872 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.872 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.872 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.872 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.872 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_ITEM_DISCOUNT_INFO_ID as ORDER1_1_0_, this_.CREATED_BY as CREATED2_1_0_, this_.CREATED_TIME as CREATED3_1_0_, this_.UPDATED_BY as UPDATED4_1_0_, this_.UPDATED_TIME as UPDATED5_1_0_, this_.IS_DELETED as IS6_1_0_, this_.COUPON as COUPON1_0_, this_.DISCOUNT_AMOUNT as DISCOUNT8_1_0_, this_.DISCOUNT_RATE as DISCOUNT9_1_0_, this_.DISCOUNT_TYPE as DISCOUNT10_1_0_, this_.ORDER_ID as ORDER11_1_0_, this_.ORDER_ITEM_ID as ORDER12_1_0_, this_.PROMOTION_ID as PROMOTION13_1_0_ from ORDER_DISCOUNT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.873 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.874 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.874 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.874 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.874 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.874 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.874 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.874 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.874 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.874 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.874 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.874 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.874 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.874 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.874 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.874 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.877 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.877 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.877 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001452C10D37A00000057]
17:27:51.877 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.877 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.877 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001452C10D37A00000057
17:27:51.877 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
17:27:51.877 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.877 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.877 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.877 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the inaccessible pool
17:27:51.877 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.877 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.877 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.877 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.877 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the accessible pool
17:27:51.877 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@74626b21 was in state NOT_ACCESSIBLE, no need to test it
17:27:51.877 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.877 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/order_ds1 with 3 connection(s) (2 still available)
17:27:51.877 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 into a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.877 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/order_ds1 XAResource=org.postgresql.xa.PGXAConnection@74626b21 (started) with XID a Bitronix XID [737072696E672D62746D000001452C10D37A00000057 : 737072696E672D62746D000001452C10D38C00000058]
Hibernate: select this_.ORDER_PAYMENT_INFO_ID as ORDER1_10_0_, this_.CREATED_BY as CREATED2_10_0_, this_.CREATED_TIME as CREATED3_10_0_, this_.UPDATED_BY as UPDATED4_10_0_, this_.UPDATED_TIME as UPDATED5_10_0_, this_.IS_DELETED as IS6_10_0_, this_.ORDER_ID as ORDER7_10_0_, this_.PAYMENT_METHOD_ID as PAYMENT8_10_0_, this_.PAYMENT_METHOD_TYPE as PAYMENT9_10_0_ from ORDER_PAYMENT_INFO this_ where this_.ORDER_ID=? and this_.IS_DELETED=?
17:27:51.879 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@19368db4
17:27:51.879 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.879 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.879 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.879 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.879 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.879 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.879 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001452C10D37A00000057], status=ACTIVE, 1 resource(s) enlisted (started Fri Apr 04 17:27:51 CST 2014)
17:27:51.879 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.879 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.879 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
17:27:51.879 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 from the accessible pool
17:27:51.879 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.879 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
17:27:51.879 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21 to the inaccessible pool
17:27:51.879 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/order_ds1 in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@74626b21
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
