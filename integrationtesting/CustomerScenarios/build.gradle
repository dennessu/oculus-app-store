apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'maven'
apply plugin: 'groovy'

sourceCompatibility = '1.7'
[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

// NetBeans will automatically add "run" and "debug" tasks relying on the
// "mainClass" property. You may however define the property prior executing
// tasks by passing a "-PmainClass=<QUALIFIED_CLASS_NAME>" argument.
//
// Note however, that you may define your own "run" and "debug" task if you
// prefer. In this case NetBeans will not add these tasks but you may rely on
// your own implementation.
if (!hasProperty('mainClass')) {
    ext.mainClass = ''
}

repositories {
    // You may define additional repositories, or even remove "mavenCentral()".
    // Read more about repositories here:
    //   http://www.gradle.org/docs/current/userguide/dependency_management.html#sec:repositories
    mavenLocal()
    mavenCentral()
    jcenter()
    maven {
        credentials {
            username "${artifactory_user}"
            password "${artifactory_password}"
        }

        url "${artifactory_contextUrl}/repo"
    }
}

test{
    useTestNG()
    options {
        listeners << 'org.testng.reporters.XMLReporter'
    }
    testLogging {
        events "passed", "skipped", "failed"
    }

    // show standard out and standard error of the test JVM(s) on the console
    testLogging.showStandardStreams = true
}

dependencies {

    // TODO: Add dependencies here ...
    // You can read more about how to add dependency here:
    //   http://www.gradle.org/docs/current/userguide/dependency_management.html#sec:how_to_declare_your_dependencies

    compile 'org.apache.commons:commons-lang3:3.1'
    compile 'com.ning:async-http-client:1.7.24'
    compile 'commons-logging:commons-logging:1.1.3'

    testCompile 'com.ning:async-http-client:1.7.24'
    testCompile 'junit:junit:4.10'
    testCompile 'org.testng:testng:6.0.1'
    testCompile 'org.slf4j:slf4j-api:1.7.5'
    testCompile 'org.slf4j:slf4j-simple:1.7.5'
    testCompile 'com.junbo.identity:identity-clientproxy:0.0.1-SNAPSHOT'
    testCompile 'com.junbo.identity:identity-data:0.0.1-SNAPSHOT'
    testCompile 'com.junbo.identity:identity-rest:0.0.1-SNAPSHOT'
    testCompile 'com.junbo.identity:identity-spec:0.0.1-SNAPSHOT'
}
