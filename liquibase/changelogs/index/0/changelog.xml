<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet id="0.1" author='minhao' context="PREDEPLOY">
        <sql><![CDATA[
		
			create table group_groupname
			(
			  key character varying(255) NOT NULL,
			  value bigint NOT NULL,
			  created_by character varying(255) NOT NULL,
			  created_time time without time zone NOT NULL,
			  modified_by character varying(255) NOT NULL,
			  modified_time time without time zone NOT NULL,
			  deleted boolean NOT NULL
			);
			
			create index idx_group_groupname on group_groupname(key, value);
					
			create table authenticator_authenticatorname
			(
			  key character varying(255) NOT NULL,
			  value bigint NOT NULL,
			  created_by character varying(255) NOT NULL,
			  created_time time without time zone NOT NULL,
			  modified_by character varying(255) NOT NULL,
			  modified_time time without time zone NOT NULL,
			  deleted boolean NOT NULL
			);
			
			create index idx_authenticator_authenticatorname on authenticator_authenticatorname(key, value);
					
			create table user_email_reverse_index (
				value varchar(255) not null,
				user_email_id bigint not null,
				active boolean not null,
				
				primary key (value, user_email_id)
			);
			
			create table user_username
			(
			  key character varying(255) NOT NULL,
			  value bigint NOT NULL,
			  created_by character varying(255) NOT NULL,
			  created_time time without time zone NOT NULL,
			  modified_by character varying(255) NOT NULL,
			  modified_time time without time zone NOT NULL,
			  deleted boolean NOT NULL
			);
			
			create index idx_user_username on user_username(key, value);
        ]]></sql>
    </changeSet>

</databaseChangeLog>