<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta httpEquiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Test results - Class com.junbo.payment.db.PaymentDaoTest</title>
<link href="css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="css/style.css" rel="stylesheet" type="text/css"/>
<script src="js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class com.junbo.payment.db.PaymentDaoTest</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/com.junbo.payment.db.html">com.junbo.payment.db</a> &gt; PaymentDaoTest</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">5</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">0.421s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">testCreate</td>
<td>0.088s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testCreatePayment</td>
<td>0.069s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testGet</td>
<td>0.037s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testGetByUser</td>
<td>0.116s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testGetPayment</td>
<td>0.111s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>16:01:08.215 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@415ed5d3
16:01:08.215 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
16:01:08.216 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962528681
16:01:08.216 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@7f38c3fe
16:01:08.221 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868180, using strategy: org.hibernate.id.Assigned
16:01:08.241 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868241, using strategy: org.hibernate.id.Assigned
16:01:08.252 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868252, using strategy: org.hibernate.id.Assigned
16:01:08.377 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@4f1ab87e
16:01:08.378 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
16:01:08.378 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962528683
16:01:08.378 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@5c662b92
16:01:08.378 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868377, using strategy: org.hibernate.id.Assigned
16:01:08.389 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868389, using strategy: org.hibernate.id.Assigned
16:01:08.401 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868400, using strategy: org.hibernate.id.Assigned
16:01:08.412 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementRegisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D000001451727FF0D00000003
16:01:08.423 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868412, using strategy: org.hibernate.id.Assigned
16:01:08.435 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868434, using strategy: org.hibernate.id.Assigned
16:01:08.494 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@256b4372
16:01:08.494 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
16:01:08.494 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962528684
16:01:08.494 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@3f85f07f
16:01:08.494 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868494, using strategy: org.hibernate.id.Assigned
16:01:08.506 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868506, using strategy: org.hibernate.id.Assigned
16:01:08.517 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868517, using strategy: org.hibernate.id.Assigned
16:01:08.575 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@5bdf92d5
16:01:08.575 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
16:01:08.575 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962528685
16:01:08.575 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@4a4c545b
16:01:08.575 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868575, using strategy: org.hibernate.id.Assigned
16:01:08.587 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868587, using strategy: org.hibernate.id.Assigned
16:01:08.598 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868598, using strategy: org.hibernate.id.Assigned
16:01:08.610 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868609, using strategy: org.hibernate.id.Assigned
16:01:08.623 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
16:01:08.623 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
16:01:08.624 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 4 insertions, 0 updates, 0 deletions to 4 objects
16:01:08.624 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
16:01:08.624 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
16:01:08.624 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.paymentinstrument.PhoneEntity{id=1396252868575, phoneExtension=null, createdBy=null, areaCode=null, createdTime=Mon Mar 31 16:01:08 CST 2014, number=12345, type=0, updatedTime=Mon Mar 31 16:01:08 CST 2014, updatedBy=null}
16:01:08.624 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.paymentinstrument.PaymentInstrumentEntity{relationToHolder=null, status=0, createdTime=Mon Mar 31 16:01:08 CST 2014, type=0, accountNum=null, addressId=1396252868587, updatedBy=ut, lastValidatedTime=null, id=1396252868598, accountName=David, createdBy=null, email=null, isDefault=null, userId=1396252868565, phoneId=1396252868575, encryptedAccountNO=null, updatedTime=Mon Mar 31 16:01:08 CST 2014}
16:01:08.625 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.paymentinstrument.PaymentInstrumentEntity{relationToHolder=null, status=0, createdTime=Mon Mar 31 16:01:08 CST 2014, type=0, accountNum=null, addressId=1396252868587, updatedBy=ut, lastValidatedTime=null, id=1396252868609, accountName=David, createdBy=null, email=null, isDefault=null, userId=1396252868565, phoneId=1396252868575, encryptedAccountNO=null, updatedTime=Mon Mar 31 16:01:08 CST 2014}
16:01:08.625 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.paymentinstrument.AddressEntity{createdTime=Mon Mar 31 16:01:08 CST 2014, state=null, addressLine3=null, addressLine2=null, addressLine1=3rd street, updatedBy=null, city=null, country=US, id=1396252868587, postalCode=12345, createdBy=null, unitNumber=null, district=null, updatedTime=Mon Mar 31 16:01:08 CST 2014}
16:01:08.625 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: payment_instrument
16:01:08.625 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
16:01:08.625 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (3 still available)
16:01:08.625 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/payment with 3 connection(s) (3 still available)
16:01:08.625 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001451727FFC900000007]
16:01:08.625 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
16:01:08.625 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/payment with 3 connection(s) (3 still available), waiting if necessary
16:01:08.625 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 - closing time: 1396252928359, now time: 1396252868625
16:01:08.625 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
16:01:08.626 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.626 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.626 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.626 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.626 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 to the accessible pool
16:01:08.626 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@5d4d1093 was in state IN_POOL, testing it
16:01:08.626 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093, skipping test
16:01:08.626 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.626 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
16:01:08.626 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
16:01:08.626 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.626 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@5d4d1093 does not belong to any resource of a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
16:01:08.626 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@5d4d1093 belongs to a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
16:01:08.626 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D000001451727FFC900000007 : 737072696E672D62746D000001451728001200000008]
16:01:08.626 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning &lt;a Bitronix XID [737072696E672D62746D000001451727FFC900000007 : 737072696E672D62746D000001451728001200000008]&gt; to &lt;an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@5d4d1093 with XID null&gt;
16:01:08.626 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@5d4d1093 with XID a Bitronix XID [737072696E672D62746D000001451727FFC900000007 : 737072696E672D62746D000001451728001200000008] with NOFLAGS
16:01:08.626 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@5d4d1093 (started) with XID a Bitronix XID [737072696E672D62746D000001451727FFC900000007 : 737072696E672D62746D000001451728001200000008] with NOFLAGS
16:01:08.626 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@5d4d1093 (started) with XID a Bitronix XID [737072696E672D62746D000001451727FFC900000007 : 737072696E672D62746D000001451728001200000008]] on a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.626 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D000001451727FFC900000007] previously unknown to a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093, adding it to the resource's transactions list
16:01:08.627 [Test worker] DEBUG org.hibernate.SQL - insert into phone (created_by, created_time, updated_by, updated_time, phone_area_code, phone_local_number, phone_extension, phone_type_id, phone_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into phone (created_by, created_time, updated_by, updated_time, phone_area_code, phone_local_number, phone_extension, phone_type_id, phone_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
16:01:08.627 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
16:01:08.629 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
16:01:08.629 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.629 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@5d4d1093 (started) with XID a Bitronix XID [737072696E672D62746D000001451727FFC900000007 : 737072696E672D62746D000001451728001200000008]
16:01:08.629 [Test worker] DEBUG org.hibernate.SQL - insert into address (created_by, created_time, updated_by, updated_time, address_line_1, address_line_2, address_line_3, city, country_code, district, postal_code, state, unit_number, address_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into address (created_by, created_time, updated_by, updated_time, address_line_1, address_line_2, address_line_3, city, country_code, district, postal_code, state, unit_number, address_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
16:01:08.630 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
16:01:08.631 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
16:01:08.631 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.631 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@5d4d1093 (started) with XID a Bitronix XID [737072696E672D62746D000001451727FFC900000007 : 737072696E672D62746D000001451728001200000008]
16:01:08.632 [Test worker] DEBUG org.hibernate.SQL - insert into payment_instrument (created_by, created_time, updated_by, updated_time, payment_instrument_holder_name, account_number, address_id, email, encrypted_account_number, is_default, last_validated_time, phone_id, relation_to_holder, status_id, payment_instrument_type_id, user_id, payment_instrument_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into payment_instrument (created_by, created_time, updated_by, updated_time, payment_instrument_holder_name, account_number, address_id, email, encrypted_account_number, is_default, last_validated_time, phone_id, relation_to_holder, status_id, payment_instrument_type_id, user_id, payment_instrument_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
16:01:08.632 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
16:01:08.632 [Test worker] DEBUG org.hibernate.SQL - insert into payment_instrument (created_by, created_time, updated_by, updated_time, payment_instrument_holder_name, account_number, address_id, email, encrypted_account_number, is_default, last_validated_time, phone_id, relation_to_holder, status_id, payment_instrument_type_id, user_id, payment_instrument_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into payment_instrument (created_by, created_time, updated_by, updated_time, payment_instrument_holder_name, account_number, address_id, email, encrypted_account_number, is_default, last_validated_time, phone_id, relation_to_holder, status_id, payment_instrument_type_id, user_id, payment_instrument_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
16:01:08.633 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 2
16:01:08.635 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
16:01:08.636 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
16:01:08.636 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@50ea271
16:01:08.636 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.636 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.636 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
16:01:08.636 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from the accessible pool
16:01:08.636 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.636 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.636 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 to the inaccessible pool
16:01:08.636 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.636 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
16:01:08.636 [Test worker] DEBUG o.h.e.j.i.p.ConnectionProxyHandler - HHH000163: Logical connection releasing its physical connection
16:01:08.641 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
16:01:08.641 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
16:01:08.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
16:01:08.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001451727FFC900000007]
16:01:08.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.642 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001451727FFC900000007
16:01:08.642 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
16:01:08.642 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
16:01:08.642 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.642 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.642 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from the inaccessible pool
16:01:08.642 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.642 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.642 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.642 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.642 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 to the accessible pool
16:01:08.642 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@5d4d1093 was in state NOT_ACCESSIBLE, no need to test it
16:01:08.642 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.643 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
16:01:08.643 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
16:01:08.643 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.643 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@5d4d1093 (started) with XID a Bitronix XID [737072696E672D62746D000001451727FFC900000007 : 737072696E672D62746D000001451728001200000008]
16:01:08.643 [Test worker] DEBUG org.hibernate.SQL - select this_.payment_instrument_id as payment1_12_0_, this_.created_by as created2_12_0_, this_.created_time as created3_12_0_, this_.updated_by as updated4_12_0_, this_.updated_time as updated5_12_0_, this_.payment_instrument_holder_name as payment6_12_0_, this_.account_number as account7_12_0_, this_.address_id as address8_12_0_, this_.email as email12_0_, this_.encrypted_account_number as encrypted10_12_0_, this_.is_default as is11_12_0_, this_.last_validated_time as last12_12_0_, this_.phone_id as phone13_12_0_, this_.relation_to_holder as relation14_12_0_, this_.status_id as status15_12_0_, this_.payment_instrument_type_id as payment16_12_0_, this_.user_id as user17_12_0_ from payment_instrument this_ where this_.user_id=?
Hibernate: select this_.payment_instrument_id as payment1_12_0_, this_.created_by as created2_12_0_, this_.created_time as created3_12_0_, this_.updated_by as updated4_12_0_, this_.updated_time as updated5_12_0_, this_.payment_instrument_holder_name as payment6_12_0_, this_.account_number as account7_12_0_, this_.address_id as address8_12_0_, this_.email as email12_0_, this_.encrypted_account_number as encrypted10_12_0_, this_.is_default as is11_12_0_, this_.last_validated_time as last12_12_0_, this_.phone_id as phone13_12_0_, this_.relation_to_holder as relation14_12_0_, this_.status_id as status15_12_0_, this_.payment_instrument_type_id as payment16_12_0_, this_.user_id as user17_12_0_ from payment_instrument this_ where this_.user_id=?
16:01:08.663 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
16:01:08.663 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementUnregisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D000001451727FF0D00000003
16:01:08.664 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementRegisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D000001451727FFC900000007
16:01:08.666 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.payment.db.entity.paymentinstrument.PaymentInstrumentEntity#1396252868598]
16:01:08.666 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 1
16:01:08.666 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.payment.db.entity.paymentinstrument.PaymentInstrumentEntity#1396252868609]
16:01:08.666 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
16:01:08.666 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@50ea271
16:01:08.667 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.667 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.667 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
16:01:08.667 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from the accessible pool
16:01:08.667 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.667 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.667 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 to the inaccessible pool
16:01:08.667 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
16:01:08.667 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
16:01:08.668 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
16:01:08.670 [Test worker] DEBUG o.h.t.DistinctResultTransformer - Transformed: 2 rows to: 2 distinct results
16:01:08.691 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@4ee069c7
16:01:08.691 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
16:01:08.692 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962528686
16:01:08.692 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@79a6ef68
16:01:08.692 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868691, using strategy: org.hibernate.id.Assigned
16:01:08.703 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868703, using strategy: org.hibernate.id.Assigned
16:01:08.714 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868714, using strategy: org.hibernate.id.Assigned
16:01:08.736 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868726, using strategy: org.hibernate.id.Assigned
16:01:08.748 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868748, using strategy: org.hibernate.id.Assigned
16:01:08.759 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868759, using strategy: org.hibernate.id.Assigned
16:01:08.761 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
16:01:08.761 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
16:01:08.762 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 6 insertions, 0 updates, 0 deletions to 6 objects
16:01:08.762 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
16:01:08.762 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
16:01:08.762 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.payment.PaymentEventEntity{response={&quot;ut&quot;: 123}, id=1396252868748, createdBy=ut, status=0, createdTime=Mon Mar 31 16:01:08 CST 2014, paymentId=1396252868726, request={&quot;ut&quot;: 123}, type=0, updatedTime=Mon Mar 31 16:01:08 CST 2014, netAmount=23, currency=USD, updatedBy=null}
16:01:08.762 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.payment.PaymentEntity{paymentProviderId=0, status=0, createdTime=Mon Mar 31 16:01:08 CST 2014, externalToken=null, countryCode=US, merchantAccountId=null, businessDescriptor=null, type=0, billingRefId=123, updatedBy=null, currency=USD, id=1396252868726, createdBy=ut, userId=1396252868736, paymentInstrumentId=1396252868714, updatedTime=Mon Mar 31 16:01:08 CST 2014, netAmount=23}
16:01:08.763 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.paymentinstrument.PaymentInstrumentEntity{relationToHolder=null, status=0, createdTime=Mon Mar 31 16:01:08 CST 2014, type=0, accountNum=null, addressId=1396252868703, updatedBy=ut, lastValidatedTime=null, id=1396252868714, accountName=David, createdBy=null, email=null, isDefault=null, userId=123, phoneId=1396252868691, encryptedAccountNO=null, updatedTime=Mon Mar 31 16:01:08 CST 2014}
16:01:08.763 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.payment.PaymentEventEntity{response={&quot;ut&quot;: 123}, id=1396252868759, createdBy=ut, status=0, createdTime=Mon Mar 31 16:01:08 CST 2014, paymentId=1396252868726, request={&quot;ut&quot;: 123}, type=0, updatedTime=Mon Mar 31 16:01:08 CST 2014, netAmount=23, currency=USD, updatedBy=null}
16:01:08.763 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.paymentinstrument.PhoneEntity{id=1396252868691, phoneExtension=null, createdBy=null, areaCode=null, createdTime=Mon Mar 31 16:01:08 CST 2014, number=12345, type=0, updatedTime=Mon Mar 31 16:01:08 CST 2014, updatedBy=null}
16:01:08.763 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.paymentinstrument.AddressEntity{createdTime=Mon Mar 31 16:01:08 CST 2014, state=null, addressLine3=null, addressLine2=null, addressLine1=3rd street, updatedBy=null, city=null, country=US, id=1396252868703, postalCode=12345, createdBy=null, unitNumber=null, district=null, updatedTime=Mon Mar 31 16:01:08 CST 2014}
16:01:08.763 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: payment_event
16:01:08.764 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
16:01:08.764 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (3 still available)
16:01:08.764 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/payment with 3 connection(s) (3 still available)
16:01:08.764 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001451728004700000009]
16:01:08.764 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
16:01:08.764 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/payment with 3 connection(s) (3 still available), waiting if necessary
16:01:08.764 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 - closing time: 1396252928477, now time: 1396252868764
16:01:08.764 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 from an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
16:01:08.764 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.764 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.764 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.764 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.764 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 to the accessible pool
16:01:08.764 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@548ae184 was in state IN_POOL, testing it
16:01:08.764 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184, skipping test
16:01:08.764 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.764 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
16:01:08.765 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
16:01:08.765 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.766 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@548ae184 does not belong to any resource of a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
16:01:08.767 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@548ae184 belongs to a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
16:01:08.767 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A]
16:01:08.767 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning &lt;a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A]&gt; to &lt;an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 with XID null&gt;
16:01:08.767 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 with XID a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A] with NOFLAGS
16:01:08.767 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 (started) with XID a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A] with NOFLAGS
16:01:08.767 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 (started) with XID a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A]] on a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.767 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D000001451728004700000009] previously unknown to a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184, adding it to the resource's transactions list
16:01:08.768 [Test worker] DEBUG org.hibernate.SQL - insert into phone (created_by, created_time, updated_by, updated_time, phone_area_code, phone_local_number, phone_extension, phone_type_id, phone_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into phone (created_by, created_time, updated_by, updated_time, phone_area_code, phone_local_number, phone_extension, phone_type_id, phone_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
16:01:08.769 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
16:01:08.771 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
16:01:08.771 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.771 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 (started) with XID a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A]
16:01:08.771 [Test worker] DEBUG org.hibernate.SQL - insert into address (created_by, created_time, updated_by, updated_time, address_line_1, address_line_2, address_line_3, city, country_code, district, postal_code, state, unit_number, address_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into address (created_by, created_time, updated_by, updated_time, address_line_1, address_line_2, address_line_3, city, country_code, district, postal_code, state, unit_number, address_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
16:01:08.773 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
16:01:08.774 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
16:01:08.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 (started) with XID a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A]
16:01:08.774 [Test worker] DEBUG org.hibernate.SQL - insert into payment_instrument (created_by, created_time, updated_by, updated_time, payment_instrument_holder_name, account_number, address_id, email, encrypted_account_number, is_default, last_validated_time, phone_id, relation_to_holder, status_id, payment_instrument_type_id, user_id, payment_instrument_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into payment_instrument (created_by, created_time, updated_by, updated_time, payment_instrument_holder_name, account_number, address_id, email, encrypted_account_number, is_default, last_validated_time, phone_id, relation_to_holder, status_id, payment_instrument_type_id, user_id, payment_instrument_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
16:01:08.774 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
16:01:08.776 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
16:01:08.776 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.776 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 (started) with XID a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A]
16:01:08.777 [Test worker] DEBUG org.hibernate.SQL - insert into payment (created_by, created_time, updated_by, updated_time, billing_ref_id, business_descriptor, country_code, currency_code, external_token, merchant_account_id, net_amount, payment_instrument_id, payment_provider_id, payment_status_id, payment_type_id, user_id, payment_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into payment (created_by, created_time, updated_by, updated_time, billing_ref_id, business_descriptor, country_code, currency_code, external_token, merchant_account_id, net_amount, payment_instrument_id, payment_provider_id, payment_status_id, payment_type_id, user_id, payment_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
16:01:08.778 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
16:01:08.779 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
16:01:08.779 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.779 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 (started) with XID a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A]
16:01:08.779 [Test worker] DEBUG org.hibernate.SQL - insert into payment_event (created_by, created_time, updated_by, updated_time, currency_code, net_amount, payment_id, request, response, event_status_id, payment_event_type_id, payment_event_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into payment_event (created_by, created_time, updated_by, updated_time, currency_code, net_amount, payment_id, request, response, event_status_id, payment_event_type_id, payment_event_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
16:01:08.780 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
16:01:08.780 [Test worker] DEBUG org.hibernate.SQL - insert into payment_event (created_by, created_time, updated_by, updated_time, currency_code, net_amount, payment_id, request, response, event_status_id, payment_event_type_id, payment_event_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into payment_event (created_by, created_time, updated_by, updated_time, currency_code, net_amount, payment_id, request, response, event_status_id, payment_event_type_id, payment_event_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
16:01:08.780 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 2
16:01:08.782 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
16:01:08.782 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
16:01:08.783 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@6f5019f4
16:01:08.783 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 from a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 from a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.783 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.783 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
16:01:08.783 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 from the accessible pool
16:01:08.783 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.783 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.783 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 to the inaccessible pool
16:01:08.783 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.783 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
16:01:08.784 [Test worker] DEBUG o.h.e.j.i.p.ConnectionProxyHandler - HHH000163: Logical connection releasing its physical connection
16:01:08.784 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
16:01:08.784 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
16:01:08.784 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
16:01:08.784 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001451728004700000009]
16:01:08.784 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.784 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.784 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001451728004700000009
16:01:08.784 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
16:01:08.784 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 from an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
16:01:08.784 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.784 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.784 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 from the inaccessible pool
16:01:08.784 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.784 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.784 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.784 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.785 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 to the accessible pool
16:01:08.785 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@548ae184 was in state NOT_ACCESSIBLE, no need to test it
16:01:08.786 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.787 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
16:01:08.787 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
16:01:08.787 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.787 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 (started) with XID a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A]
16:01:08.787 [Test worker] DEBUG org.hibernate.SQL - select this_.payment_event_id as payment1_8_0_, this_.created_by as created2_8_0_, this_.created_time as created3_8_0_, this_.updated_by as updated4_8_0_, this_.updated_time as updated5_8_0_, this_.currency_code as currency6_8_0_, this_.net_amount as net7_8_0_, this_.payment_id as payment8_8_0_, this_.request as request8_0_, this_.response as response8_0_, this_.event_status_id as event11_8_0_, this_.payment_event_type_id as payment12_8_0_ from payment_event this_ where this_.payment_id=?
Hibernate: select this_.payment_event_id as payment1_8_0_, this_.created_by as created2_8_0_, this_.created_time as created3_8_0_, this_.updated_by as updated4_8_0_, this_.updated_time as updated5_8_0_, this_.currency_code as currency6_8_0_, this_.net_amount as net7_8_0_, this_.payment_id as payment8_8_0_, this_.request as request8_0_, this_.response as response8_0_, this_.event_status_id as event11_8_0_, this_.payment_event_type_id as payment12_8_0_ from payment_event this_ where this_.payment_id=?
16:01:08.789 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
16:01:08.789 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.payment.db.entity.payment.PaymentEventEntity#1396252868748]
16:01:08.789 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 1
16:01:08.789 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.payment.db.entity.payment.PaymentEventEntity#1396252868759]
16:01:08.790 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
16:01:08.790 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@6f5019f4
16:01:08.790 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.790 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 from a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.790 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.790 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 from a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.790 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.790 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.790 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
16:01:08.790 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.790 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.790 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
16:01:08.790 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 from the accessible pool
16:01:08.790 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.790 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.790 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 to the inaccessible pool
16:01:08.790 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
16:01:08.790 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
16:01:08.790 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
16:01:08.790 [Test worker] DEBUG o.h.t.DistinctResultTransformer - Transformed: 2 rows to: 2 distinct results
</pre>
</span>
</div>
</div>
<div id="footer">
<p>Generated by 
<a href="http://www.gradle.org">Gradle 1.10</a> at 2014-3-31 16:01:09</p>
</div>
</div>
</body>