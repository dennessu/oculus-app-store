º16:01:08.215 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@415ed5d3
p16:01:08.215 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:01:08.216 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962528681
¶16:01:08.216 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@7f38c3fe
î16:01:08.221 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868180, using strategy: org.hibernate.id.Assigned
î16:01:08.241 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868241, using strategy: org.hibernate.id.Assigned
î16:01:08.252 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868252, using strategy: org.hibernate.id.Assigned
º16:01:08.377 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@4f1ab87e
p16:01:08.378 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:01:08.378 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962528683
¶16:01:08.378 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@5c662b92
î16:01:08.378 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868377, using strategy: org.hibernate.id.Assigned
î16:01:08.389 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868389, using strategy: org.hibernate.id.Assigned
î16:01:08.401 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868400, using strategy: org.hibernate.id.Assigned
÷16:01:08.412 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementRegisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D000001451727FF0D00000003
î16:01:08.423 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868412, using strategy: org.hibernate.id.Assigned
î16:01:08.435 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868434, using strategy: org.hibernate.id.Assigned
º16:01:08.494 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@256b4372
p16:01:08.494 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:01:08.494 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962528684
¶16:01:08.494 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@3f85f07f
î16:01:08.494 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868494, using strategy: org.hibernate.id.Assigned
î16:01:08.506 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868506, using strategy: org.hibernate.id.Assigned
î16:01:08.517 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868517, using strategy: org.hibernate.id.Assigned
º16:01:08.575 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@5bdf92d5
p16:01:08.575 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:01:08.575 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962528685
¶16:01:08.575 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@4a4c545b
î16:01:08.575 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868575, using strategy: org.hibernate.id.Assigned
î16:01:08.587 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868587, using strategy: org.hibernate.id.Assigned
î16:01:08.598 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868598, using strategy: org.hibernate.id.Assigned
î16:01:08.610 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868609, using strategy: org.hibernate.id.Assigned
h16:01:08.623 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:01:08.623 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:01:08.624 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 4 insertions, 0 updates, 0 deletions to 4 objects
ä16:01:08.624 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:01:08.624 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
Ω16:01:08.624 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.paymentinstrument.PhoneEntity{id=1396252868575, phoneExtension=null, createdBy=null, areaCode=null, createdTime=Mon Mar 31 16:01:08 CST 2014, number=12345, type=0, updatedTime=Mon Mar 31 16:01:08 CST 2014, updatedBy=null}
Ì16:01:08.624 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.paymentinstrument.PaymentInstrumentEntity{relationToHolder=null, status=0, createdTime=Mon Mar 31 16:01:08 CST 2014, type=0, accountNum=null, addressId=1396252868587, updatedBy=ut, lastValidatedTime=null, id=1396252868598, accountName=David, createdBy=null, email=null, isDefault=null, userId=1396252868565, phoneId=1396252868575, encryptedAccountNO=null, updatedTime=Mon Mar 31 16:01:08 CST 2014}
Ì16:01:08.625 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.paymentinstrument.PaymentInstrumentEntity{relationToHolder=null, status=0, createdTime=Mon Mar 31 16:01:08 CST 2014, type=0, accountNum=null, addressId=1396252868587, updatedBy=ut, lastValidatedTime=null, id=1396252868609, accountName=David, createdBy=null, email=null, isDefault=null, userId=1396252868565, phoneId=1396252868575, encryptedAccountNO=null, updatedTime=Mon Mar 31 16:01:08 CST 2014}
ô16:01:08.625 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.paymentinstrument.AddressEntity{createdTime=Mon Mar 31 16:01:08 CST 2014, state=null, addressLine3=null, addressLine2=null, addressLine1=3rd street, updatedBy=null, city=null, country=US, id=1396252868587, postalCode=12345, createdBy=null, unitNumber=null, district=null, updatedTime=Mon Mar 31 16:01:08 CST 2014}
}16:01:08.625 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: payment_instrument
]16:01:08.625 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Õ16:01:08.625 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (3 still available)
√16:01:08.625 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/payment with 3 connection(s) (3 still available)
í16:01:08.625 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001451727FFC900000007]
Ä16:01:08.625 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
»16:01:08.625 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/payment with 3 connection(s) (3 still available), waiting if necessary
Æ16:01:08.625 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 - closing time: 1396252928359, now time: 1396252868625
ª16:01:08.625 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
Ì16:01:08.626 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
™16:01:08.626 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
¸16:01:08.626 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
¨16:01:08.626 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
Ò16:01:08.626 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 to the accessible pool
ô16:01:08.626 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@5d4d1093 was in state IN_POOL, testing it
ˇ16:01:08.626 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093, skipping test
Ï16:01:08.626 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
Ã16:01:08.626 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
\16:01:08.626 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Ä16:01:08.626 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
á16:01:08.626 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@5d4d1093 does not belong to any resource of a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
ì16:01:08.626 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@5d4d1093 belongs to a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
…16:01:08.626 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D000001451727FFC900000007 : 737072696E672D62746D000001451728001200000008]
æ16:01:08.626 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D000001451727FFC900000007 : 737072696E672D62746D000001451728001200000008]> to <an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@5d4d1093 with XID null>
æ16:01:08.626 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@5d4d1093 with XID a Bitronix XID [737072696E672D62746D000001451727FFC900000007 : 737072696E672D62746D000001451728001200000008] with NOFLAGS
«16:01:08.626 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@5d4d1093 (started) with XID a Bitronix XID [737072696E672D62746D000001451727FFC900000007 : 737072696E672D62746D000001451728001200000008] with NOFLAGS
‡16:01:08.626 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@5d4d1093 (started) with XID a Bitronix XID [737072696E672D62746D000001451727FFC900000007 : 737072696E672D62746D000001451728001200000008]] on a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
Ã16:01:08.626 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D000001451727FFC900000007] previously unknown to a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093, adding it to the resource's transactions list
Ó16:01:08.627 [Test worker] DEBUG org.hibernate.SQL - insert into phone (created_by, created_time, updated_by, updated_time, phone_area_code, phone_local_number, phone_extension, phone_type_id, phone_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
ƒHibernate: insert into phone (created_by, created_time, updated_by, updated_time, phone_area_code, phone_local_number, phone_extension, phone_type_id, phone_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:01:08.627 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:01:08.629 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
Ä16:01:08.629 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ò16:01:08.629 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@5d4d1093 (started) with XID a Bitronix XID [737072696E672D62746D000001451727FFC900000007 : 737072696E672D62746D000001451728001200000008]
´16:01:08.629 [Test worker] DEBUG org.hibernate.SQL - insert into address (created_by, created_time, updated_by, updated_time, address_line_1, address_line_2, address_line_3, city, country_code, district, postal_code, state, unit_number, address_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
ÅHibernate: insert into address (created_by, created_time, updated_by, updated_time, address_line_1, address_line_2, address_line_3, city, country_code, district, postal_code, state, unit_number, address_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:01:08.630 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:01:08.631 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
Ä16:01:08.631 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ò16:01:08.631 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@5d4d1093 (started) with XID a Bitronix XID [737072696E672D62746D000001451727FFC900000007 : 737072696E672D62746D000001451728001200000008]
ß16:01:08.632 [Test worker] DEBUG org.hibernate.SQL - insert into payment_instrument (created_by, created_time, updated_by, updated_time, payment_instrument_holder_name, account_number, address_id, email, encrypted_account_number, is_default, last_validated_time, phone_id, relation_to_holder, status_id, payment_instrument_type_id, user_id, payment_instrument_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
˝Hibernate: insert into payment_instrument (created_by, created_time, updated_by, updated_time, payment_instrument_holder_name, account_number, address_id, email, encrypted_account_number, is_default, last_validated_time, phone_id, relation_to_holder, status_id, payment_instrument_type_id, user_id, payment_instrument_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:01:08.632 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
ß16:01:08.632 [Test worker] DEBUG org.hibernate.SQL - insert into payment_instrument (created_by, created_time, updated_by, updated_time, payment_instrument_holder_name, account_number, address_id, email, encrypted_account_number, is_default, last_validated_time, phone_id, relation_to_holder, status_id, payment_instrument_type_id, user_id, payment_instrument_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
˝Hibernate: insert into payment_instrument (created_by, created_time, updated_by, updated_time, payment_instrument_holder_name, account_number, address_id, email, encrypted_account_number, is_default, last_validated_time, phone_id, relation_to_holder, status_id, payment_instrument_type_id, user_id, payment_instrument_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:01:08.633 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 2
w16:01:08.635 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
]16:01:08.636 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
÷16:01:08.636 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@50ea271
„16:01:08.636 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
Ä16:01:08.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
á16:01:08.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
Ä16:01:08.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
á16:01:08.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
Ô16:01:08.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
£16:01:08.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Å16:01:08.636 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
¥16:01:08.636 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
l16:01:08.636 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ı16:01:08.636 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from the accessible pool
Ü16:01:08.636 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
∑16:01:08.636 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
˜16:01:08.636 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 to the inaccessible pool
Ê16:01:08.636 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
\16:01:08.636 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
Ü16:01:08.636 [Test worker] DEBUG o.h.e.j.i.p.ConnectionProxyHandler - HHH000163: Logical connection releasing its physical connection
]16:01:08.641 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Õ16:01:08.641 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
√16:01:08.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
í16:01:08.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001451727FFC900000007]
Ñ16:01:08.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
ò16:01:08.641 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
ï16:01:08.642 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001451727FFC900000007
ò16:01:08.642 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
…16:01:08.642 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
Ù16:01:08.642 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
∏16:01:08.642 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
˚16:01:08.642 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from the inaccessible pool
ä16:01:08.642 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
≥16:01:08.642 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
à16:01:08.642 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
®16:01:08.642 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ò16:01:08.642 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 to the accessible pool
®16:01:08.642 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@5d4d1093 was in state NOT_ACCESSIBLE, no need to test it
Ï16:01:08.642 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
Ã16:01:08.643 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
\16:01:08.643 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Ä16:01:08.643 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ò16:01:08.643 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@5d4d1093 (started) with XID a Bitronix XID [737072696E672D62746D000001451727FFC900000007 : 737072696E672D62746D000001451728001200000008]
ó16:01:08.643 [Test worker] DEBUG org.hibernate.SQL - select this_.payment_instrument_id as payment1_12_0_, this_.created_by as created2_12_0_, this_.created_time as created3_12_0_, this_.updated_by as updated4_12_0_, this_.updated_time as updated5_12_0_, this_.payment_instrument_holder_name as payment6_12_0_, this_.account_number as account7_12_0_, this_.address_id as address8_12_0_, this_.email as email12_0_, this_.encrypted_account_number as encrypted10_12_0_, this_.is_default as is11_12_0_, this_.last_validated_time as last12_12_0_, this_.phone_id as phone13_12_0_, this_.relation_to_holder as relation14_12_0_, this_.status_id as status15_12_0_, this_.payment_instrument_type_id as payment16_12_0_, this_.user_id as user17_12_0_ from payment_instrument this_ where this_.user_id=?
ÌHibernate: select this_.payment_instrument_id as payment1_12_0_, this_.created_by as created2_12_0_, this_.created_time as created3_12_0_, this_.updated_by as updated4_12_0_, this_.updated_time as updated5_12_0_, this_.payment_instrument_holder_name as payment6_12_0_, this_.account_number as account7_12_0_, this_.address_id as address8_12_0_, this_.email as email12_0_, this_.encrypted_account_number as encrypted10_12_0_, this_.is_default as is11_12_0_, this_.last_validated_time as last12_12_0_, this_.phone_id as phone13_12_0_, this_.relation_to_holder as relation14_12_0_, this_.status_id as status15_12_0_, this_.payment_instrument_type_id as payment16_12_0_, this_.user_id as user17_12_0_ from payment_instrument this_ where this_.user_id=?
Q16:01:08.663 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ÿ16:01:08.663 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementUnregisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D000001451727FF0D00000003
÷16:01:08.664 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementRegisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D000001451727FFC900000007
™16:01:08.666 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.payment.db.entity.paymentinstrument.PaymentInstrumentEntity#1396252868598]
Q16:01:08.666 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 1
™16:01:08.666 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.payment.db.entity.paymentinstrument.PaymentInstrumentEntity#1396252868609]
]16:01:08.666 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
÷16:01:08.666 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@50ea271
„16:01:08.667 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
Ä16:01:08.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
á16:01:08.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
Ä16:01:08.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
á16:01:08.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
Ô16:01:08.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
£16:01:08.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001451727FFC900000007], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Å16:01:08.667 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
¥16:01:08.667 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
l16:01:08.667 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ı16:01:08.667 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 from the accessible pool
Ü16:01:08.667 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
∑16:01:08.667 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
˜16:01:08.667 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093 to the inaccessible pool
Ê16:01:08.667 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@5d4d1093
\16:01:08.667 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:01:08.668 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
n16:01:08.670 [Test worker] DEBUG o.h.t.DistinctResultTransformer - Transformed: 2 rows to: 2 distinct results
º16:01:08.691 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@4ee069c7
p16:01:08.691 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:01:08.692 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962528686
¶16:01:08.692 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@79a6ef68
î16:01:08.692 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868691, using strategy: org.hibernate.id.Assigned
î16:01:08.703 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868703, using strategy: org.hibernate.id.Assigned
î16:01:08.714 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868714, using strategy: org.hibernate.id.Assigned
î16:01:08.736 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868726, using strategy: org.hibernate.id.Assigned
î16:01:08.748 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868748, using strategy: org.hibernate.id.Assigned
î16:01:08.759 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 1396252868759, using strategy: org.hibernate.id.Assigned
h16:01:08.761 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:01:08.761 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:01:08.762 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 6 insertions, 0 updates, 0 deletions to 6 objects
ä16:01:08.762 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:01:08.762 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
16:01:08.762 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.payment.PaymentEventEntity{response={"ut": 123}, id=1396252868748, createdBy=ut, status=0, createdTime=Mon Mar 31 16:01:08 CST 2014, paymentId=1396252868726, request={"ut": 123}, type=0, updatedTime=Mon Mar 31 16:01:08 CST 2014, netAmount=23, currency=USD, updatedBy=null}
‹16:01:08.762 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.payment.PaymentEntity{paymentProviderId=0, status=0, createdTime=Mon Mar 31 16:01:08 CST 2014, externalToken=null, countryCode=US, merchantAccountId=null, businessDescriptor=null, type=0, billingRefId=123, updatedBy=null, currency=USD, id=1396252868726, createdBy=ut, userId=1396252868736, paymentInstrumentId=1396252868714, updatedTime=Mon Mar 31 16:01:08 CST 2014, netAmount=23}
„16:01:08.763 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.paymentinstrument.PaymentInstrumentEntity{relationToHolder=null, status=0, createdTime=Mon Mar 31 16:01:08 CST 2014, type=0, accountNum=null, addressId=1396252868703, updatedBy=ut, lastValidatedTime=null, id=1396252868714, accountName=David, createdBy=null, email=null, isDefault=null, userId=123, phoneId=1396252868691, encryptedAccountNO=null, updatedTime=Mon Mar 31 16:01:08 CST 2014}
16:01:08.763 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.payment.PaymentEventEntity{response={"ut": 123}, id=1396252868759, createdBy=ut, status=0, createdTime=Mon Mar 31 16:01:08 CST 2014, paymentId=1396252868726, request={"ut": 123}, type=0, updatedTime=Mon Mar 31 16:01:08 CST 2014, netAmount=23, currency=USD, updatedBy=null}
Ω16:01:08.763 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.paymentinstrument.PhoneEntity{id=1396252868691, phoneExtension=null, createdBy=null, areaCode=null, createdTime=Mon Mar 31 16:01:08 CST 2014, number=12345, type=0, updatedTime=Mon Mar 31 16:01:08 CST 2014, updatedBy=null}
ô16:01:08.763 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.payment.db.entity.paymentinstrument.AddressEntity{createdTime=Mon Mar 31 16:01:08 CST 2014, state=null, addressLine3=null, addressLine2=null, addressLine1=3rd street, updatedBy=null, city=null, country=US, id=1396252868703, postalCode=12345, createdBy=null, unitNumber=null, district=null, updatedTime=Mon Mar 31 16:01:08 CST 2014}
x16:01:08.763 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: payment_event
]16:01:08.764 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Õ16:01:08.764 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (3 still available)
√16:01:08.764 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/payment with 3 connection(s) (3 still available)
í16:01:08.764 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001451728004700000009]
Ä16:01:08.764 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
»16:01:08.764 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/payment with 3 connection(s) (3 still available), waiting if necessary
Æ16:01:08.764 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 - closing time: 1396252928477, now time: 1396252868764
ª16:01:08.764 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 from an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
Ì16:01:08.764 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
™16:01:08.764 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
¸16:01:08.764 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
¨16:01:08.764 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
Ò16:01:08.764 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 to the accessible pool
ô16:01:08.764 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@548ae184 was in state IN_POOL, testing it
ˇ16:01:08.764 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184, skipping test
Ï16:01:08.764 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
Ã16:01:08.764 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
\16:01:08.765 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Ä16:01:08.765 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
á16:01:08.766 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@548ae184 does not belong to any resource of a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
ì16:01:08.767 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@548ae184 belongs to a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
…16:01:08.767 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A]
æ16:01:08.767 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A]> to <an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 with XID null>
æ16:01:08.767 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 with XID a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A] with NOFLAGS
«16:01:08.767 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 (started) with XID a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A] with NOFLAGS
‡16:01:08.767 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 (started) with XID a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A]] on a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
Ã16:01:08.767 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D000001451728004700000009] previously unknown to a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184, adding it to the resource's transactions list
Ó16:01:08.768 [Test worker] DEBUG org.hibernate.SQL - insert into phone (created_by, created_time, updated_by, updated_time, phone_area_code, phone_local_number, phone_extension, phone_type_id, phone_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
ƒHibernate: insert into phone (created_by, created_time, updated_by, updated_time, phone_area_code, phone_local_number, phone_extension, phone_type_id, phone_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:01:08.769 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:01:08.771 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
Ä16:01:08.771 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ò16:01:08.771 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 (started) with XID a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A]
´16:01:08.771 [Test worker] DEBUG org.hibernate.SQL - insert into address (created_by, created_time, updated_by, updated_time, address_line_1, address_line_2, address_line_3, city, country_code, district, postal_code, state, unit_number, address_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
ÅHibernate: insert into address (created_by, created_time, updated_by, updated_time, address_line_1, address_line_2, address_line_3, city, country_code, district, postal_code, state, unit_number, address_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:01:08.773 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:01:08.774 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
Ä16:01:08.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ò16:01:08.774 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 (started) with XID a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A]
ß16:01:08.774 [Test worker] DEBUG org.hibernate.SQL - insert into payment_instrument (created_by, created_time, updated_by, updated_time, payment_instrument_holder_name, account_number, address_id, email, encrypted_account_number, is_default, last_validated_time, phone_id, relation_to_holder, status_id, payment_instrument_type_id, user_id, payment_instrument_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
˝Hibernate: insert into payment_instrument (created_by, created_time, updated_by, updated_time, payment_instrument_holder_name, account_number, address_id, email, encrypted_account_number, is_default, last_validated_time, phone_id, relation_to_holder, status_id, payment_instrument_type_id, user_id, payment_instrument_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:01:08.774 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:01:08.776 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
Ä16:01:08.776 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ò16:01:08.776 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 (started) with XID a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A]
ë16:01:08.777 [Test worker] DEBUG org.hibernate.SQL - insert into payment (created_by, created_time, updated_by, updated_time, billing_ref_id, business_descriptor, country_code, currency_code, external_token, merchant_account_id, net_amount, payment_instrument_id, payment_provider_id, payment_status_id, payment_type_id, user_id, payment_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
ÁHibernate: insert into payment (created_by, created_time, updated_by, updated_time, billing_ref_id, business_descriptor, country_code, currency_code, external_token, merchant_account_id, net_amount, payment_instrument_id, payment_provider_id, payment_status_id, payment_type_id, user_id, payment_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:01:08.778 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:01:08.779 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
Ä16:01:08.779 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ò16:01:08.779 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 (started) with XID a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A]
§16:01:08.779 [Test worker] DEBUG org.hibernate.SQL - insert into payment_event (created_by, created_time, updated_by, updated_time, currency_code, net_amount, payment_id, request, response, event_status_id, payment_event_type_id, payment_event_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
˙Hibernate: insert into payment_event (created_by, created_time, updated_by, updated_time, currency_code, net_amount, payment_id, request, response, event_status_id, payment_event_type_id, payment_event_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:01:08.780 [Test worker] DEBUG o.h.e.j.b.internal.AbstractBatchImpl - Reusing batch statement
§16:01:08.780 [Test worker] DEBUG org.hibernate.SQL - insert into payment_event (created_by, created_time, updated_by, updated_time, currency_code, net_amount, payment_id, request, response, event_status_id, payment_event_type_id, payment_event_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
˙Hibernate: insert into payment_event (created_by, created_time, updated_by, updated_time, currency_code, net_amount, payment_id, request, response, event_status_id, payment_event_type_id, payment_event_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`16:01:08.780 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 2
w16:01:08.782 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
]16:01:08.782 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
◊16:01:08.783 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@6f5019f4
„16:01:08.783 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
Ä16:01:08.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 from a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
á16:01:08.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
Ä16:01:08.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 from a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
á16:01:08.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
Ô16:01:08.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
£16:01:08.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Å16:01:08.783 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
¥16:01:08.783 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
l16:01:08.783 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ı16:01:08.783 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 from the accessible pool
Ü16:01:08.783 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
∑16:01:08.783 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
˜16:01:08.783 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 to the inaccessible pool
Ê16:01:08.783 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
\16:01:08.783 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
Ü16:01:08.784 [Test worker] DEBUG o.h.e.j.i.p.ConnectionProxyHandler - HHH000163: Logical connection releasing its physical connection
]16:01:08.784 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Õ16:01:08.784 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
√16:01:08.784 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
í16:01:08.784 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D000001451728004700000009]
Ñ16:01:08.784 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
ò16:01:08.784 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
ï16:01:08.784 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D000001451728004700000009
ò16:01:08.784 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
…16:01:08.784 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 from an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
Ù16:01:08.784 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
∏16:01:08.784 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
˚16:01:08.784 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 from the inaccessible pool
ä16:01:08.784 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
≥16:01:08.784 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
à16:01:08.784 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
®16:01:08.784 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ò16:01:08.785 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 to the accessible pool
®16:01:08.785 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@548ae184 was in state NOT_ACCESSIBLE, no need to test it
Ï16:01:08.786 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
Ã16:01:08.787 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/payment with 3 connection(s) (2 still available)
\16:01:08.787 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Ä16:01:08.787 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 into a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ò16:01:08.787 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/payment XAResource=org.postgresql.xa.PGXAConnection@548ae184 (started) with XID a Bitronix XID [737072696E672D62746D000001451728004700000009 : 737072696E672D62746D000001451728009F0000000A]
£16:01:08.787 [Test worker] DEBUG org.hibernate.SQL - select this_.payment_event_id as payment1_8_0_, this_.created_by as created2_8_0_, this_.created_time as created3_8_0_, this_.updated_by as updated4_8_0_, this_.updated_time as updated5_8_0_, this_.currency_code as currency6_8_0_, this_.net_amount as net7_8_0_, this_.payment_id as payment8_8_0_, this_.request as request8_0_, this_.response as response8_0_, this_.event_status_id as event11_8_0_, this_.payment_event_type_id as payment12_8_0_ from payment_event this_ where this_.payment_id=?
˘Hibernate: select this_.payment_event_id as payment1_8_0_, this_.created_by as created2_8_0_, this_.created_time as created3_8_0_, this_.updated_by as updated4_8_0_, this_.updated_time as updated5_8_0_, this_.currency_code as currency6_8_0_, this_.net_amount as net7_8_0_, this_.payment_id as payment8_8_0_, this_.request as request8_0_, this_.response as response8_0_, this_.event_status_id as event11_8_0_, this_.payment_event_type_id as payment12_8_0_ from payment_event this_ where this_.payment_id=?
Q16:01:08.789 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
õ16:01:08.789 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.payment.db.entity.payment.PaymentEventEntity#1396252868748]
Q16:01:08.789 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 1
õ16:01:08.789 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.payment.db.entity.payment.PaymentEventEntity#1396252868759]
]16:01:08.790 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
◊16:01:08.790 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184 on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@6f5019f4
„16:01:08.790 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@548ae184
Ä16:01:08.790 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 from a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
á16:01:08.790 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
Ä16:01:08.790 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 from a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
á16:01:08.790 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
Ô16:01:08.790 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
£16:01:08.790 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D000001451728004700000009], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Å16:01:08.790 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
¥16:01:08.790 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
l16:01:08.790 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ı16:01:08.790 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 from the accessible pool
Ü16:01:08.790 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
∑16:01:08.790 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
˜16:01:08.790 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184 to the inaccessible pool
Ê16:01:08.790 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/payment in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@548ae184
\16:01:08.790 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:01:08.790 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
n16:01:08.790 [Test worker] DEBUG o.h.t.DistinctResultTransformer - Transformed: 2 rows to: 2 distinct results
ª16:01:08.833 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
â16:01:08.837 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
–16:01:08.838 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Suspending current transaction, creating new transaction with name [com.junbo.sharding.id.oculus.OculusGlobalCounterInDBImpl.getAndIncrease]
˘16:01:08.838 [Test worker] DEBUG b.tm.BitronixTransactionManager - suspending transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800DA0000000B], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
∆16:01:08.838 [Test worker] DEBUG b.tm.BitronixTransactionManager - clearing current thread context: a ThreadContext (1432777545) with transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800DA0000000B], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014), default timeout 60s
_16:01:08.838 [Test worker] DEBUG b.tm.BitronixTransactionManager - beginning a new transaction
d16:01:08.838 [Test worker] DEBUG b.tm.BitronixTransactionManager - dumping 1 transaction context(s)
‚16:01:08.838 [Test worker] DEBUG b.tm.BitronixTransactionManager - a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800DA0000000B], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
ñ16:01:08.838 [Test worker] DEBUG bitronix.tm.BitronixTransaction - creating new transaction with GTRID [737072696E672D62746D00000145172800E60000000C]
Æ16:01:08.838 [Test worker] DEBUG bitronix.tm.internal.ThreadContext - assigning <a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=NO_TRANSACTION, 0 resource(s) enlisted (started null)> to <a ThreadContext (1432777545) with transaction null, default timeout 60s>
i16:01:08.838 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to ACTIVE
ö16:01:08.838 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from NO_TRANSACTION to ACTIVE - executing 0 listener(s)
™16:01:08.839 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - scheduling transaction timeout task on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014) for Mon Mar 31 16:02:08 CST 2014
Û16:01:08.840 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - removing task by a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ã16:01:08.840 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - scheduled a TransactionTimeoutTask on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014) scheduled for Mon Mar 31 16:02:08 CST 2014, total task(s) queued: 5
y16:01:08.840 [Test worker] DEBUG b.tm.BitronixTransactionManager - begun new transaction at Mon Mar 31 16:01:08 CST 2014
â16:01:08.844 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
i16:01:08.844 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
º16:01:08.845 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@798b7738
p16:01:08.845 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:01:08.845 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962528688
¶16:01:08.845 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@139d77ed
]16:01:08.864 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:01:08.864 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
ƒ16:01:08.864 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available)
í16:01:08.864 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172800E60000000C]
Ä16:01:08.864 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - no NOT_ACCESSIBLE connection enlisted in this transaction
…16:01:08.864 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - getting IN_POOL connection from an XAPool of resource jdbc/sharding with 3 connection(s) (3 still available), waiting if necessary
Ø16:01:08.864 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - checking if connection can be closed: a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce - closing time: 1396252925159, now time: 1396252868864
Ω16:01:08.864 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found IN_POOL connection a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
Ó16:01:08.864 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
´16:01:08.864 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
˝16:01:08.864 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
≠16:01:08.864 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from IN_POOL to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Ú16:01:08.864 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce to the accessible pool
ô16:01:08.864 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@17fa56ce was in state IN_POOL, testing it
Ä16:01:08.864 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - no query to test connection of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce, skipping test
Ì16:01:08.864 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Õ16:01:08.864 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:01:08.864 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:01:08.865 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
ï16:01:08.865 [Test worker] DEBUG b.tm.resource.ResourceRegistrar - XAResource org.postgresql.xa.PGXAConnection@17fa56ce belongs to a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce that itself belongs to a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
…16:01:08.865 [Test worker] DEBUG b.tm.internal.XAResourceManager - creating new branch with a Bitronix XID [737072696E672D62746D00000145172800E60000000C : 737072696E672D62746D00000145172801010000000D]
ø16:01:08.865 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - assigning <a Bitronix XID [737072696E672D62746D00000145172800E60000000C : 737072696E672D62746D00000145172801010000000D]> to <an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@17fa56ce with XID null>
ø16:01:08.865 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - starting an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@17fa56ce with XID a Bitronix XID [737072696E672D62746D00000145172800E60000000C : 737072696E672D62746D00000145172801010000000D] with NOFLAGS
»16:01:08.865 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - started an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@17fa56ce (started) with XID a Bitronix XID [737072696E672D62746D00000145172800E60000000C : 737072696E672D62746D00000145172801010000000D] with NOFLAGS
‚16:01:08.865 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - putting XAResourceHolderState [an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@17fa56ce (started) with XID a Bitronix XID [737072696E672D62746D00000145172800E60000000C : 737072696E672D62746D00000145172801010000000D]] on a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Õ16:01:08.865 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - GTRID [737072696E672D62746D00000145172800E60000000C] previously unknown to a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce, adding it to the resource's transactions list
|16:01:08.865 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:01:08.866 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 1 -> shardId [1]
i16:01:08.866 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:01:08.868 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:01:08.869 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
]16:01:08.870 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:01:08.871 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2ff62a8a
‰16:01:08.871 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Å16:01:08.871 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
à16:01:08.871 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Å16:01:08.871 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
à16:01:08.871 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
16:01:08.871 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
§16:01:08.871 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ç16:01:08.871 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
µ16:01:08.871 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
l16:01:08.871 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:01:08.871 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from the accessible pool
á16:01:08.871 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
∏16:01:08.871 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
¯16:01:08.871 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce to the inaccessible pool
Á16:01:08.872 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
\16:01:08.872 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
Ü16:01:08.872 [Test worker] DEBUG o.h.e.j.i.p.ConnectionProxyHandler - HHH000163: Logical connection releasing its physical connection
ï16:01:08.872 [Test worker] DEBUG o.h.engine.internal.TwoPhaseLoad - Resolving associations for [com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
î16:01:08.872 [Test worker] DEBUG o.h.engine.internal.TwoPhaseLoad - Done materializing entity [com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
h16:01:08.872 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
Õ16:01:08.874 [Test worker] DEBUG o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'IdGlobalCounterDAOImpl.saveOrUpdate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
â16:01:08.875 [Test worker] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'transactionManager'
i16:01:08.875 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Participating in existing transaction
h16:01:08.875 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:01:08.875 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:01:08.876 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
ä16:01:08.876 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:01:08.876 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:01:08.876 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=1, shardId=1, globalCounter=40, optionMode=2}
|16:01:08.877 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: id_global_counter
]16:01:08.880 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:01:08.880 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:01:08.880 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:01:08.880 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172800E60000000C]
Ö16:01:08.880 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
ô16:01:08.880 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
ï16:01:08.880 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172800E60000000C
ò16:01:08.881 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:01:08.881 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:01:08.881 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
π16:01:08.881 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
¸16:01:08.881 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from the inaccessible pool
ã16:01:08.881 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
¥16:01:08.881 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
â16:01:08.881 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
©16:01:08.881 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ú16:01:08.881 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce to the accessible pool
®16:01:08.881 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@17fa56ce was in state NOT_ACCESSIBLE, no need to test it
Ì16:01:08.881 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Õ16:01:08.881 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:01:08.882 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:01:08.882 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ú16:01:08.882 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@17fa56ce (started) with XID a Bitronix XID [737072696E672D62746D00000145172800E60000000C : 737072696E672D62746D00000145172801010000000D]
á16:01:08.882 [Test worker] DEBUG org.hibernate.SQL - update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
]Hibernate: update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
`16:01:08.883 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:01:08.884 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
]16:01:08.884 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:01:08.884 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2ff62a8a
‰16:01:08.884 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Å16:01:08.884 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
à16:01:08.885 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Å16:01:08.885 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
à16:01:08.885 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
16:01:08.885 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
§16:01:08.885 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ç16:01:08.885 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
µ16:01:08.885 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
l16:01:08.885 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:01:08.885 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from the accessible pool
á16:01:08.885 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
∏16:01:08.885 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
¯16:01:08.885 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce to the inaccessible pool
Á16:01:08.885 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
\16:01:08.885 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
]16:01:08.885 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:01:08.885 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:01:08.885 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:01:08.885 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172800E60000000C]
Ö16:01:08.885 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
ô16:01:08.885 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
ï16:01:08.885 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172800E60000000C
ò16:01:08.885 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:01:08.886 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:01:08.886 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
π16:01:08.886 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
¸16:01:08.886 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from the inaccessible pool
ã16:01:08.886 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
¥16:01:08.886 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
â16:01:08.886 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
©16:01:08.886 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ú16:01:08.886 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce to the accessible pool
®16:01:08.886 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@17fa56ce was in state NOT_ACCESSIBLE, no need to test it
Ì16:01:08.886 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Õ16:01:08.886 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:01:08.886 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:01:08.886 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ú16:01:08.886 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@17fa56ce (started) with XID a Bitronix XID [737072696E672D62746D00000145172800E60000000C : 737072696E672D62746D00000145172801010000000D]
|16:01:08.887 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:01:08.887 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 1 -> shardId [1]
i16:01:08.887 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:01:08.888 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:01:08.889 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
]16:01:08.889 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:01:08.889 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2ff62a8a
‰16:01:08.889 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Å16:01:08.889 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
à16:01:08.889 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Å16:01:08.890 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
à16:01:08.890 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
16:01:08.890 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
§16:01:08.890 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ç16:01:08.890 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
µ16:01:08.890 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
l16:01:08.890 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:01:08.890 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from the accessible pool
á16:01:08.890 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
∏16:01:08.890 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
¯16:01:08.890 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce to the inaccessible pool
Á16:01:08.890 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
\16:01:08.890 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:01:08.890 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
h16:01:08.894 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:01:08.894 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:01:08.894 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
ä16:01:08.895 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:01:08.895 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:01:08.895 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=1, shardId=1, globalCounter=40, optionMode=2}
|16:01:08.895 [Test worker] DEBUG org.hibernate.engine.spi.ActionQueue - Changes must be flushed to space: id_global_counter
]16:01:08.895 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:01:08.895 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:01:08.895 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:01:08.896 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172800E60000000C]
Ö16:01:08.896 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
ô16:01:08.896 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
ï16:01:08.896 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172800E60000000C
ò16:01:08.896 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:01:08.896 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:01:08.896 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
π16:01:08.896 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
¸16:01:08.896 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from the inaccessible pool
ã16:01:08.896 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
¥16:01:08.896 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
â16:01:08.896 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
©16:01:08.896 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ú16:01:08.897 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce to the accessible pool
®16:01:08.897 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@17fa56ce was in state NOT_ACCESSIBLE, no need to test it
Ì16:01:08.897 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Õ16:01:08.897 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:01:08.897 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:01:08.897 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ú16:01:08.897 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@17fa56ce (started) with XID a Bitronix XID [737072696E672D62746D00000145172800E60000000C : 737072696E672D62746D00000145172801010000000D]
á16:01:08.897 [Test worker] DEBUG org.hibernate.SQL - update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
]Hibernate: update id_global_counter set global_count=?, option_mode=?, shard_id=? where id=?
`16:01:08.898 [Test worker] DEBUG o.h.e.j.batch.internal.BatchingBatch - Executing batch size: 1
w16:01:08.899 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Skipping aggressive release due to manual disabling
]16:01:08.899 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:01:08.899 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2ff62a8a
‰16:01:08.899 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Å16:01:08.899 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
à16:01:08.899 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Å16:01:08.899 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
à16:01:08.899 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
16:01:08.900 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
§16:01:08.900 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ç16:01:08.900 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
µ16:01:08.900 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
l16:01:08.900 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:01:08.900 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from the accessible pool
á16:01:08.900 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
∏16:01:08.900 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
¯16:01:08.900 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce to the inaccessible pool
Á16:01:08.900 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
\16:01:08.900 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
]16:01:08.900 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:01:08.900 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:01:08.900 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:01:08.900 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172800E60000000C]
Ö16:01:08.900 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
ô16:01:08.900 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
ï16:01:08.900 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172800E60000000C
ò16:01:08.900 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:01:08.900 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:01:08.900 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
π16:01:08.900 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
¸16:01:08.900 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from the inaccessible pool
ã16:01:08.900 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
¥16:01:08.901 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
â16:01:08.901 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
©16:01:08.901 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ú16:01:08.901 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce to the accessible pool
®16:01:08.901 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@17fa56ce was in state NOT_ACCESSIBLE, no need to test it
Ì16:01:08.901 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Õ16:01:08.901 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:01:08.901 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:01:08.901 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ú16:01:08.901 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@17fa56ce (started) with XID a Bitronix XID [737072696E672D62746D00000145172800E60000000C : 737072696E672D62746D00000145172801010000000D]
|16:01:08.902 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:01:08.902 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 1 -> shardId [1]
i16:01:08.902 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:01:08.904 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:01:08.904 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
]16:01:08.904 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:01:08.904 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2ff62a8a
‰16:01:08.904 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Å16:01:08.904 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
à16:01:08.904 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Å16:01:08.904 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
à16:01:08.905 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
16:01:08.905 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
§16:01:08.905 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ç16:01:08.905 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
µ16:01:08.905 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
l16:01:08.905 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:01:08.905 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from the accessible pool
á16:01:08.905 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
∏16:01:08.905 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
¯16:01:08.905 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce to the inaccessible pool
Á16:01:08.905 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
\16:01:08.905 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:01:08.905 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
h16:01:08.906 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:01:08.906 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:01:08.906 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
ä16:01:08.907 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:01:08.907 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:01:08.907 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=1, shardId=1, globalCounter=40, optionMode=2}
]16:01:08.907 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtaining JDBC connection
Œ16:01:08.907 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquiring connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ƒ16:01:08.907 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - trying to recycle a NOT_ACCESSIBLE connection of an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
í16:01:08.907 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - current transaction GTRID is [737072696E672D62746D00000145172800E60000000C]
Ö16:01:08.907 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found a connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
ô16:01:08.907 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - 1 xa resource(s) created by connection in NOT_ACCESSIBLE state: a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
ï16:01:08.907 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource GTRID: 737072696E672D62746D00000145172800E60000000C
ò16:01:08.907 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - NOT_ACCESSIBLE xa resource's GTRID matched this transaction's GTRID, recycling it
À16:01:08.907 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - found NOT_ACCESSIBLE connection a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
ı16:01:08.907 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - getting connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
π16:01:08.907 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
¸16:01:08.907 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from the inaccessible pool
ã16:01:08.907 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
¥16:01:08.907 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
â16:01:08.907 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - marking a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce as recycled in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
©16:01:08.908 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce has been recycled, unregistering deferred release from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ú16:01:08.908 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce to the accessible pool
®16:01:08.908 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - connection org.postgresql.xa.PGXAConnection@17fa56ce was in state NOT_ACCESSIBLE, no need to test it
Ì16:01:08.908 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - got connection handle from a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Õ16:01:08.908 [Test worker] DEBUG b.tm.resource.jdbc.PoolingDataSource - acquired connection from a PoolingDataSource containing an XAPool of resource jdbc/sharding with 3 connection(s) (2 still available)
\16:01:08.908 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Obtained JDBC connection
Å16:01:08.908 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - enlisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce into a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ú16:01:08.909 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - avoiding re-enlistment of already enlisted but not ended resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@17fa56ce (started) with XID a Bitronix XID [737072696E672D62746D00000145172800E60000000C : 737072696E672D62746D00000145172801010000000D]
|16:01:08.909 [Test worker] DEBUG org.hibernate.SQL - select * from id_global_counter where shard_id = ? and option_mode = ?
RHibernate: select * from id_global_counter where shard_id = ? and option_mode = ?
f16:01:08.910 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 1 -> shardId [1]
i16:01:08.910 [Test worker] DEBUG org.hibernate.loader.Loader - bindNamedParameters() 2 -> optionMode [2]
Q16:01:08.911 [Test worker] DEBUG org.hibernate.loader.Loader - Result set row: 0
ä16:01:08.911 [Test worker] DEBUG org.hibernate.loader.Loader - Result row: EntityKey[com.junbo.sharding.id.model.IdGlobalCounterEntity#1]
]16:01:08.912 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
ÿ16:01:08.912 [Test worker] DEBUG b.t.r.jdbc.proxy.ConnectionJavaProxy - closing a ConnectionJavaProxy of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce on Pooled connection wrapping physical connection org.postgresql.jdbc4.Jdbc4Connection@2ff62a8a
‰16:01:08.912 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - releasing to pool a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 1 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Å16:01:08.912 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - delisting a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
à16:01:08.912 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Å16:01:08.912 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - requeuing a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
à16:01:08.912 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - resource is in enlisting global transaction context: a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
16:01:08.912 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - deferring release to pool of a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
§16:01:08.912 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce is not already registered for deferred release in a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Ç16:01:08.912 [Test worker] DEBUG b.t.r.c.TransactionContextHelper - registering DeferredReleaseSynchronization for a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
µ16:01:08.912 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
l16:01:08.912 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
ˆ16:01:08.912 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from the accessible pool
á16:01:08.912 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
∏16:01:08.912 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from ACCESSIBLE to NOT_ACCESSIBLE in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
¯16:01:08.913 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce to the inaccessible pool
Á16:01:08.913 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - released to pool a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
\16:01:08.913 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Released JDBC connection
h16:01:08.913 [Test worker] DEBUG o.h.e.i.StatefulPersistenceContext - Initializing non-lazy collections
a16:01:08.913 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Initiating transaction commit
˘16:01:08.913 [Test worker] DEBUG b.tm.BitronixTransactionManager - committing transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
â16:01:08.913 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - cancelling transaction timeout task on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
Û16:01:08.913 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - removing task by a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
“16:01:08.913 [Test worker] DEBUG bitronix.tm.timer.TaskScheduler - cancelled a TransactionTimeoutTask on a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014) scheduled for Mon Mar 31 16:02:08 CST 2014, total task(s) still queued: 4
v16:01:08.913 [Test worker] DEBUG bitronix.tm.BitronixTransaction - before completion, 4 synchronization(s) to execute
î16:01:08.913 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a DeferredReleaseSynchronization of a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
û16:01:08.913 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a ClearContextSynchronization for a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=ACTIVE, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
∫16:01:08.913 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@798b7738
h16:01:08.913 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
d16:01:08.913 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
Ñ16:01:08.914 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
ä16:01:08.914 [Test worker] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
U16:01:08.914 [Test worker] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
¶16:01:08.914 [Test worker] DEBUG o.h.internal.util.EntityPrinter - com.junbo.sharding.id.model.IdGlobalCounterEntity{id=1, shardId=1, globalCounter=40, optionMode=2}
]16:01:08.914 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Releasing JDBC connection
§16:01:08.914 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@139d77ed
“16:01:08.914 [Test worker] DEBUG bitronix.tm.BitronixTransaction - found unclosed resource to delist: an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@17fa56ce (started) with XID a Bitronix XID [737072696E672D62746D00000145172800E60000000C : 737072696E672D62746D00000145172801010000000D]
¬16:01:08.914 [Test worker] DEBUG b.tm.internal.XAResourceManager - delisting resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@17fa56ce (started) with XID a Bitronix XID [737072696E672D62746D00000145172800E60000000C : 737072696E672D62746D00000145172801010000000D]
«16:01:08.914 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - ending an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@17fa56ce (started) with XID a Bitronix XID [737072696E672D62746D00000145172800E60000000C : 737072696E672D62746D00000145172801010000000D] with SUCCESS
∆16:01:08.914 [Test worker] DEBUG b.tm.internal.XAResourceHolderState - ended an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@17fa56ce (started) with XID a Bitronix XID [737072696E672D62746D00000145172800E60000000C : 737072696E672D62746D00000145172801010000000D] with SUCCESS
f16:01:08.914 [Test worker] DEBUG bitronix.tm.BitronixTransaction - committing, 1 enlisted resource(s)
l16:01:08.914 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to PREPARING
ï16:01:08.914 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from ACTIVE to PREPARING - executing 0 listener(s)
k16:01:08.914 [Test worker] DEBUG bitronix.tm.twopc.Preparer - 1 resource enlisted, no prepare needed (1PC)
k16:01:08.914 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to PREPARED
ó16:01:08.914 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from PREPARING to PREPARED - executing 0 listener(s)
\16:01:08.914 [Test worker] DEBUG bitronix.tm.BitronixTransaction - 1 interested resource(s)
m16:01:08.914 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to COMMITTING
ò16:01:08.914 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from PREPARED to COMMITTING - executing 0 listener(s)
ó16:01:08.915 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - executing phase on 1 resource(s) enlisted in 1 position(s) in reverse position order
d16:01:08.915 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - running 1 job(s) for position '1'
€16:01:08.915 [Test worker] DEBUG bitronix.tm.twopc.Committer - committing resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@17fa56ce (ended) with XID a Bitronix XID [737072696E672D62746D00000145172800E60000000C : 737072696E672D62746D00000145172801010000000D] (with one-phase optimization)
ÿ16:01:08.915 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementUnregisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D000001451727FFC900000007
÷16:01:08.915 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementRegisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D00000145172800DA0000000B
÷16:01:08.915 [bitronix-async-jmx-worker] DEBUG b.tm.utils.ManagementRegistrar - Calling ManagementRegisterCommand on object with name bitronix.tm:type=Transaction,Gtrid=737072696E672D62746D00000145172800E60000000C
º16:01:08.917 [Test worker] DEBUG bitronix.tm.twopc.Committer - committed resource an XAResourceHolderState with uniqueName=jdbc/sharding XAResource=org.postgresql.xa.PGXAConnection@17fa56ce (ended) with XID a Bitronix XID [737072696E672D62746D00000145172800E60000000C : 737072696E672D62746D00000145172801010000000D]
e16:01:08.918 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - phase executed with 0 exception(s)
`16:01:08.918 [Test worker] DEBUG b.tm.twopc.AbstractPhaseEngine - ran 1 job(s) for position '1'
t16:01:08.918 [Test worker] DEBUG bitronix.tm.twopc.Committer - phase 2 commit executed on resources [jdbc/sharding]
u16:01:08.918 [Test worker] DEBUG bitronix.tm.twopc.Committer - phase 2 commit succeeded on resources [jdbc/sharding]
l16:01:08.918 [Test worker] DEBUG bitronix.tm.BitronixTransaction - changing transaction status to COMMITTED
ô16:01:08.918 [Test worker] DEBUG bitronix.tm.BitronixTransaction - transaction status is changing from COMMITTING to COMMITTED - executing 0 listener(s)
¸16:01:08.918 [Test worker] DEBUG bitronix.tm.BitronixTransaction - successfully committed a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=COMMITTED, 1 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
u16:01:08.918 [Test worker] DEBUG b.tm.internal.XAResourceManager - clearing XAResourceHolder states on 1 resource(s)
Ô16:01:08.918 [Test worker] DEBUG b.t.r.c.AbstractXAResourceHolder - removing XAResourceHolderState of xid a Bitronix XID [737072696E672D62746D00000145172800E60000000C : 737072696E672D62746D00000145172801010000000D] from a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
∫16:01:08.918 [Test worker] DEBUG b.tm.internal.XAResourceManager - resource a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce cleaned up all transaction states for GTRID [737072696E672D62746D00000145172800E60000000C]
u16:01:08.918 [Test worker] DEBUG bitronix.tm.BitronixTransaction - after completion, 4 synchronization(s) to execute
–16:01:08.918 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@798b7738 with status=COMMITTED
j16:01:08.919 [Test worker] DEBUG o.h.e.j.i.LogicalConnectionImpl - Aggressively releasing JDBC connection
m16:01:08.919 [Test worker] DEBUG o.h.e.j.internal.JdbcCoordinatorImpl - HHH000420: Closing un-released batch
∫16:01:08.919 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@139d77ed with status=COMMITTED
∑16:01:08.919 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a ClearContextSynchronization for a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=COMMITTED, 0 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014) with status=COMMITTED
“16:01:08.919 [Test worker] DEBUG b.tm.BitronixTransactionManager - clearing transaction from thread context: a ThreadContext (1432777545) with transaction a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=COMMITTED, 0 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014), default timeout 60s
ó16:01:08.919 [Test worker] DEBUG b.tm.BitronixTransactionManager - removing transaction from in-flight transactions: a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800E60000000C], status=COMMITTED, 0 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
™16:01:08.919 [Test worker] DEBUG bitronix.tm.BitronixTransaction - executing synchronization a DeferredReleaseSynchronization of a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce with status=COMMITTED
Ü16:01:08.919 [Test worker] DEBUG b.t.r.c.DeferredReleaseSynchronization - DeferredReleaseSynchronization requeuing a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
∂16:01:08.919 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changing from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
l16:01:08.919 [Test worker] DEBUG b.t.r.jdbc.JdbcPooledConnection - closing 0 dangling uncached statement(s)
¸16:01:08.920 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - removed a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce from the inaccessible pool
à16:01:08.920 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - state changing from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state NOT_ACCESSIBLE with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Æ16:01:08.920 [Test worker] DEBUG b.t.r.c.AbstractXAStatefulHolder - notifying 2 stateChangeEventListener(s) about state changed from NOT_ACCESSIBLE to IN_POOL in a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
Ó16:01:08.920 [Test worker] DEBUG bitronix.tm.resource.common.XAPool - added a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce to the available pool
˛16:01:08.920 [Test worker] DEBUG b.t.r.c.DeferredReleaseSynchronization - DeferredReleaseSynchronization requeued a JdbcPooledConnection from datasource jdbc/sharding in state IN_POOL with usage count 0 wrapping org.postgresql.xa.PGXAConnection@17fa56ce
à16:01:08.920 [Test worker] DEBUG o.s.t.jta.JtaTransactionManager - Resuming suspended transaction after completion of inner transaction
Î16:01:08.920 [Test worker] DEBUG b.tm.BitronixTransactionManager - resuming a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800DA0000000B], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)
æ16:01:08.920 [Test worker] DEBUG bitronix.tm.internal.ThreadContext - assigning <a Bitronix Transaction with GTRID [737072696E672D62746D00000145172800DA0000000B], status=ACTIVE, 0 resource(s) enlisted (started Mon Mar 31 16:01:08 CST 2014)> to <a ThreadContext (1432777545) with transaction null, default timeout 60s>
º16:01:08.921 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@1cc63c88
p16:01:08.921 [Test worker] DEBUG o.h.e.t.i.TransactionCoordinatorImpl - successfully registered Synchronization
o16:01:08.921 [Test worker] DEBUG org.hibernate.internal.SessionImpl - Opened session at timestamp: 13962528689
¶16:01:08.921 [Test worker] DEBUG bitronix.tm.BitronixTransaction - registering synchronization org.hibernate.context.internal.JTASessionContext$CleanupSynch@5a978023
ê16:01:08.922 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 671105088, using strategy: org.hibernate.id.Assigned
ê16:01:08.922 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 671105088, using strategy: org.hibernate.id.Assigned
ê16:01:08.922 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 671105088, using strategy: org.hibernate.id.Assigned
ê16:01:08.923 [Test worker] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 671105088, using strategy: org.hibernate.id.Assigned
