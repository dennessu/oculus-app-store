<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <!--<bean id="data_accessTokenProvider" class="com.junbo.oauth.spec.provider.ClientCredentialsAccessTokenProvider">-->
        <!--<property name="scope" value="api.manage client.register scope.manage identity.admin"/>-->
        <!--<property name="deflectionInSeconds" value="300"/>-->
        <!--<property name="clientSecret" value="secret"/>-->
        <!--<property name="clientId" value="service"/>-->
        <!--<property name="tokenEndpoint" ref="defaultTokenEndpoint"/>-->
    <!--</bean>-->

    <bean id="baseDataHandler" class="com.junbo.data.handler.BaseDataHandler" abstract="true">
        <property name="transcoder" ref="commonTranscoder"/>
        <property name="alwaysOverwrite" value="${data.loader.alwaysOverwrite}"/>
    </bean>

    <bean id="clientDataHandler" class="com.junbo.data.handler.ClientDataHandler" parent="baseDataHandler">
        <property name="clientRepository" ref="clientRepository"/>
    </bean>

    <bean id="apiDefinitionDataHandler" class="com.junbo.data.handler.ApiDefinitionDataHandler"
          parent="baseDataHandler">
        <property name="apiDefinitionResource" ref="defaultApiDefinitionResource"/>
    </bean>

    <bean id="scopeDataHandler" class="com.junbo.data.handler.ScopeDataHandler" parent="baseDataHandler">
        <property name="scopeEndpoint" ref="defaultScopeEndpoint"/>
    </bean>

    <bean id="countryDataHandler" class="com.junbo.data.handler.CountryDataHandler" parent="baseDataHandler">
        <property name="countryResource" ref="defaultCountryResource"/>
    </bean>

    <bean id="currencyDataHandler" class="com.junbo.data.handler.CurrencyDataHandler" parent="baseDataHandler">
        <property name="currencyResource" ref="defaultCurrencyResource"/>
    </bean>

    <bean id="localeDataHandler" class="com.junbo.data.handler.LocaleDataHandler" parent="baseDataHandler">
        <property name="localeResource" ref="defaultLocaleResource"/>
    </bean>

    <bean id="piTypeDataHandler" class="com.junbo.data.handler.PITypeDataHandler" parent="baseDataHandler">
        <property name="piTypeResource" ref="defaultPITypeResource"/>
    </bean>

    <bean id="emailTemplateDataHandler" class="com.junbo.data.handler.EmailTemplateDataHandler"
          parent="baseDataHandler">
        <property name="templateResource" ref="defaultEmailTemplateResource"/>
    </bean>

    <bean id="masterKeyDataHandler" class="com.junbo.data.handler.MasterKeyDataHandler" parent="baseDataHandler">
        <property name="masterKeyResource" ref="defaultMasterKeyResource" />
    </bean>

    <bean id="userDataHandler" class="com.junbo.data.handler.UserDataHandler" parent="baseDataHandler">
        <property name="userPersonalInfoResource" ref="defaultUserPersonalInfoResource"/>
        <property name="userCredentialResource" ref="defaultUserCredentialResource"/>
        <property name="userResource" ref="defaultUserResource"/>
    </bean>

    <bean id="organizationDataHandler" class="com.junbo.data.handler.OrganizationDataHandler" parent="baseDataHandler">
        <property name="organizationResource" ref="defaultOrganizationResource"/>
        <property name="userResource" ref="defaultUserResource"/>
    </bean>

    <bean id="groupDataHandler" class="com.junbo.data.handler.GroupDataHandler" parent="baseDataHandler">
        <property name="organizationResource" ref="defaultOrganizationResource"/>
        <property name="groupResource" ref="defaultGroupResource"/>
    </bean>

    <bean id="userGroupDataHandler" class="com.junbo.data.handler.UserGroupDataHandler" parent="baseDataHandler">
        <property name="userGroupMembershipResource" ref="defaultUserGroupMembershipResource"/>
        <property name="groupResource" ref="defaultGroupResource"/>
        <property name="userResource" ref="defaultUserResource"/>
        <property name="organizationResource" ref="defaultOrganizationResource"/>

    </bean>

    <bean id="catalogDataHandler" class="com.junbo.data.handler.CatalogDataHandler" parent="baseDataHandler">
        <property name="organizationResource" ref="defaultOrganizationResource"/>
        <property name="itemDataHandler" ref="itemDataHandler"/>
        <property name="itemRevisionDataHandler" ref="itemRevisionDataHandler"/>
        <property name="offerDataHandler" ref="offerDataHandler"/>
        <property name="offerRevisionDataHandler" ref="offerRevisionDataHandler"/>
    </bean>

    <bean id="baseCatalogDataHandler" class="com.junbo.data.handler.catalog.BaseCatalogDataHandler" abstract="true">
        <property name="alwaysOverwrite" value="${data.loader.alwaysOverwrite}"/>
    </bean>

    <bean id="itemDataHandler" class="com.junbo.data.handler.catalog.ItemDataHandler" parent="baseCatalogDataHandler">
        <property name="itemResource" ref="defaultItemResource"/>
    </bean>

    <bean id="itemRevisionDataHandler" class="com.junbo.data.handler.catalog.ItemRevisionDataHandler" parent="baseCatalogDataHandler">
        <property name="itemRevisionResource" ref="defaultItemRevisionResource"/>
    </bean>

    <bean id="offerDataHandler" class="com.junbo.data.handler.catalog.OfferDataHandler" parent="baseCatalogDataHandler">
        <property name="offerResource" ref="defaultOfferResource"/>
    </bean>

    <bean id="offerRevisionDataHandler" class="com.junbo.data.handler.catalog.OfferRevisionDataHandler" parent="baseCatalogDataHandler">
        <property name="offerRevisionResource" ref="defaultOfferRevisionResource"/>
    </bean>

    <bean id="dataLoader" class="com.junbo.data.loader.DataLoader">
        <property name="handlers">
            <map>
                <entry key="client" value-ref="clientDataHandler"/>
                <entry key="api-definition" value-ref="apiDefinitionDataHandler"/>
                <entry key="scope" value-ref="scopeDataHandler"/>
                <entry key="country" value-ref="countryDataHandler"/>
                <entry key="currency" value-ref="currencyDataHandler"/>
                <entry key="locale" value-ref="localeDataHandler"/>
                <entry key="pitype" value-ref="piTypeDataHandler"/>
                <entry key="email-template" value-ref="emailTemplateDataHandler"/>
                <entry key="masterkey" value-ref="masterKeyDataHandler" />
                <entry key="user" value-ref="userDataHandler" />
                <entry key="organization" value-ref="organizationDataHandler" />
                <entry key="group" value-ref="groupDataHandler" />
                <entry key="user-group" value-ref="userGroupDataHandler" />
                <entry key="catalog" value-ref="catalogDataHandler" />
            </map>
        </property>
        <property name="dataList">
            <list>
                <value>client</value>
                <value>api-definition</value>
                <value>scope</value>
                <value>locale</value>
                <value>currency</value>
                <value>country</value>
                <value>pitype</value>
                <value>email-template</value>
                <value>masterkey</value>
                <value>user</value>
                <value>organization</value>
                <value>group</value>
                <value>user-group</value>
                <value>catalog</value>
            </list>
        </property>
    </bean>
</beans>