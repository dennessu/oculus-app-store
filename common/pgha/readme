#demo steps

#purge all
./purge.sh

#initialize and start master database
./build_master.sh

#do full back up for master database
./base_backup.sh

#initialize slave database and setup replication
./build_slave.sh

#configure and start primary/secondary pgbouncer proxies
#these two proxies are both pointing to master database
./pgbouncer_master.sh

#insert data into master database, primary pgbouncer proxy and secondary pgbouncer proxy
#check data had been replicated to slave database correctly
./test_replication.sh

./failover.sh
./test_replication_reverse.sh

./failback.sh
./test_replication.sh
